<div class="subscribe-header">
    <img src="assets/images/info.jpg" class="img-fluid w-100" alt="Admin &amp;
        Dashboards">
</div>


<div class="subscriber-body">
    <!-- Row start -->
    <div class="row justify-content-center mt-5">

            <img [src]="photo" class="rounded-circle img-fluid img-7x ">


    </div>
    <!-- Row end -->
    <div class="row justify-content-center mt-5">
        <div class="col-xxl-6 col-sm-12 col-6 order-xxl-1 order-xl-2 order-lg-2 order-md-2 order-sm-2">
            <div class="card tile-red">
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-2 align-items-center">
                            <img src="assets/media/money.svg" class="img-4xx rounded" alt="" srcset="">
                        </div>
                        <div class="col-lg-10">
                            <mat-form-field >
                                <input class="fs-2 text-primary" [(ngModel)]="money_categoriel" matInput required [type]="hideMoney ? 'password' : 'text'">
                                <button mat-icon-button matSuffix (click)="hideMoney= !hideMoney"
                                    [attr.aria-label]="'Hide password'"
                                    [attr.aria-pressed]="hideMoney">
                                    <mat-icon>{{hideMoney ? 'visibility_off' :'visibility'}}</mat-icon>
                                </button>
                            </mat-form-field>
                            <h3 class="m-0 fs-3 fw-bolder text-primary">Salaire catégoriel en FCFA</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xxl-6 col-sm-12 col-6 order-xxl-1 order-xl-2 order-lg-2 order-md-2 order-sm-2">
            <div class="card tile-red">
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-2">
                            <img src="assets/media/money.svg" class="img-4xx rounded" alt="" srcset="">
                        </div>
                        <div class="col-lg-10">
                            <mat-form-field >
                                <input class="fs-2 text-primary" [(ngModel)]="money_brut" matInput required [type]="hideMoney ? 'password' : 'text'">
                                <button mat-icon-button matSuffix (click)="hideMoney= !hideMoney"
                                    [attr.aria-label]="'Hide password'"
                                    [attr.aria-pressed]="hideMoney">
                                    <mat-icon>{{hideMoney ? 'visibility_off' :'visibility'}}</mat-icon>
                                </button>
                            </mat-form-field>
                            <h3 class="m-0 fs-3 fw-bolder text-primary">Salaire brut en FCFA</h3>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <!-- Row start -->
    <div class="row justify-content-center mt-5">
        <div class="col-xxl-12 col-sm-12 col-12 order-xxl-1 order-xl-2 order-lg-2 order-md-2 order-sm-2">

            <div class="card">
                <div class="card-header">
                    <div class="card-title">Information personnelle</div>
                </div>
                <div class="card-body">
                    <div class="row gx-3 mt-3 ">

                        <div class="col-md-3 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Prénom <code
                                        class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="first_name"
                                    matInput
                                    [readonly]="is_disabled == true"
                                    placeholder="Prénom">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Nom de famille <code
                                        class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="last_name"
                                    [readonly]="is_disabled == true"
                                    matInput
                                    placeholder="Nom de famille">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Profession<code
                                        class="fs-4">*</code></mat-label>
                                <input  [(ngModel)]="profession"
                                    matInput
                                    [readonly]="is_disabled == true"
                                    placeholder="Profession ">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Intitulé du diplôme <code
                                        class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="diplome"
                                    [readonly]="is_disabled == true"
                                    matInput placeholder="Intitulé du diplôme">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Genre<code
                                        class="fs-4">*</code></mat-label>
                                <mat-select [disabled]="is_disabled == true"
                                    [(value)]="selectedGenreOption"
                                    (selectionChange)="selectGenre($event)">
                                    @for (item_genre of list_genre; track $index) {
                                        <mat-option *
                                            [value]="item_genre.genre">{{
                                            item_genre.genre }}
                                        </mat-option>
                                    }
                                </mat-select>
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Adresse email <code
                                        class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="adresse_email"
                                    type="email" matInput [readonly]="is_disabled == true"
                                    placeholder="Adresse email">
                            </mat-form-field>
                        </div>


                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Numéro téléphone
                                    <code class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="phone" type="tel" [readonly]="is_disabled == true"
                                    matInput placeholder="Numéro téléphone">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Date de naissance
                                    <code class="fs-4">*</code></mat-label>
                                <input
                                    [(ngModel)]="date_naissance"
                                    matInput
                                    [readonly]="is_disabled == true"
                                    [matDatepicker]="pickerDateNaissance">
                                <mat-datepicker-toggle matIconSuffix [for]="pickerDateNaissance"></mat-datepicker-toggle>
                                <mat-datepicker #pickerDateNaissance></mat-datepicker>
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Lieu de naissance
                                    <code class="fs-4">*</code></mat-label>
                                <input
                                    [(ngModel)]="lieu_naissance"
                                    [readonly]="is_disabled == true"
                                    matInput placeholder="Lieu de naissance">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Lieu de résidence
                                    <code class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="lieu_residence"
                                    [readonly]="is_disabled == true"
                                    matInput placeholder="Lieu de résidence">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Nationalité
                                    <code class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="nationalite"
                                    matInput
                                    [readonly]="is_disabled == true"
                                    placeholder="Nationalité">
                            </mat-form-field>
                        </div>
                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Antécédent medical
                                    <code
                                        class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="antecedant_medicaux"
                                    matInput
                                    [readonly]="is_disabled == true"
                                    placeholder="Antécédent medical">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Nombre de personnes à charge
                                    <code
                                        class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="personne_a_charge"
                                    matInput
                                    [readonly]="is_disabled == true"
                                    placeholder="Nombre de personnes à charge">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Situation Matrimoniale
                                    <code
                                        class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="situation_matrimoniale"
                                    matInput
                                    [readonly]="is_disabled == true"
                                    placeholder="Situation Matrimoniale">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Nom du conjoint
                                    <code
                                        class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="conjoint_name"
                                    matInput
                                    [readonly]="is_disabled == true"
                                    placeholder="Nom du conjoint">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Contact du conjoint
                                    <code
                                        class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="contact_conjoint"
                                    matInput
                                    [readonly]="is_disabled == true"
                                    placeholder="Contact du conjoint">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Personne à contacter
                                    <code
                                        class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="personne_a_contacter"
                                    matInput
                                    [readonly]="is_disabled == true"
                                    placeholder="Personne à contacter">
                            </mat-form-field>
                        </div>

                   

                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Contact de la personne à contacter
                                    <code
                                        class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="contact_personne_a_contacter"
                                    matInput
                                    [readonly]="is_disabled == true"
                                    placeholder="Contact de la personne à contacter">
                            </mat-form-field>
                        </div>


                        <div class="col-md-3 col-sm-6 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Situation Matrimoniale<code
                                        class="fs-4">*</code></mat-label>
                                <mat-select
                                    [disabled]="is_disabled == true"
                                    [(value)]="selectedSituationMatrimonialeOption"
                                    (selectionChange)="selectSituationMatrimoniale($event)">
                                    @for (item_situation of list_situation_matrimoniale; track $index) {
                                        <mat-option
                                            [value]="item_situation.situation_matrimoniale">{{
                                                item_situation.situation_matrimoniale }}
                                        </mat-option>
                                    }
                                </mat-select>
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Nombre d'enfants à charge
                                    <code class="fs-4">*</code></mat-label>
                                <input type="number" [(ngModel)]="nombre_enfant_a_charge"
                                    [readonly]="is_disabled == true"
                                    matInput placeholder="Nombre d'enfants à charge">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>Type de pièce<code
                                        class="fs-4">*</code></mat-label>
                                <mat-select
                                    [disabled]="is_disabled == true"
                                    [(value)]="selectedPieceOption"
                                    (selectionChange)="selectPiece($event)">
                                    @for (item_piece of list_piece; track $index) {
                                        <mat-option
                                            [value]="item_piece.piece">{{
                                                item_piece.piece }}
                                        </mat-option>
                                    }
                                </mat-select>
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>N° Pièce d'identité
                                    <code class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="piece_number"
                                    matInput
                                    [readonly]="is_disabled == true"
                                    placeholder="N° Pièce d'identité">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3 col-lg-3">
                            <mat-form-field
                                appearance="outline">
                                <mat-label>N° CNPS
                                    <code class="fs-4">*</code></mat-label>
                                <input [(ngModel)]="cnps_number"
                                    [readonly]="is_disabled == true"
                                    matInput placeholder="N° CNPS">
                            </mat-form-field>
                        </div>

                        <div class="mt-3 text-center">
                            @if (is_disabled == true) {
                                <button (click)="edited('1000ms','1000ms')" mat-fab extended color="primary">
                                    <mat-icon>edit_square</mat-icon>
                                    Editer
                                </button>
                            }
                            @if (is_disabled == false) {
                                <button (click)="cancel()" class="me-3" mat-fab extended color="warn">
                                    <mat-icon>cancel</mat-icon>
                                    annuler
                                </button>
                            }
                            @if (is_disabled == false) {
                                <button (click)="updateEmployeInformationPersonnelle()"  mat-fab extended color="primary">
                                    <mat-icon>update</mat-icon>
                                    Modifier les informations
                                </button>
                            }
                        </div>

                    </div>
                </div>
            </div>

        </div>

        <div class="col-xxl-12 col-sm-12 col-12 order-xxl-3 order-xl-3 order-lg-3 order-md-3 order-sm-3">

            <div class="card">
                <div class="card-header">
                    <div class="card-title">Information professionnelle</div>
                </div>
                <div class="card-body">
                    <div class="row g-2">
                        <ul class="list-group">

                            <li class="fs-4 list-group-item d-flex justify-content-between align-items-center">
                                Fonction
                                <span class="badge shade-green rounded-pill">{{ fonction }}</span>
                            </li>
                            <li class="fs-4 list-group-item d-flex justify-content-between align-items-center">
                                Service
                                <span class="badge shade-green rounded-pill">{{ service }}</span>
                            </li>

                            <li class="fs-4 list-group-item d-flex justify-content-between align-items-center">
                                Lieu de travail
                                <span class="badge shade-green rounded-pill">{{ bureau }}</span>
                            </li>

                            <li class="fs-4 list-group-item d-flex justify-content-between align-items-center">
                                Contrat
                                <span class="badge shade-green rounded-pill">{{ contrats }}</span>
                            </li>

                            <li class="fs-4 list-group-item d-flex justify-content-between align-items-center">
                                Date d'embauche
                                <span class="badge shade-green rounded-pill">{{ date_embauche | date: 'd MMMM yyyy ' }}</span>
                            </li>

                            <li class="fs-4 list-group-item d-flex justify-content-between align-items-center">
                                Catégorie professionnelle
                                <span class="badge shade-green rounded-pill">{{ categorie_pro  }}</span>
                            </li>
                        </ul>

                    </div>
                </div>
            </div>

        </div>
    </div>
    <!-- Row end -->
</div>


<ngx-spinner type = "ball-circus" size = "large" color = "#ef8f01" [fullScreen] = "true">
    <p style="color: #fff; font-size: 1.2rem" > Chargement en cours... </p>
</ngx-spinner>
