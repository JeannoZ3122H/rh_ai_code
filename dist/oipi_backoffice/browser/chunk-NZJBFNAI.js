import{a as St}from"./chunk-7G4ZA2KV.js";import{a as Tt,b as $e,c as et}from"./chunk-THRAB5HM.js";import"./chunk-UFOIYNCG.js";import{a as te,b as Z,c as We,e as Me,f as we,g as $,h as J,i as N,k as z,l as Re,m as yt,n as Et,o as bt,p as Mt,q as wt}from"./chunk-GJJTSN4U.js";import{a as K,b as Ct,c as xt}from"./chunk-NI5NDY4P.js";import{$ as _t,Aa as ye,Ba as Ee,Ca as be,Da as je,G as oe,H as re,I as ae,J as L,L as le,La as ht,Ma as vt,O as Y,Oa as j,P as se,Q as me,Sa as q,Ta as H,Ua as Qe,X as de,Y as ce,Z as pe,_ as ut,ba as R,ca as ft,fa as ue,ha as gt,i as dt,ia as _e,ja as fe,k as ct,la as Le,m as U,n as pt,q as V,qa as ge,ra as he,sa as X,ta as ve,va as Se,wa as Ce,x as Ve,ya as xe}from"./chunk-H4TFYNCJ.js";import{$b as w,Ab as h,Bb as G,Db as A,Eb as O,Fb as e,Gb as t,Hb as b,Kc as lt,Lb as M,Mc as Ke,Ob as C,Pc as st,Qb as v,Qc as mt,Wc as Be,Yb as k,Za as Ae,Zb as i,Zc as B,_b as S,ac as Oe,bb as a,bc as x,cb as g,cc as y,da as He,dc as E,ec as Je,fc as F,hc as ee,jc as D,lc as I,na as P,oa as ze,tb as T,ub as Xe,vb as f,vc as Ye,wb as Ze,xa as p,ya as u,yb as Ge}from"./chunk-RHRPDK35.js";var kt=(()=>{let m=class m{constructor(o,r,n,c,_,s,W){this._notificationService=o,this._traitements=r,this._loading=n,this._router=c,this._userData=_,this._permission=s,this._conge=W,this.employe_matricule="",this.list_pointage=[],this.customer_conge_counter=0,this.customer_permission_counter=0,this.list_conges=[],this.list_customer_conges=[],this.conge_counter=0,this.list_permissions=[],this.list_customer_permissions=[],this.permission_counter=0,this.p=1,this.new_date=new Date}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getStatistiqueData(),this.getCustomerAttendanceList()}formatTimeToHours(o){let[r,n]=o.split("h").map(Number);return r}getStatistiqueData(){this._loading.show_loading(),this._traitements.getCustomersAttendanceStatistique(this.employe_matricule).subscribe({next:o=>{setTimeout(()=>{this.total_worked_hours=this.additionnerListeHeures(o.total_of_mounth),this.total_weeks_hours=this.additionnerListeHeures(o.total_of_week),this.total_today_hours=this.additionnerListeHeures(o.total_of_today),this.progess_total_weeks_hours=this.formatTimeToHours(this.total_weeks_hours),this.progress_total_today_hours=this.formatTimeToHours(this.total_today_hours),this.progress_total_worked_hours=this.formatTimeToHours(this.total_worked_hours),this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getCustomerAttendanceList(){this._loading.show_loading(),this._traitements.getCustomersAttendance(this.employe_matricule).subscribe({next:o=>{setTimeout(()=>{this.list_pointage=o,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}additionnerListeHeures(o){if(o.length!=0){let r=o.reduce((s,W)=>{let[ne,qe]=W.split(":"),Gt=parseInt(ne)*60,Jt=parseInt(qe);return s+Gt+Jt},0),n=Math.floor(r/60),c=r%60;return`${n.toString().padStart(2,"0")}h:${c.toString().padStart(2,"0")}`}else return"00h00"}getCustomerCongesList(){this._loading.show_loading(),this._conge.getCustomerConge(this.employe_matricule).subscribe({next:o=>{setTimeout(()=>{console.log(o),this.list_customer_conges=o,this.customer_conge_counter=this.list_customer_conges.length,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getCustomerPermissions(){this._loading.show_loading(),this._permission.getCustomerPermission(this.employe_matricule).subscribe({next:o=>{setTimeout(()=>{this.list_customer_permissions=o,this.customer_permission_counter=this.list_customer_permissions.length,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(r){return new(r||m)(g(H),g(q),g(z),g(U),g(K),g(We),g(Re))},m.\u0275cmp=P({type:m,selectors:[["app-employees-welcome"]],standalone:!0,features:[F],decls:38,vars:6,consts:[[1,"hero-header"],[1,"container-fluid"],[1,"hero-body"],[1,"row","gx-3"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","gutters"],[1,"col-sm-6","col-12"],[1,"mt-1"],[1,"d-flex","align-items-center","mb-4"],[1,"box-bdr-red","p-3","rounded-5","font-3xx","text-yellow"],[1,"ms-3"],[1,"fw-bolder","text-danger","fs-4"],[1,"fw-bolder","text-light"],[1,"progress","medium"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","shade-yellow"],[1,"box-bdr-green","p-3","rounded-5","font-3xx","text-green"],["role","progressbar","aria-valuenow","80","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","shade-green"]],template:function(r,n){r&1&&(e(0,"div",0),b(1,"div",1),t(),e(2,"div",2)(3,"div",1)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),i(9,"Vue d'ensemble"),t()(),e(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"span",13)(16,"mat-icon"),i(17,"schedule"),t()(),e(18,"div",14)(19,"h3",15),i(20),t(),e(21,"h2",16),i(22,"Nombre de permission"),t()()(),e(23,"div",17),b(24,"div",18),t()()(),e(25,"div",10)(26,"div",11)(27,"div",12)(28,"span",19)(29,"mat-icon"),i(30,"schedule"),t()(),e(31,"div",14)(32,"h3",15),i(33),t(),e(34,"h2",16),i(35,"Nombre de cong\xE9"),t()()(),e(36,"div",17),b(37,"div",20),t()()()()()()()()()()),r&2&&(a(20),S(n.customer_permission_counter),a(4),Ze("width",n.progress_total_today_hours+"%"),a(9),S(n.customer_conge_counter),a(4),Ze("width",n.progess_total_weeks_hours+"%"))},dependencies:[B,j,L,$]});let l=m;return l})();function Yt(l,m){if(l&1&&(e(0,"mat-option",31),i(1),t()),l&2){let d=v().$implicit;f("value",d.genre),a(),w("",d.genre," ")}}function Kt(l,m){l&1&&T(0,Yt,2,2,"mat-option",59)}function Qt(l,m){if(l&1&&(e(0,"mat-option",31),i(1),t()),l&2){let d=m.$implicit;f("value",d.situation_matrimoniale),a(),w("",d.situation_matrimoniale," ")}}function Xt(l,m){if(l&1&&(e(0,"mat-option",31),i(1),t()),l&2){let d=m.$implicit;f("value",d.piece),a(),w("",d.piece," ")}}function Zt(l,m){if(l&1){let d=M();e(0,"button",60),C("click",function(){p(d);let r=v();return u(r.edited("1000ms","1000ms"))}),e(1,"mat-icon"),i(2,"edit_square"),t(),i(3," Editer "),t()}}function $t(l,m){if(l&1){let d=M();e(0,"button",61),C("click",function(){p(d);let r=v();return u(r.cancel())}),e(1,"mat-icon"),i(2,"cancel"),t(),i(3," annuler "),t()}}function ei(l,m){if(l&1){let d=M();e(0,"button",60),C("click",function(){p(d);let r=v();return u(r.updateEmployeInformationPersonnelle())}),e(1,"mat-icon"),i(2,"update"),t(),i(3," Modifier les informations "),t()}}var Vt=(()=>{let m=class m{constructor(o,r,n,c,_,s,W){this._notificationService=o,this._traitement=r,this._router=n,this._loadings=c,this._userData=_,this._location=s,this._dialogs=W,this.user_name="",this.photo="",this.current_route="",this.code_autorisation="",this.code_owners="",this.first_name="",this.last_name="",this.diplome="",this.matricule="",this.adresse_email="",this.telephone="",this.nombre_enfant_a_charge=0,this.nationalite="",this.date_naissance=new Date,this.lieu_naissance="",this.piece_number="",this.lieu_residence="",this.cnps_number="",this.personne_a_contacter="",this.contact_personne_a_contacter="",this.nombre_personne_a_charge="",this.personne_a_charge="",this.conjoint_name="",this.contact_conjoint="",this.antecedant_medicaux="",this.is_disabled=!0,this.is_disabled_contrats=!0,this.profession="",this.date_embauche="",this.salaire_categoriel=0,this.salaire_net_mensuel=0,this.old_image="",this.img_update=!0,this.hideMoney=!0,this.money_categoriel=0,this.money_brut=0,this.list_fonction=[],this.list_service=[],this.list_genre=[{id:1,genre:"Homme"},{id:2,genre:"Femme"}],this.list_piece=[{id:1,piece:"Carte Nationale d'Identit\xE9"},{id:2,piece:"PassePort"}],this.list_situation_matrimoniale=[{id:1,situation_matrimoniale:"C\xE9libataire"},{id:2,situation_matrimoniale:"Mari\xE9(e)"},{id:3,situation_matrimoniale:"Veuf(ve)"},{id:3,situation_matrimoniale:"Divorc\xE9(e)"}],this.list_categorie_pro=[],this.list_contrats=[],this.list_bureau=[],this.phone="",this.screenWidth=window.innerWidth,window.onresize=()=>{this.screenWidth=window.innerWidth},this._router.events.subscribe(ne=>{ne instanceof dt&&(this.current_route=ne.url)})}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getEmployeProfilInfo()}back(){this._location.back()}edited(o,r){this._dialogs.open(St,{width:"auto",enterAnimationDuration:o,exitAnimationDuration:r}).afterClosed().subscribe({next:c=>{c.code_authorization_data.code?(this.code_autorisation=c.code_authorization_data.code,this.code_owners=c.code_authorization_data.owners,this.is_disabled=!1):this.is_disabled=!1}})}cancel(){this.is_disabled=!0}selectGenre(o){this.genre=o.value}selectPiece(o){this.piece=o.value}selectSituationMatrimoniale(o){this.situation_matrimoniale=o.value}getEmployeProfilInfo(){this._traitement.getEmployeProfilInfo(this.employe_matricule).subscribe({next:o=>{this.first_name=o.employe_info_perso.first_name,this.matricule=o.employe_info_perso.matricule,this.last_name=o.employe_info_perso.last_name,this.diplome=o.employe_info_perso.diplome,this.adresse_email=o.employe_info_perso.adresse_email,this.date_naissance=o.employe_info_perso.date_naissance,this.lieu_naissance=o.employe_info_perso.lieu_naissance,this.cnps_number=o.employe_info_perso.cnps_number,this.piece_number=o.employe_info_perso.piece_number,this.nationalite=o.employe_info_perso.nationalite,this.nombre_enfant_a_charge=o.employe_info_perso.nombre_enfant_a_charge,this.lieu_residence=o.employe_info_perso.lieu_residence,this.selectedSituationMatrimonialeOption=o.employe_info_perso.situation_matrimoniale,this.selectedGenreOption=o.employe_info_perso.genre,this.selectedPieceOption=o.employe_info_perso.type_piece,this.phone=o.employe_info_perso.phone,this.photo=o.employe_info_perso.photo,this.item_slug_info=o.employe_info_perso.slug,this.personne_a_contacter=o.employe_info_perso.personne_a_contacter,this.personne_a_charge=o.employe_info_perso.personne_a_charge,this.conjoint_name=o.employe_info_perso.conjoint_name,this.contact_conjoint=o.employe_info_perso.contact_conjoint,this.antecedant_medicaux=o.employe_info_perso.antecedant_medicaux,this.contact_personne_a_contacter=o.employe_info_perso.contact_personne_a_contacter,this.situation_matrimoniale=o.employe_info_perso.situation_matrimoniale,this.money_brut=o.employe_info_contrats.salaire_mensuel_net,this.money_categoriel=o.employe_info_contrats.salaire_categoriel,this.profession=o.employe_info_perso.profession,this.old_image=o.employe_info_perso.photo,console.log(o.employe_info_contrats),this.categorie_pro=o.employe_info_contrats.categorie_pro,this.fonction=o.employe_info_contrats.fonction,this.contrats=o.employe_info_contrats.contrats,this.bureau=o.employe_info_contrats.bureau,this.service=o.employe_info_contrats.service,this.date_embauche=o.employe_info_contrats.date_embauche,this.salaire_categoriel=o.employe_info_contrats.salaire_categoriel,this.salaire_net_mensuel=o.employe_info_contrats.salaire_mensuel_net,this.item_slug_contrats=o.employe_info_contrats.slug},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateEmployeInformationPersonnelle(){if(this.first_name==""){this._notificationService.openSnackBarSimpleError("Le nom est obligatoire");return}if(this.last_name==""){this._notificationService.openSnackBarSimpleError("Le pr\xE9nom est obligatoire");return}if(this.diplome==""){this._notificationService.openSnackBarSimpleError("Le dipl\xF4me est obligatoire");return}if(this.adresse_email==""){this._notificationService.openSnackBarSimpleError("L'adresse email est obligatoire");return}if(this.date_naissance==""){this._notificationService.openSnackBarSimpleError("La date de naissance est obligatoire");return}if(this.lieu_naissance==""){this._notificationService.openSnackBarSimpleError("Le lieu de naissance est obligatoire");return}if(this.lieu_residence==""){this._notificationService.openSnackBarSimpleError("Le lieu de residence est obligatoire");return}if(this.phone==""){this._notificationService.openSnackBarSimpleError("Le t\xE9l\xE9phone est obligatoire");return}if(this.nationalite==""){this._notificationService.openSnackBarSimpleError("La nationalit\xE9 est obligatoire");return}if(this.profession==""){this._notificationService.openSnackBarSimpleError("La profession est obligatoire");return}if(this.piece_number==""){this._notificationService.openSnackBarSimpleError("Le num\xE9ro de la pi\xE8ce est obligatoire");return}let o={first_name:this.first_name,last_name:this.last_name,diplome:this.diplome,profession:this.profession,adresse_email:this.adresse_email,phone:this.phone,genre:this.genre==null?this.selectedGenreOption:this.genre,situation_matrimoniale:this.situation_matrimoniale==null?this.selectedSituationMatrimonialeOption:this.situation_matrimoniale,date_naissance:this.date_naissance,lieu_naissance:this.lieu_naissance,lieu_residence:this.lieu_residence,code_autorisation:this.code_autorisation,code_owners:this.code_owners,nationalite:this.nationalite,type_piece:this.piece==null?this.selectedPieceOption:this.piece,piece_number:this.piece_number,cnps_number:this.cnps_number,nombre_enfant_a_charge:this.nombre_enfant_a_charge,personne_a_contacter:this.personne_a_contacter,personne_a_charge:this.personne_a_charge,conjoint_name:this.conjoint_name,contact_conjoint:this.contact_conjoint,antecedant_medicaux:this.antecedant_medicaux,contact_personne_a_contacter:this.contact_personne_a_contacter};this._loadings.show_loading(),this._traitement.updateEmployes(o,this.item_slug_info).subscribe({next:r=>{r.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(r),this._loadings.hide_loading(),this.is_disabled=!0},1e3):(r.code==302||r.code==300)&&(this._loadings.hide_loading(),this._notificationService.openSnackBarError(r))},error:r=>{r.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(r){return new(r||m)(g(H),g(q),g(U),g(z),g(K),g(lt),g(X))},m.\u0275cmp=P({type:m,selectors:[["app-employees-profil"]],standalone:!0,features:[F],decls:252,vars:72,consts:[["pickerDateNaissance",""],[1,"subscribe-header"],["src","assets/images/info.jpg","alt",`Admin &
        Dashboards`,1,"img-fluid","w-100"],[1,"subscriber-body"],[1,"row","justify-content-center","mt-5"],[1,"rounded-circle","img-fluid","img-7x",3,"src"],[1,"col-xxl-6","col-sm-12","col-6","order-xxl-1","order-xl-2","order-lg-2","order-md-2","order-sm-2"],[1,"card","tile-red"],[1,"card-body"],[1,"row"],[1,"col-lg-2","align-items-center"],["src","assets/media/money.svg","alt","","srcset","",1,"img-4xx","rounded"],[1,"col-lg-10"],["matInput","","required","",1,"fs-2","text-primary",3,"ngModelChange","ngModel","type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"m-0","fs-3","fw-bolder","text-primary"],[1,"col-lg-2"],[1,"col-xxl-12","col-sm-12","col-12","order-xxl-1","order-xl-2","order-lg-2","order-md-2","order-sm-2"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"row","gx-3","mt-3"],[1,"col-md-3","col-lg-3"],["appearance","outline"],[1,"fs-4"],["matInput","","placeholder","Pr\xE9nom",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nom de famille",3,"ngModelChange","ngModel","readonly"],[1,"col-md-3","col-sm-6","col-lg-3"],["matInput","","placeholder","Profession ",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Intitul\xE9 du dipl\xF4me",3,"ngModelChange","ngModel","readonly"],[3,"valueChange","selectionChange","disabled","value"],[3,"value"],["type","email","matInput","","placeholder","Adresse email",3,"ngModelChange","ngModel","readonly"],["type","tel","matInput","","placeholder","Num\xE9ro t\xE9l\xE9phone",3,"ngModelChange","ngModel","readonly"],["matInput","",3,"ngModelChange","ngModel","readonly","matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","placeholder","Lieu de naissance",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Lieu de r\xE9sidence",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nationalit\xE9",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Ant\xE9c\xE9dent medical",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nombre de personnes \xE0 charge",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Situation Matrimoniale",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nom du conjoint",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Contact du conjoint",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Personne \xE0 contacter",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Contact de la personne \xE0 contacter",3,"ngModelChange","ngModel","readonly"],["type","number","matInput","","placeholder","Nombre d'enfants \xE0 charge",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","N\xB0 Pi\xE8ce d'identit\xE9",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","N\xB0 CNPS",3,"ngModelChange","ngModel","readonly"],[1,"mt-3","text-center"],["mat-fab","","extended","","color","primary"],["mat-fab","","extended","","color","warn",1,"me-3"],[1,"col-xxl-12","col-sm-12","col-12","order-xxl-3","order-xl-3","order-lg-3","order-md-3","order-sm-3"],[1,"row","g-2"],[1,"list-group"],[1,"fs-4","list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge","shade-green","rounded-pill"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[3,"value",4,""],["mat-fab","","extended","","color","primary",3,"click"],["mat-fab","","extended","","color","warn",1,"me-3",3,"click"]],template:function(r,n){if(r&1){let c=M();e(0,"div",1),b(1,"img",2),t(),e(2,"div",3)(3,"div",4),b(4,"img",5),t(),e(5,"div",4)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),b(11,"img",11),t(),e(12,"div",12)(13,"mat-form-field")(14,"input",13),E("ngModelChange",function(s){return p(c),y(n.money_categoriel,s)||(n.money_categoriel=s),u(s)}),t(),e(15,"button",14),C("click",function(){return p(c),u(n.hideMoney=!n.hideMoney)}),e(16,"mat-icon"),i(17),t()()(),e(18,"h3",15),i(19,"Salaire cat\xE9goriel en FCFA"),t()()()()()(),e(20,"div",6)(21,"div",7)(22,"div",8)(23,"div",9)(24,"div",16),b(25,"img",11),t(),e(26,"div",12)(27,"mat-form-field")(28,"input",13),E("ngModelChange",function(s){return p(c),y(n.money_brut,s)||(n.money_brut=s),u(s)}),t(),e(29,"button",14),C("click",function(){return p(c),u(n.hideMoney=!n.hideMoney)}),e(30,"mat-icon"),i(31),t()()(),e(32,"h3",15),i(33,"Salaire brut en FCFA"),t()()()()()()(),e(34,"div",4)(35,"div",17)(36,"div",18)(37,"div",19)(38,"div",20),i(39,"Information personnelle"),t()(),e(40,"div",8)(41,"div",21)(42,"div",22)(43,"mat-form-field",23)(44,"mat-label"),i(45,"Pr\xE9nom "),e(46,"code",24),i(47,"*"),t()(),e(48,"input",25),E("ngModelChange",function(s){return p(c),y(n.first_name,s)||(n.first_name=s),u(s)}),t()()(),e(49,"div",22)(50,"mat-form-field",23)(51,"mat-label"),i(52,"Nom de famille "),e(53,"code",24),i(54,"*"),t()(),e(55,"input",26),E("ngModelChange",function(s){return p(c),y(n.last_name,s)||(n.last_name=s),u(s)}),t()()(),e(56,"div",27)(57,"mat-form-field",23)(58,"mat-label"),i(59,"Profession"),e(60,"code",24),i(61,"*"),t()(),e(62,"input",28),E("ngModelChange",function(s){return p(c),y(n.profession,s)||(n.profession=s),u(s)}),t()()(),e(63,"div",22)(64,"mat-form-field",23)(65,"mat-label"),i(66,"Intitul\xE9 du dipl\xF4me "),e(67,"code",24),i(68,"*"),t()(),e(69,"input",29),E("ngModelChange",function(s){return p(c),y(n.diplome,s)||(n.diplome=s),u(s)}),t()()(),e(70,"div",27)(71,"mat-form-field",23)(72,"mat-label"),i(73,"Genre"),e(74,"code",24),i(75,"*"),t()(),e(76,"mat-select",30),E("valueChange",function(s){return p(c),y(n.selectedGenreOption,s)||(n.selectedGenreOption=s),u(s)}),C("selectionChange",function(s){return p(c),u(n.selectGenre(s))}),A(77,Kt,1,0,"mat-option",31,G),t()()(),e(79,"div",27)(80,"mat-form-field",23)(81,"mat-label"),i(82,"Adresse email "),e(83,"code",24),i(84,"*"),t()(),e(85,"input",32),E("ngModelChange",function(s){return p(c),y(n.adresse_email,s)||(n.adresse_email=s),u(s)}),t()()(),e(86,"div",27)(87,"mat-form-field",23)(88,"mat-label"),i(89,"Num\xE9ro t\xE9l\xE9phone "),e(90,"code",24),i(91,"*"),t()(),e(92,"input",33),E("ngModelChange",function(s){return p(c),y(n.phone,s)||(n.phone=s),u(s)}),t()()(),e(93,"div",27)(94,"mat-form-field",23)(95,"mat-label"),i(96,"Date de naissance "),e(97,"code",24),i(98,"*"),t()(),e(99,"input",34),E("ngModelChange",function(s){return p(c),y(n.date_naissance,s)||(n.date_naissance=s),u(s)}),t(),b(100,"mat-datepicker-toggle",35)(101,"mat-datepicker",null,0),t()(),e(103,"div",27)(104,"mat-form-field",23)(105,"mat-label"),i(106,"Lieu de naissance "),e(107,"code",24),i(108,"*"),t()(),e(109,"input",36),E("ngModelChange",function(s){return p(c),y(n.lieu_naissance,s)||(n.lieu_naissance=s),u(s)}),t()()(),e(110,"div",27)(111,"mat-form-field",23)(112,"mat-label"),i(113,"Lieu de r\xE9sidence "),e(114,"code",24),i(115,"*"),t()(),e(116,"input",37),E("ngModelChange",function(s){return p(c),y(n.lieu_residence,s)||(n.lieu_residence=s),u(s)}),t()()(),e(117,"div",27)(118,"mat-form-field",23)(119,"mat-label"),i(120,"Nationalit\xE9 "),e(121,"code",24),i(122,"*"),t()(),e(123,"input",38),E("ngModelChange",function(s){return p(c),y(n.nationalite,s)||(n.nationalite=s),u(s)}),t()()(),e(124,"div",27)(125,"mat-form-field",23)(126,"mat-label"),i(127,"Ant\xE9c\xE9dent medical "),e(128,"code",24),i(129,"*"),t()(),e(130,"input",39),E("ngModelChange",function(s){return p(c),y(n.antecedant_medicaux,s)||(n.antecedant_medicaux=s),u(s)}),t()()(),e(131,"div",27)(132,"mat-form-field",23)(133,"mat-label"),i(134,"Nombre de personnes \xE0 charge "),e(135,"code",24),i(136,"*"),t()(),e(137,"input",40),E("ngModelChange",function(s){return p(c),y(n.personne_a_charge,s)||(n.personne_a_charge=s),u(s)}),t()()(),e(138,"div",27)(139,"mat-form-field",23)(140,"mat-label"),i(141,"Situation Matrimoniale "),e(142,"code",24),i(143,"*"),t()(),e(144,"input",41),E("ngModelChange",function(s){return p(c),y(n.situation_matrimoniale,s)||(n.situation_matrimoniale=s),u(s)}),t()()(),e(145,"div",27)(146,"mat-form-field",23)(147,"mat-label"),i(148,"Nom du conjoint "),e(149,"code",24),i(150,"*"),t()(),e(151,"input",42),E("ngModelChange",function(s){return p(c),y(n.conjoint_name,s)||(n.conjoint_name=s),u(s)}),t()()(),e(152,"div",27)(153,"mat-form-field",23)(154,"mat-label"),i(155,"Contact du conjoint "),e(156,"code",24),i(157,"*"),t()(),e(158,"input",43),E("ngModelChange",function(s){return p(c),y(n.contact_conjoint,s)||(n.contact_conjoint=s),u(s)}),t()()(),e(159,"div",27)(160,"mat-form-field",23)(161,"mat-label"),i(162,"Personne \xE0 contacter "),e(163,"code",24),i(164,"*"),t()(),e(165,"input",44),E("ngModelChange",function(s){return p(c),y(n.personne_a_contacter,s)||(n.personne_a_contacter=s),u(s)}),t()()(),e(166,"div",27)(167,"mat-form-field",23)(168,"mat-label"),i(169,"Contact de la personne \xE0 contacter "),e(170,"code",24),i(171,"*"),t()(),e(172,"input",45),E("ngModelChange",function(s){return p(c),y(n.contact_personne_a_contacter,s)||(n.contact_personne_a_contacter=s),u(s)}),t()()(),e(173,"div",27)(174,"mat-form-field",23)(175,"mat-label"),i(176,"Situation Matrimoniale"),e(177,"code",24),i(178,"*"),t()(),e(179,"mat-select",30),E("valueChange",function(s){return p(c),y(n.selectedSituationMatrimonialeOption,s)||(n.selectedSituationMatrimonialeOption=s),u(s)}),C("selectionChange",function(s){return p(c),u(n.selectSituationMatrimoniale(s))}),A(180,Qt,2,2,"mat-option",31,G),t()()(),e(182,"div",22)(183,"mat-form-field",23)(184,"mat-label"),i(185,"Nombre d'enfants \xE0 charge "),e(186,"code",24),i(187,"*"),t()(),e(188,"input",46),E("ngModelChange",function(s){return p(c),y(n.nombre_enfant_a_charge,s)||(n.nombre_enfant_a_charge=s),u(s)}),t()()(),e(189,"div",22)(190,"mat-form-field",23)(191,"mat-label"),i(192,"Type de pi\xE8ce"),e(193,"code",24),i(194,"*"),t()(),e(195,"mat-select",30),E("valueChange",function(s){return p(c),y(n.selectedPieceOption,s)||(n.selectedPieceOption=s),u(s)}),C("selectionChange",function(s){return p(c),u(n.selectPiece(s))}),A(196,Xt,2,2,"mat-option",31,G),t()()(),e(198,"div",22)(199,"mat-form-field",23)(200,"mat-label"),i(201,"N\xB0 Pi\xE8ce d'identit\xE9 "),e(202,"code",24),i(203,"*"),t()(),e(204,"input",47),E("ngModelChange",function(s){return p(c),y(n.piece_number,s)||(n.piece_number=s),u(s)}),t()()(),e(205,"div",22)(206,"mat-form-field",23)(207,"mat-label"),i(208,"N\xB0 CNPS "),e(209,"code",24),i(210,"*"),t()(),e(211,"input",48),E("ngModelChange",function(s){return p(c),y(n.cnps_number,s)||(n.cnps_number=s),u(s)}),t()()(),e(212,"div",49),T(213,Zt,4,0,"button",50)(214,$t,4,0,"button",51)(215,ei,4,0,"button",50),t()()()()(),e(216,"div",52)(217,"div",18)(218,"div",19)(219,"div",20),i(220,"Information professionnelle"),t()(),e(221,"div",8)(222,"div",53)(223,"ul",54)(224,"li",55),i(225," Fonction "),e(226,"span",56),i(227),t()(),e(228,"li",55),i(229," Service "),e(230,"span",56),i(231),t()(),e(232,"li",55),i(233," Lieu de travail "),e(234,"span",56),i(235),t()(),e(236,"li",55),i(237," Contrat "),e(238,"span",56),i(239),t()(),e(240,"li",55),i(241," Date d'embauche "),e(242,"span",56),i(243),D(244,"date"),t()(),e(245,"li",55),i(246," Cat\xE9gorie professionnelle "),e(247,"span",56),i(248),t()()()()()()()()(),e(249,"ngx-spinner",57)(250,"p",58),i(251," Chargement en cours... "),t()()}if(r&2){let c=k(102);a(4),f("src",n.photo,Ae),a(10),x("ngModel",n.money_categoriel),f("type",n.hideMoney?"password":"text"),a(),Xe("aria-label","Hide password")("aria-pressed",n.hideMoney),a(2),S(n.hideMoney?"visibility_off":"visibility"),a(11),x("ngModel",n.money_brut),f("type",n.hideMoney?"password":"text"),a(),Xe("aria-label","Hide password")("aria-pressed",n.hideMoney),a(2),S(n.hideMoney?"visibility_off":"visibility"),a(17),x("ngModel",n.first_name),f("readonly",n.is_disabled==!0),a(7),x("ngModel",n.last_name),f("readonly",n.is_disabled==!0),a(7),x("ngModel",n.profession),f("readonly",n.is_disabled==!0),a(7),x("ngModel",n.diplome),f("readonly",n.is_disabled==!0),a(7),f("disabled",n.is_disabled==!0),x("value",n.selectedGenreOption),a(),O(n.list_genre),a(8),x("ngModel",n.adresse_email),f("readonly",n.is_disabled==!0),a(7),x("ngModel",n.phone),f("readonly",n.is_disabled==!0),a(7),x("ngModel",n.date_naissance),f("readonly",n.is_disabled==!0)("matDatepicker",c),a(),f("for",c),a(9),x("ngModel",n.lieu_naissance),f("readonly",n.is_disabled==!0),a(7),x("ngModel",n.lieu_residence),f("readonly",n.is_disabled==!0),a(7),x("ngModel",n.nationalite),f("readonly",n.is_disabled==!0),a(7),x("ngModel",n.antecedant_medicaux),f("readonly",n.is_disabled==!0),a(7),x("ngModel",n.personne_a_charge),f("readonly",n.is_disabled==!0),a(7),x("ngModel",n.situation_matrimoniale),f("readonly",n.is_disabled==!0),a(7),x("ngModel",n.conjoint_name),f("readonly",n.is_disabled==!0),a(7),x("ngModel",n.contact_conjoint),f("readonly",n.is_disabled==!0),a(7),x("ngModel",n.personne_a_contacter),f("readonly",n.is_disabled==!0),a(7),x("ngModel",n.contact_personne_a_contacter),f("readonly",n.is_disabled==!0),a(7),f("disabled",n.is_disabled==!0),x("value",n.selectedSituationMatrimonialeOption),a(),O(n.list_situation_matrimoniale),a(8),x("ngModel",n.nombre_enfant_a_charge),f("readonly",n.is_disabled==!0),a(7),f("disabled",n.is_disabled==!0),x("value",n.selectedPieceOption),a(),O(n.list_piece),a(8),x("ngModel",n.piece_number),f("readonly",n.is_disabled==!0),a(7),x("ngModel",n.cnps_number),f("readonly",n.is_disabled==!0),a(2),h(213,n.is_disabled==!0?213:-1),a(),h(214,n.is_disabled==!1?214:-1),a(),h(215,n.is_disabled==!1?215:-1),a(12),S(n.fonction),a(4),S(n.service),a(4),S(n.bureau),a(4),S(n.contrats),a(4),S(I(244,69,n.date_embauche,"d MMMM yyyy ")),a(5),S(n.categorie_pro),a(),f("fullScreen",!0)}},dependencies:[B,Be,j,L,me,Y,fe,ue,_e,Le,Ve,xe,ye,Ee,be,V,R,de,ut,ce,_t,pe,N,J]});let l=m;return l})();function ii(l,m){l&1&&(e(0,"button",31)(1,"mat-icon"),i(2,"verified"),t(),i(3," Cong\xE9 approuv\xE9 "),t())}function ni(l,m){l&1&&(e(0,"button",32)(1,"mat-icon"),i(2,"verified"),t(),i(3," Cong\xE9 r\xE9jet\xE9 "),t())}function oi(l,m){l&1&&(e(0,"button",32)(1,"mat-icon"),i(2,"no_accounts"),t(),i(3," Accune action "),t())}function ri(l,m){if(l&1&&(e(0,"div",33)(1,"mat-icon",38),i(2,"notifications"),t(),i(3),t()),l&2){let d=v();a(3),w(" ",d.conge_data.comments," ")}}function ai(l,m){l&1&&(e(0,"button",31)(1,"mat-icon"),i(2,"verified"),t(),i(3," Cong\xE9 approuv\xE9 "),t())}function li(l,m){l&1&&(e(0,"button",37)(1,"mat-icon"),i(2,"verified"),t(),i(3," Cong\xE9 r\xE9jet\xE9 "),t())}function si(l,m){l&1&&(e(0,"button",32)(1,"mat-icon"),i(2,"verified"),t(),i(3," Accune action "),t())}var Lt=(()=>{let m=class m{constructor(o,r){this.data=o,this._dialogRef=r,Ke(Qe)}ngOnInit(){this.data!=null&&(this.conge_data=this.data)}};m.\u0275fac=function(r){return new(r||m)(g(he),g(ge))},m.\u0275cmp=P({type:m,selectors:[["app-customer-detail-conges"]],standalone:!0,features:[Je([{provide:Ye,useValue:"fr-FR"}]),F],decls:120,vars:38,consts:[["mat-dialog-content","",2,"max-height","95vh"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","align-items-center","mb-4"],[1,"col-xl-2","col-sm-3","col-12"],["src","assets/media/logoai.png","width","100","alt","",1,"img-fluid"],[1,"col-xl-10","col-sm-9","col-12"],[1,"text-end","m-0","fw-bolder"],[1,"fw-bolder","fs-5"],[1,"row","gx-3"],[1,"col-sm-12","col-12"],[1,"text-center","mb-3"],[1,"fw-bolder","text-uppercase"],[1,"d-flex","justify-content-end","my-4"],[1,"m-0"],[1,"fw-bolder"],[1,"fw-bolder","text-red","text-uppercase"],[1,"row","gx-3","mb-2"],[1,"col-sm-12","col-12","mb-3"],[1,"fw-bolder","text-red"],[1,"col-12"],[1,"table-responsive","mb-3"],[1,"table","table-bordered"],[1,"text-uppercase"],[1,"text-uppercase","mb-4"],[1,"fw-bolder","mb-4"],[1,"d-flex","justify-content-between"],[1,"text-start","mb-3"],[1,"fw-bolder","text-start"],["mat-fab","","extended","","color","primary"],["mat-fab","","extended","","color","warn"],["role","alert",1,"alert","alert-light","alert-dismissible","fade","show"],[1,"m-0","text-end"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-fab","","extended","","color","primary","mat-dialog-close",""],["mat-fab","","extended","","color","accent"],[1,"text-danger","alert-icon"]],template:function(r,n){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),i(4),t()(),e(5,"div",4)(6,"div",5)(7,"div",6),b(8,"img",7),t(),e(9,"div",8)(10,"p",9)(11,"span",10),i(12,"ALERTE "),b(13,"br"),i(14," Info "),t()()()(),e(15,"div",11)(16,"div",12)(17,"div",13)(18,"h1",14),i(19," demande de cong\xE9 "),t()(),e(20,"div",15)(21,"div")(22,"p",16)(23,"span",17),i(24,"Date d\xE9but de la demande,"),t(),b(25,"br"),e(26,"span",18),i(27),D(28,"transformDate"),t()()()()()(),e(29,"div",19)(30,"div",20)(31,"p",16)(32,"span",17),i(33,"Dur\xE9e du conge,"),t(),b(34,"br"),e(35,"span",17)(36,"span",21),i(37),t(),b(38,"br"),i(39),D(40,"transformDate"),D(41,"transformDate"),t()()()(),e(42,"div",19)(43,"div",20)(44,"p",16)(45,"span",17),i(46,"Objet,"),t(),b(47,"br"),e(48,"span",18),i(49),t()()()(),e(50,"div",11)(51,"div",22)(52,"div",23)(53,"table",24)(54,"thead")(55,"tr")(56,"th")(57,"span",25),i(58,"Nom & Pr\xE9nom"),t()(),e(59,"th")(60,"span",25),i(61,"Fonction"),t()(),e(62,"th")(63,"span",25),i(64,"Service"),t()(),e(65,"th")(66,"span",25),i(67,"Date d\xE9part en cong\xE9"),t()(),e(68,"th")(69,"span",25),i(70,"Date retour en cong\xE9"),t()()()(),e(71,"tbody")(72,"tr")(73,"td")(74,"span",17),i(75),t()(),e(76,"td")(77,"span",17),i(78),t()(),e(79,"td")(80,"span",17),i(81),t()(),e(82,"td")(83,"span",18),i(84),D(85,"transformDate"),t()(),e(86,"td")(87,"span",18),i(88),D(89,"transformDate"),t()()()()()(),e(90,"p",26),i(91,"Motif du cong\xE9: "),t(),e(92,"p",27),i(93),t(),e(94,"div",28)(95,"div")(96,"p",29)(97,"span",30),i(98,"Approbation"),t(),b(99,"br"),T(100,ii,4,0,"button",31)(101,ni,4,0,"button",32)(102,oi,4,0,"button",32),t(),T(103,ri,4,1,"div",33),t(),e(104,"div")(105,"p",34)(106,"span",17),i(107,"Faire \xE0 Abidjan le,"),t(),b(108,"br"),e(109,"span",18),i(110),D(111,"transformDate"),t()()()()()()()()(),e(112,"div",35)(113,"button",36)(114,"mat-icon"),i(115,"reply"),t(),i(116," Fermer "),t(),T(117,ai,4,0,"button",31)(118,li,4,0,"button",37)(119,si,4,0,"button",32),t()),r&2&&(a(4),w("R\xE9f cong\xE9 - #",n.conge_data.conge_ref,""),a(23),S(I(28,20,n.conge_data.date_depart,"d MMMM yyyy")),a(10),w(" ",n.conge_data.duree_conge," "),a(2),Oe(" du ",I(40,23,n.conge_data.date_depart,"dd MMMM yyyy")," au ",I(41,26,n.conge_data.date_retour,"dd MMMM yyyy")," "),a(10),S(n.conge_data.objet_demande),a(26),S(n.conge_data.first_name+" "+n.conge_data.last_name),a(3),S(n.conge_data.fonction),a(3),S(n.conge_data.service),a(3),S(I(85,29,n.conge_data.date_depart,"dd MMMM yyyy")),a(4),S(I(89,32,n.conge_data.date_retour,"dd MMMM yyyy")),a(5),S(n.conge_data.motif),a(7),h(100,n.conge_data.status_on==1?100:-1),a(),h(101,n.conge_data.status_off==1?101:-1),a(),h(102,n.conge_data.status_on==0&&n.conge_data.status_off==0?102:-1),a(),h(103,n.conge_data.status_on==1||n.conge_data.status_off==1?103:-1),a(7),w(" ",I(111,35,n.conge_data.created_at,"dd MMMM yyyy, \xE0 HH:mm")," "),a(7),h(117,n.conge_data.status_on==1?117:-1),a(),h(118,n.conge_data.status_off==1?118:-1),a(),h(119,n.conge_data.status_on==0&&n.conge_data.status_off==0?119:-1))},dependencies:[B,j,L,Y,ve,Ce,Se,V,R,Z,N]});let l=m;return l})();function mi(l,m){if(l&1&&(e(0,"mat-option",18),i(1),t()),l&2){let d=m.$implicit;f("value",d.type_conge),a(),S(d.type_conge)}}function di(l,m){if(l&1&&(e(0,"mat-option",18),i(1),t()),l&2){let d=m.$implicit;f("value",d.employee_matricule),a(),w(" ","Departement: "+d.service," ")}}var jt=(()=>{let m=class m{constructor(o,r,n,c,_,s,W){this._notificationService=o,this._traitement=r,this._router=n,this._loading=c,this._conge=_,this.data=s,this._dialogRef=W,this.list_type_responsable=[],this.list_type_conge=[],this.user_name="",this.user_fonction="",this.user_service="",this.employe_matricule="",this.motif="",this.objet_demande="",this.date_depart=new Date,this.date_retour=new Date,this.items_slug=""}ngOnInit(){this._loading.show_loading(),this.data!=null&&(this.items_slug=this.data),setTimeout(()=>{this.getTypeCongeList(),this.getAllResponsable(),this.getCurrentCongeInfo(),this._loading.hide_loading()},1e3)}getCurrentCongeInfo(){this._conge.editDemandeConge(this.items_slug).subscribe({next:o=>{this.motif=o.motif,this.employe_matricule=o.employe_matricule,this.objet_demande=o.objet_demande,this.selectedTypeCongeOption=o.type_conge,this.selectedTypeResponsableOption=o.destinataire,this.date_depart=new Date(o.date_depart),this.date_retour=new Date(o.date_retour),this.motif=o.motif},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getTypeCongeList(){this._traitement.getTypeConge().subscribe({next:o=>{this.list_type_conge=o},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getAllResponsable(){this._traitement.getAllResponsable().subscribe({next:o=>{this.list_type_responsable=o},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateConge(){let o=this.calculateDifferenceBetweenDates(this.date_depart,this.date_retour),r={date_depart:this.formatDate(this.date_depart).toString(),date_retour:this.formatDate(this.date_retour).toString(),type_conge:this.type_conge==null?this.selectedTypeCongeOption:this.type_conge,destinataire:this.type_responsable==null?this.selectedTypeResponsableOption:this.type_responsable,objet_demande:this.objet_demande,duree_conge:o,motif:this.motif,employe_matricule:this.employe_matricule};this._loading.show_loading(),this._conge.updateDemandeConge(this.items_slug,r).subscribe({next:n=>{n.code==200?(this._notificationService.openSnackBarSuccess(n),setTimeout(()=>{this._loading.hide_loading(),this._dialogRef.close(!0)},1e3)):(n.code==300||n.code==500||n.code==302)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(n))},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}onChangeTypeConge(o){this.type_conge=o.value,this.objet_demande="DEMANDE DE CONGES  "+this.type_conge}onChangeDestinataire(o){this.type_responsable=o.value}calculateDifferenceBetweenDates(o,r){if(o!=null&&r!=null)return Math.abs(r.getTime()-o.getTime())/(1e3*3600*24)+"Jour(s)"}formatDate(o){let r=o.toLocaleString("default",{year:"numeric"}),n=o.toLocaleString("default",{month:"2-digit"}),c=o.toLocaleString("default",{day:"2-digit"});return r+"-"+n+"-"+c}};m.\u0275fac=function(r){return new(r||m)(g(H),g(q),g(U),g(z),g(Re),g(he),g(ge))},m.\u0275cmp=P({type:m,selectors:[["app-full-edit-conges-forms"]],standalone:!0,features:[F],decls:67,vars:11,consts:[["Date_depart",""],["Date_retour",""],["mat-dialog-content","",2,"max-height","95vh"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","gx-3","justify-content-center","mb-3"],[1,"col-12"],[1,"col-lg-6"],["appearance","outline"],["matInput","","placeholder","Ex: 00/00/0000",3,"ngModelChange","ngModel","matDatepicker"],["matIconSuffix","",3,"for"],[1,"row","gx-3","mb-3"],[3,"valueChange","selectionChange","value"],[3,"value"],[1,"col-lg-12"],["matInput","","placeholder","Objet de la demande",3,"ngModelChange","ngModel"],[1,"col-lg-12","mb-3"],["appearance","outline",1,"example-full-width"],["rows","3","matInput","","placeholder","Ex. Le motif du cong\xE9s...",3,"ngModelChange","ngModel"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-fab","","extended","","color","primary","mat-dialog-close",""],["mat-fab","","extended","","color","primary",3,"click"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"]],template:function(r,n){if(r&1){let c=M();e(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8),i(7,"Modification du cong\xE9"),t()(),e(8,"div",9)(9,"div",10)(10,"div",11)(11,"h1"),i(12,"Formulaire de modification de cong\xE9"),t()(),e(13,"div",12)(14,"mat-form-field",13)(15,"mat-label"),i(16,"Date de depart de cong\xE9"),t(),e(17,"input",14),E("ngModelChange",function(s){return p(c),y(n.date_depart,s)||(n.date_depart=s),u(s)}),t(),b(18,"mat-datepicker-toggle",15)(19,"mat-datepicker",null,0),t()(),e(21,"div",12)(22,"mat-form-field",13)(23,"mat-label"),i(24,"Date de retour de cong\xE9"),t(),e(25,"input",14),E("ngModelChange",function(s){return p(c),y(n.date_retour,s)||(n.date_retour=s),u(s)}),t(),b(26,"mat-datepicker-toggle",15)(27,"mat-datepicker",null,1),t()(),e(29,"div",16)(30,"div",12)(31,"mat-form-field")(32,"mat-label"),i(33,"Type de cong\xE9"),t(),e(34,"mat-select",17),E("valueChange",function(s){return p(c),y(n.selectedTypeCongeOption,s)||(n.selectedTypeCongeOption=s),u(s)}),C("selectionChange",function(s){return p(c),u(n.onChangeTypeConge(s))}),A(35,mi,2,2,"mat-option",18,G),t()()(),e(37,"div",12)(38,"mat-form-field")(39,"mat-label"),i(40,"Destinataire"),t(),e(41,"mat-select",17),E("valueChange",function(s){return p(c),y(n.selectedTypeResponsableOption,s)||(n.selectedTypeResponsableOption=s),u(s)}),C("selectionChange",function(s){return p(c),u(n.onChangeDestinataire(s))}),A(42,di,2,2,"mat-option",18,G),t()()()(),e(44,"div",16)(45,"div",19)(46,"mat-form-field")(47,"mat-label"),i(48,"Objet de la demande"),t(),e(49,"input",20),E("ngModelChange",function(s){return p(c),y(n.objet_demande,s)||(n.objet_demande=s),u(s)}),t()()()(),e(50,"div",21)(51,"mat-form-field",22)(52,"mat-label"),i(53,"Le motif du cong\xE9s"),t(),e(54,"textarea",23),E("ngModelChange",function(s){return p(c),y(n.motif,s)||(n.motif=s),u(s)}),t()()()()()()()()()(),e(55,"div",24)(56,"button",25)(57,"mat-icon"),i(58,"reply"),t(),i(59," Fermer "),t(),e(60,"button",26),C("click",function(){return p(c),u(n.updateConge())}),e(61,"mat-icon"),i(62,"save"),t(),i(63," Sauvegarder la modification "),t()(),e(64,"ngx-spinner",27)(65,"p",28),i(66," Chargement en cours... "),t()()}if(r&2){let c=k(20),_=k(28);a(17),x("ngModel",n.date_depart),f("matDatepicker",c),a(),f("for",c),a(7),x("ngModel",n.date_retour),f("matDatepicker",_),a(),f("for",_),a(8),x("value",n.selectedTypeCongeOption),a(),O(n.list_type_conge),a(6),x("value",n.selectedTypeResponsableOption),a(),O(n.list_type_responsable),a(7),x("ngModel",n.objet_demande),a(5),x("ngModel",n.motif),a(10),f("fullScreen",!0)}},dependencies:[B,j,L,Y,fe,ue,_e,Le,Ve,ve,Ce,Se,xe,ye,Ee,be,V,R,de,ce,pe,N,J]});let l=m;return l})();var ci=l=>({itemsPerPage:20,currentPage:l});function pi(l,m){l&1&&(e(0,"button",33)(1,"mat-icon",16),i(2,"verified"),t()())}function ui(l,m){l&1&&(e(0,"button",34)(1,"mat-icon",19),i(2,"verified"),t()())}function _i(l,m){l&1&&(e(0,"button",35)(1,"mat-icon",20),i(2,"unpublished"),t()())}function fi(l,m){if(l&1){let d=M();e(0,"tr")(1,"td",25),i(2),t(),e(3,"td",30),i(4),t(),e(5,"td",25)(6,"p",31),i(7),t()(),e(8,"td",25)(9,"p",31),i(10),t()(),e(11,"td",25)(12,"button",32)(13,"mat-icon"),i(14,"check_circle"),t()()(),e(15,"td",25),T(16,pi,3,0,"button",33)(17,ui,3,0,"button",34)(18,_i,3,0,"button",35),t(),e(19,"td",36)(20,"p",37),i(21),D(22,"transformDate"),t()(),e(23,"td",36)(24,"button",38)(25,"mat-icon"),i(26,"more_vert"),t()(),e(27,"mat-menu",14,1)(29,"button",39),C("click",function(){let r=p(d).$implicit,n=v();return u(n.consulteCustomerConge(r))}),e(30,"mat-icon"),i(31,"visibility"),t(),i(32," Consulter "),t(),e(33,"button",39),C("click",function(){let r=p(d).$implicit,n=v();return u(n.updateCustomerConge(r.slug))}),e(34,"mat-icon"),i(35,"border_color"),t(),i(36," Modifier "),t(),e(37,"button",39),C("click",function(){let r=p(d).$implicit,n=v();return u(n.openDeleDialog(r.slug))}),e(38,"mat-icon"),i(39,"delete"),t(),i(40," Supprimer "),t()()()()}if(l&2){let d=m.$implicit,o=k(28);a(2),S(d.conge_ref),a(2),w(" ",d.motif," "),a(3),S(d.fonction),a(3),S(d.service),a(2),f("matTooltip",d.new_actions==1?"Consulter":"Nouveau"),a(),Ge(d.new_actions==1?"text-primary":"text-warning"),a(3),h(16,d.status_on==1?16:-1),a(),h(17,d.status_off==1?17:-1),a(),h(18,d.status_on==0&&d.status_off==0?18:-1),a(3),S(I(22,12,d.created_at,"d MMMM yyyy, \xE0 HH:mm")),a(3),f("matMenuTriggerFor",o)}}var Rt=(()=>{let m=class m{constructor(o,r,n,c,_,s,W){this._notificationService=o,this._traitement=r,this._router=n,this._loading=c,this._userData=_,this._conge=s,this._dialog=W,this.employe_matricule="",this.p=1,this.list_conges=[],this.list_customer_conges=[],this.conge_counter=0,this.customer_conge_counter=0}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getCustomerCongesList()}consulteCustomerConge(o){this._dialog.open(Lt,{panelClass:"fullscreen-dialog",data:o}).afterClosed().subscribe({next:n=>{}})}updateCustomerConge(o){this._dialog.open(jt,{panelClass:"fullscreen-dialog",data:o}).afterClosed().subscribe({next:n=>{n&&this.getCustomerCongesList()}})}getCustomerCongesList(){this._loading.show_loading(),this._conge.getCustomerConge(this.employe_matricule).subscribe({next:o=>{setTimeout(()=>{console.log(o),this.list_customer_conges=o,this.customer_conge_counter=this.list_customer_conges.length,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(te,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this.deleteConge(o)}})}deleteConge(o){this._loading.show_loading(),this._conge.deleteDemandeConge(o).subscribe({next:r=>{r.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(r),this._loading.hide_loading(),this.getCustomerCongesList()},1e3):(r.code==302||r.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(r))},error:r=>{r.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(r){return new(r||m)(g(H),g(q),g(U),g(z),g(K),g(Re),g(X))},m.\u0275cmp=P({type:m,selectors:[["app-customer-list-conges"]],standalone:!0,features:[F],decls:89,vars:8,consts:[["guideInfo","matMenu"],["beforeMenu","matMenu"],[1,"hero-body"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title","fw-bolder","fs-5"],["mat-button","",1,"default__btn__lg"],[1,"example-tab-icon","text-white"],[1,"fw-bolder","fs-5","text-white"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],["mat-mini-fab","",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item",""],[1,"text-primary"],[1,""],[1,"fw-bolder"],[1,"text-red"],[1,"text-warning"],[1,"card-body"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"table-responsive","mt-4"],[1,"table","table-striped","m-0"],[1,"text-center"],[1,"div","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[2,"white-space","unset !important"],[1,"fs-6"],["mat-icon-button","",3,"matTooltip"],["matTooltip","Approuv\xE9e","mat-icon-button",""],["matTooltip","R\xE9jet\xE9e","mat-icon-button",""],["matTooltip","Aucune action","mat-icon-button",""],[1,"text-end"],[1,"fw-bolder","fs-6"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(r,n){if(r&1){let c=M();e(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"button",9)(8,"mat-icon",10),i(9,"view_list"),t(),e(10,"span",11),i(11,"Mes conges"),t()(),e(12,"button",12),i(13),t()(),e(14,"div")(15,"button",13)(16,"mat-icon"),i(17,"info"),t()(),e(18,"mat-menu",14,0)(20,"button",15)(21,"mat-icon",16),i(22,"verified"),t(),e(23,"span",17),i(24,"Indique que le cong\xE9 a \xE9t\xE9"),e(25,"code",18),i(26,"valid\xE9"),t()()(),e(27,"button",15)(28,"mat-icon",19),i(29,"verified"),t(),e(30,"span"),i(31,"Indique que le cong\xE9 a \xE9t\xE9 "),e(32,"code",18),i(33," rejet\xE9 "),t()()(),e(34,"button",15)(35,"mat-icon",20),i(36,"verified"),t(),e(37,"span"),i(38,"Indique "),e(39,"code",18),i(40," Aucune action "),t(),i(41," sur le cong\xE9 "),t()(),e(42,"button",15)(43,"mat-icon",16),i(44,"check_circle"),t(),e(45,"span"),i(46,"Indique que le cong\xE9 a \xE9t\xE9 "),e(47,"code",18),i(48,"consult\xE9"),t()()(),e(49,"button",15)(50,"mat-icon",20),i(51,"check_circle"),t(),e(52,"span"),i(53,"Indique une "),e(54,"code",18),i(55,"nouvelle demande"),t(),i(56," de cong\xE9 "),t()()()()(),e(57,"div",21)(58,"div",4)(59,"div",22)(60,"div",23)(61,"table",24)(62,"thead")(63,"tr")(64,"th",25),i(65,"R\xE9f"),t(),e(66,"th",25),i(67,"Motif"),t(),e(68,"th",25),i(69,"Fonction"),t(),e(70,"th",25),i(71,"Service"),t(),e(72,"th",25),i(73,"Etat"),t(),e(74,"th",25),i(75,"Statut"),t(),e(76,"th",25),i(77,"Date de publication"),t(),e(78,"th",25),i(79,"Actions"),t()()(),e(80,"tbody"),A(81,fi,41,15,"tr",null,G),D(83,"paginate"),t()()(),e(84,"div",26)(85,"pagination-controls",27),C("pageChange",function(s){return p(c),u(n.p=s)}),t()()()()()()()()()(),e(86,"ngx-spinner",28)(87,"p",29),i(88," Chargement en cours... "),t()()}if(r&2){let c=k(19);a(13),w(" ",n.customer_conge_counter," "),a(2),f("matMenuTriggerFor",c),a(66),O(I(83,3,n.list_customer_conges,ee(6,ci,n.p))),a(5),f("fullScreen",!0)}},dependencies:[B,j,re,oe,ae,L,le,me,se,je,V,R,Z,N,J,$,Me,we]});let l=m;return l})();function gi(l,m){if(l&1&&(e(0,"span",18),i(1),D(2,"transformDate"),t()),l&2){let d=v();a(),w(" ",I(2,1,d.permission_data.date_permission,"dd MM yyyy")," ")}}function hi(l,m){if(l&1&&(e(0,"span",18),i(1),D(2,"transformDate"),t()),l&2){let d=v();a(),w(" ",I(2,1,d.permission_data.permission_start,"dd MM yyyy")," ")}}function vi(l,m){if(l&1&&(e(0,"span",17)(1,"span",39),i(2),t(),b(3,"br"),i(4),t()),l&2){let d=v();a(2),w(" ",d.permission_data.duree_permission," "),a(2),Oe(" de ",d.permission_data.permission_start," \xE0 ",d.permission_data.permission_end," ")}}function Si(l,m){if(l&1&&(e(0,"span",17)(1,"span",39),i(2),t(),b(3,"br"),i(4),D(5,"date"),D(6,"date"),t()),l&2){let d=v();a(2),w(" ",d.permission_data.duree_permission," "),a(2),Oe(" du ",I(5,3,d.permission_data.permission_start,"d MMMM yyyy")," au ",I(6,6,d.permission_data.permission_end,"d MMMM yyyy")," ")}}function Ci(l,m){l&1&&(e(0,"span",26),i(1,"Non justifi\xE9 "),t())}function xi(l,m){l&1&&(e(0,"span",27),i(1,"Justifi\xE9 "),t())}function yi(l,m){l&1&&(e(0,"button",33)(1,"mat-icon"),i(2,"verified"),t(),i(3," Permission approuv\xE9e "),t())}function Ei(l,m){l&1&&(e(0,"button",34)(1,"mat-icon"),i(2,"verified"),t(),i(3," Permission r\xE9jet\xE9e "),t())}function bi(l,m){l&1&&(e(0,"button",34)(1,"mat-icon"),i(2,"no_accounts"),t(),i(3," Accune action "),t())}function Mi(l,m){if(l&1&&(e(0,"div",35)(1,"mat-icon",40),i(2,"notifications"),t(),i(3),t()),l&2){let d=v();a(3),w(" ",d.permission_data.comments," ")}}function wi(l,m){l&1&&(e(0,"button",33)(1,"mat-icon"),i(2,"verified"),t(),i(3," Permission approuv\xE9e "),t())}function Ti(l,m){l&1&&(e(0,"button",34)(1,"mat-icon"),i(2,"verified"),t(),i(3," Permission r\xE9jet\xE9e "),t())}function Di(l,m){l&1&&(e(0,"button",34)(1,"mat-icon"),i(2,"no_accounts"),t(),i(3," Accune action "),t())}var Nt=(()=>{let m=class m{constructor(o,r){this.data=o,this._dialogRef=r,Ke(Qe)}ngOnInit(){this.data!=null&&(this.permission_data=this.data),console.log(this.permission_data)}};m.\u0275fac=function(r){return new(r||m)(g(he),g(ge))},m.\u0275cmp=P({type:m,selectors:[["app-customer-detail-permissions"]],standalone:!0,features:[Je([{provide:Ye,useValue:"fr-FR"}]),F],decls:97,vars:22,consts:[["mat-dialog-content","",2,"max-height","95vh"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","align-items-center","mb-4"],[1,"col-xl-2","col-sm-3","col-12"],["src","assets/media/logoai.png","width","100","alt","",1,"img-fluid"],[1,"col-xl-10","col-sm-9","col-12"],[1,"text-end","m-0","fw-bolder"],[1,"fw-bolder","fs-5"],[1,"row","gx-3"],[1,"col-sm-12","col-12"],[1,"text-center","mb-3"],[1,"fw-bolder","text-uppercase"],[1,"d-flex","justify-content-end","my-4"],[1,"m-0"],[1,"fw-bolder"],[1,"fw-bolder","text-red","text-uppercase"],[1,"row","gx-3","mb-2"],[1,"col-sm-12","col-12","mb-3"],[1,"col-12"],[1,"table-responsive","mb-3"],[1,"table","table-bordered"],[1,"text-center","text-uppercase"],[1,"text-center"],[1,"text-center","text-red","fw-bolder"],[1,"text-center","text-green","fw-bolder"],[1,"text-uppercase","mb-4"],[1,"fw-bolder","mb-4"],[1,"d-flex","justify-content-between"],[1,"m-0","text-start"],[1,"fw-bolder","text-start"],["mat-fab","","extended","","color","primary"],["mat-fab","","extended","","color","warn"],["role","alert",1,"alert","alert-light","alert-dismissible","fade","show"],[1,"m-0","text-end"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-fab","","extended","","color","primary","mat-dialog-close",""],[1,"fw-bolder","text-red"],[1,"text-danger","alert-icon"]],template:function(r,n){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),i(4),t()(),e(5,"div",4)(6,"div",5)(7,"div",6),b(8,"img",7),t(),e(9,"div",8)(10,"p",9)(11,"span",10),i(12,"Alerte Info "),t()()()(),e(13,"div",11)(14,"div",12)(15,"div",13)(16,"h1",14),i(17," demande de permission "),t()(),e(18,"div",15)(19,"div")(20,"p",16)(21,"span",17),i(22,"Date de la demande,"),t(),b(23,"br"),T(24,gi,3,4,"span",18)(25,hi,3,4,"span",18),t()()()()(),e(26,"div",19)(27,"div",20)(28,"p",16)(29,"span",17),i(30,"Dur\xE9e de la permission,"),t(),b(31,"br"),T(32,vi,5,3,"span",17)(33,Si,7,9,"span",17),t()()(),e(34,"div",11)(35,"div",21)(36,"div",22)(37,"table",23)(38,"thead")(39,"tr")(40,"th")(41,"span",24),i(42,"Nom & Pr\xE9nom"),t()(),e(43,"th")(44,"span",24),i(45,"Fonction"),t()(),e(46,"th")(47,"span",24),i(48,"Service"),t()(),e(49,"th")(50,"span",24),i(51,"Justificatif"),t()()()(),e(52,"tbody")(53,"tr")(54,"td")(55,"span",25),i(56),t()(),e(57,"td")(58,"span",25),i(59),t()(),e(60,"td")(61,"span",25),i(62),t()(),e(63,"td"),T(64,Ci,2,0,"span",26)(65,xi,2,0,"span",27),t()()()()(),e(66,"p",28),i(67,"Motif de la permission: "),t(),e(68,"p",29),i(69),t(),b(70,"br"),e(71,"div",30)(72,"div")(73,"p",31)(74,"span",32),i(75,"Approbation"),t(),b(76,"br"),T(77,yi,4,0,"button",33)(78,Ei,4,0,"button",34)(79,bi,4,0,"button",34),t(),T(80,Mi,4,1,"div",35),t(),e(81,"div")(82,"p",36)(83,"span",17),i(84,"Faire \xE0 Abidjan le,"),t(),b(85,"br"),e(86,"span",18),i(87),D(88,"date"),t()()()()()()()()(),e(89,"div",37)(90,"button",38)(91,"mat-icon"),i(92,"reply"),t(),i(93," Fermer "),t(),T(94,wi,4,0,"button",33)(95,Ti,4,0,"button",34)(96,Di,4,0,"button",34),t()),r&2&&(a(4),w("R\xE9f permission - #",n.permission_data.permission_ref,""),a(20),h(24,n.permission_data.type_duration=="hour"?24:-1),a(),h(25,n.permission_data.type_duration=="date"?25:-1),a(7),h(32,n.permission_data.type_duration=="hour"?32:-1),a(),h(33,n.permission_data.type_duration=="date"?33:-1),a(23),S(n.permission_data.first_name+" "+n.permission_data.last_name),a(3),S(n.permission_data.fonction),a(3),S(n.permission_data.service),a(2),h(64,n.permission_data.permission_file==null?64:-1),a(),h(65,n.permission_data.permission_file!=null?65:-1),a(4),S(n.permission_data.motif),a(8),h(77,n.permission_data.status_on==1?77:-1),a(),h(78,n.permission_data.status_off==1?78:-1),a(),h(79,n.permission_data.status_on==0&&n.permission_data.status_off==0?79:-1),a(),h(80,n.permission_data.status_on==1||n.permission_data.status_off==1?80:-1),a(7),S(I(88,19,n.permission_data.created_at,"d MMMM yyyy, \xE0 HH:mm")),a(7),h(94,n.permission_data.status_on==1?94:-1),a(),h(95,n.permission_data.status_off==1?95:-1),a(),h(96,n.permission_data.status_on==0&&n.permission_data.status_off==0?96:-1))},dependencies:[B,Be,j,L,Y,ve,Ce,Se,V,R,Z,N]});let l=m;return l})();function Ii(l,m){if(l&1&&(e(0,"mat-option",21),i(1),t()),l&2){let d=m.$implicit;f("value",d.employee_matricule),a(),w(" ","Departement: "+d.service," ")}}function ki(l,m){if(l&1){let d=M();e(0,"div",29)(1,"mat-form-field",19)(2,"mat-label"),i(3,"Date de la permission"),t(),e(4,"input",39),E("ngModelChange",function(r){p(d);let n=v();return y(n.date_permission,r)||(n.date_permission=r),u(r)}),t(),b(5,"mat-datepicker-toggle",40)(6,"mat-datepicker",null,0),t()()}if(l&2){let d=k(7),o=v();a(4),x("ngModel",o.date_permission),f("matDatepicker",d),a(),f("for",d)}}function Pi(l,m){if(l&1){let d=M();e(0,"div",30)(1,"mat-form-field",19)(2,"span",41),i(3," Heure d\xE9but "),t(),e(4,"input",42),E("ngModelChange",function(r){p(d);let n=v();return y(n.hour_start,r)||(n.hour_start=r),u(r)}),t(),b(5,"ngx-mat-timepicker",null,1),e(7,"mat-icon",43),C("click",function(){p(d);let r=k(6);return u(r.open())}),i(8," watch_later "),t()()()}if(l&2){let d=k(6),o=v();a(4),f("ngxMatTimepicker",d),x("ngModel",o.hour_start),f("format",24)}}function Fi(l,m){if(l&1){let d=M();e(0,"div",30)(1,"mat-form-field",19)(2,"span",41),i(3," Heure fin "),t(),e(4,"input",42),E("ngModelChange",function(r){p(d);let n=v();return y(n.hour_end,r)||(n.hour_end=r),u(r)}),t(),b(5,"ngx-mat-timepicker",null,2),e(7,"mat-icon",43),C("click",function(){p(d);let r=k(6);return u(r.open())}),i(8," watch_later "),t()()()}if(l&2){let d=k(6),o=v();a(4),f("ngxMatTimepicker",d),x("ngModel",o.hour_end),f("format",24)}}function Bi(l,m){if(l&1){let d=M();e(0,"div",31)(1,"mat-form-field",19)(2,"mat-label"),i(3,"Date d\xE9but de la permission"),t(),e(4,"input",39),E("ngModelChange",function(r){p(d);let n=v();return y(n.date_start,r)||(n.date_start=r),u(r)}),t(),b(5,"mat-datepicker-toggle",40)(6,"mat-datepicker",null,3),t()()}if(l&2){let d=k(7),o=v();a(4),x("ngModel",o.date_start),f("matDatepicker",d),a(),f("for",d)}}function Vi(l,m){if(l&1){let d=M();e(0,"div",31)(1,"mat-form-field",19)(2,"mat-label"),i(3,"Date fin de la permission"),t(),e(4,"input",44),E("ngModelChange",function(r){p(d);let n=v();return y(n.date_end,r)||(n.date_end=r),u(r)}),t(),b(5,"mat-datepicker-toggle",40)(6,"mat-datepicker",null,4),t()()}if(l&2){let d=k(7),o=v();a(4),x("ngModel",o.date_end),f("matDatepicker",d),a(),f("for",d)}}function Li(l,m){if(l&1){let d=M();e(0,"div",32)(1,"h1",24),i(2,"Joindre une pi\xE8ce justificative"),t(),e(3,"mat-radio-group",25),C("change",function(r){p(d);let n=v();return u(n.radioChange(r))}),e(4,"mat-radio-button",45),i(5,"OUI"),t(),e(6,"mat-radio-button",46),i(7,"NON"),t()()()}}function ji(l,m){if(l&1){let d=M();e(0,"div",33)(1,"div",32)(2,"label",47),i(3,"Joindre une pi\xE8ce "),e(4,"code"),i(5,"*"),t()(),e(6,"input",48),C("change",function(r){p(d);let n=v();return u(n.uploadFile(r))}),t()()()}}function Wi(l,m){if(l&1){let d=M();e(0,"button",49),C("click",function(){p(d);let r=v();return u(r.updatePermission())}),e(1,"mat-icon"),i(2,"save"),t(),i(3," Sauvegarder la modification "),t()}}var At=(()=>{let m=class m{constructor(o,r,n,c,_,s,W,ne){this._notificationService=o,this._traitement=r,this._router=n,this._loading=c,this._permission=_,this._activatedRoute=s,this.data=W,this._dialogRef=ne,this.user_name="",this.user_fonction="",this.user_service="",this.employe_matricule="",this.motif="",this.old_assignment_file="",this.is_choose="",this.responsable="",this.old_date="",this.selectedDureeOption="",this.duration_is_hour=!1,this.list_responsable=[],this.date_permission=new Date,this.duration_is_date=!1,this.old_date_stard=new Date,this.date_end=new Date,this.permission_ref="",this.type_duration="",this.fonction="",this.service="",this.permission_start="",this.permission_end="",this.duree_permission="",this.items_slug=""}ngOnInit(){this._loading.show_loading(),this.data!=null&&(this.items_slug=this.data),setTimeout(()=>{this.getCurrentPermissionInfo(),this.getAllResponsable(),this._loading.hide_loading()},1e3)}getAllResponsable(){this._traitement.getAllResponsable().subscribe({next:o=>{setTimeout(()=>{this.list_responsable=o},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}PermissionDurationChange(o){let r=o.value;r=="hour"?(this.duration_is_hour=!0,this.duration_is_date=!1,this.type_duration=r):r=="date"?(this.duration_is_date=!0,this.duration_is_hour=!1,this.type_duration=r):(this.duration_is_date=!1,this.duration_is_hour=!1)}checkedPermissionDurationChange(o){o=="hour"?(this.duration_is_hour=!0,this.duration_is_date=!1,this.type_duration=this.type_duration):o=="date"?(this.duration_is_date=!0,this.duration_is_hour=!1,this.type_duration=this.type_duration):(this.duration_is_date=!1,this.duration_is_hour=!1)}getCurrentPermissionInfo(){this._permission.editDemandePermission(this.items_slug).subscribe({next:o=>{this.motif=o.motif,this.date_permission=new Date(o.date_permission),this.old_assignment_file=o.permission_file,this.employe_matricule=o.employe_matricule,this.selectedResponsableOption=o.destinataire,this.permission_ref=o.permission_ref,this.fonction=o.fonction,this.service=o.service,this.duree_permission=o.duree_permission,this.motif=o.motif,this.type_duration=o.type_duration,this.type_duration=="hour"&&(this.hour_start=o.permission_start,this.hour_end=o.permission_end),this.type_duration=="date"&&(this.date_start=new Date(o.permission_start),this.date_end=new Date(o.permission_end)),this.checkedPermissionDurationChange(this.type_duration)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updatePermission(){this._loading.show_loading();let o=this.calculateDifferenceBetweenTwoHours(this.hour_start,this.hour_end),r=this.calculateDifferenceBetweenDates(this.date_start,this.date_end),n=new FormData;n.append("employe_matricule",this.employe_matricule),n.append("destinataire",this.responsable==""?this.selectedResponsableOption:this.responsable),n.append("type_duration",this.type_duration),n.append("date_permission",this.formatDate(this.date_permission).toString()),o==null?n.append("duree_permission",r):n.append("duree_permission",o),o==null?(n.append("permission_end",this.formatDate(this.date_end).toString()),n.append("permission_start",this.formatDate(this.date_start).toString())):r==null&&(n.append("permission_end",this.hour_end),n.append("permission_start",this.hour_start)),n.append("motif",this.motif),n.append("permission_file",this.assigment_file==null?"":this.assigment_file),this._permission.updateDemandePermission(this.items_slug,n).subscribe({next:c=>{console.log(c),c.code==200?(this._notificationService.openSnackBarSuccess(c),setTimeout(()=>{this._loading.hide_loading(),this._dialogRef.close(!0)},2e3)):(c.code==300||c.code==500||c.code==302)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(c))},error:c=>{c.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}uploadFile(o){this.assigment_file=o.target.files[0]}radioChange(o){this.is_choose=o.value}onChange_dead_line_assigment(o){this.dead_line_assigment=o.value}onChangeDestinataire(o){this.responsable=o.value}formatDate(o){let r=o.toLocaleString("default",{year:"numeric"}),n=o.toLocaleString("default",{month:"2-digit"}),c=o.toLocaleString("default",{day:"2-digit"});return r+"-"+n+"-"+c}changeFile(){this.old_assignment_file=null}calculateDifferenceBetweenTwoHours(o,r){if(o!=null&&r!=null){let[n,c]=o.split(":").map(Number),[_,s]=r.split(":").map(Number),W=_*60+s-(n*60+c),ne=Math.floor(W/60),qe=W%60;return ne+"h"+(qe==0?"00":qe)}else return}calculateDifferenceBetweenDates(o,r){if(o!=null&&r!=null)return Math.abs(r.getTime()-o.getTime())/(1e3*3600*24)+"Jour(s)"}};m.\u0275fac=function(r){return new(r||m)(g(H),g(q),g(U),g(z),g(We),g(ct),g(he),g(ge))},m.\u0275cmp=P({type:m,selectors:[["app-full-edit-permissions-forms"]],standalone:!0,features:[F],decls:51,vars:13,consts:[["Date_permission",""],["pickerStart",""],["pickerEnd",""],["Date_start",""],["Date_end",""],["mat-dialog-content","",2,"max-height","95vh"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","gx-3","justify-content-center","mb-3"],[1,"col-12"],[1,"col-lg-12","mb-3"],["appearance","outline",1,"example-full-width"],["rows","3","matInput","","placeholder","Ex. Le motif de la permission...",3,"ngModelChange","ngModel"],[1,"col-lg-12"],["appearance","outline"],[3,"valueChange","selectionChange","value"],[1,"fw-bolder",3,"value"],[1,"row","gx-3","mb-3"],[1,"col-lg-12","col-md-12","text-center","mb-2"],[1,"text-center","mb-3"],["aria-label","Select an option",3,"change"],["value","hour",3,"checked"],["value","date",3,"checked"],[1,"row","justify-content-center"],[1,"col-lg-3","col-md-6"],[1,"col-lg-3"],[1,"col-lg-4","col-md-6"],[1,"col-lg-12","col-md-12","text-center"],[1,"row","gx-3","mb-4"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-fab","","extended","","color","primary","mat-dialog-close",""],["mat-fab","","extended","","color","primary"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["matInput","","placeholder","00/00/0000",3,"ngModelChange","ngModel","matDatepicker"],["matIconSuffix","",3,"for"],["matPrefix","",1,"mx-2"],["matInput","","placeholder","00:00",3,"ngModelChange","ngxMatTimepicker","ngModel","format"],["matSuffix","",3,"click"],["matInput","",3,"ngModelChange","ngModel","matDatepicker"],["value","OUI"],["value","NON"],["for","formFileLg",1,"form-label"],["id","formFileLg","type","file",1,"form-control","form-control-lg",3,"change"],["mat-fab","","extended","","color","primary",3,"click"]],template:function(r,n){r&1&&(e(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11),i(7,"Modification de permission"),t()(),e(8,"div",12)(9,"div",13)(10,"div",14)(11,"h1"),i(12,"Formulaire de demande de permission"),t()(),e(13,"div",15)(14,"mat-form-field",16)(15,"mat-label"),i(16,"Le motif de la permission"),t(),e(17,"textarea",17),E("ngModelChange",function(_){return y(n.motif,_)||(n.motif=_),_}),t()()(),e(18,"div",18)(19,"mat-form-field",19)(20,"mat-label"),i(21,"Destinataire"),t(),e(22,"mat-select",20),E("valueChange",function(_){return y(n.selectedResponsableOption,_)||(n.selectedResponsableOption=_),_}),C("selectionChange",function(_){return n.onChangeDestinataire(_)}),A(23,Ii,2,2,"mat-option",21,G),t()()(),e(25,"div",22)(26,"div",23)(27,"h1",24),i(28,"Dur\xE9e de la permission"),t(),e(29,"mat-radio-group",25),C("change",function(_){return n.PermissionDurationChange(_)}),e(30,"mat-radio-button",26),i(31,"En heure"),t(),e(32,"mat-radio-button",27),i(33,"En jours"),t()()(),e(34,"div",28),T(35,ki,8,3,"div",29)(36,Pi,9,3,"div",30)(37,Fi,9,3,"div",30)(38,Bi,8,3,"div",31)(39,Vi,8,3,"div",31),t(),T(40,Li,8,0,"div",32),t(),T(41,ji,7,0,"div",33),t()()()()()()(),e(42,"div",34)(43,"button",35)(44,"mat-icon"),i(45,"reply"),t(),i(46," Fermer "),t(),T(47,Wi,4,0,"button",36),t(),e(48,"ngx-spinner",37)(49,"p",38),i(50," Chargement en cours... "),t()()),r&2&&(a(17),x("ngModel",n.motif),a(5),x("value",n.selectedResponsableOption),a(),O(n.list_responsable),a(7),f("checked",n.type_duration=="hour"),a(2),f("checked",n.type_duration=="date"),a(3),h(35,n.duration_is_hour==!0?35:-1),a(),h(36,n.duration_is_hour==!0?36:-1),a(),h(37,n.duration_is_hour==!0?37:-1),a(),h(38,n.duration_is_date==!0?38:-1),a(),h(39,n.duration_is_date==!0?39:-1),a(),h(40,n.duration_is_hour==!0||n.duration_is_date==!0?40:-1),a(),h(41,n.is_choose=="OUI"?41:-1),a(6),h(47,n.duration_is_hour==!0||n.duration_is_date==!0?47:-1),a(),f("fullScreen",!0))},dependencies:[B,j,L,Y,fe,ue,gt,_e,Le,Ve,ve,Ce,Se,xe,ye,Ee,be,ht,vt,V,R,de,ce,pe,N,J,bt,yt,Et]});let l=m;return l})();var Ri=l=>({itemsPerPage:20,currentPage:l});function Ni(l,m){l&1&&(e(0,"button",39)(1,"mat-icon",16),i(2,"verified"),t()())}function Ai(l,m){l&1&&(e(0,"button",40)(1,"mat-icon",19),i(2,"verified"),t()())}function Oi(l,m){l&1&&(e(0,"button",41)(1,"mat-icon",20),i(2,"verified"),t()())}function Ui(l,m){if(l&1){let d=M();e(0,"tr")(1,"td"),i(2),t(),e(3,"td",31),i(4),t(),e(5,"td",25)(6,"p"),i(7),t()(),e(8,"td",25)(9,"p"),i(10),t()(),e(11,"td",25)(12,"button",32)(13,"mat-icon"),i(14,"check_circle"),t()()(),e(15,"td",25),T(16,Ni,3,0,"button",33)(17,Ai,3,0,"button",34)(18,Oi,3,0,"button",35),t(),e(19,"td",36)(20,"p"),i(21),D(22,"date"),t()(),e(23,"td",36)(24,"button",37)(25,"mat-icon"),i(26,"more_vert"),t()(),e(27,"mat-menu",14,1)(29,"button",38),C("click",function(){let r=p(d).$implicit,n=v();return u(n.consultePermission(r))}),e(30,"mat-icon"),i(31,"visibility"),t(),i(32," Consulter "),t(),e(33,"button",38),C("click",function(){let r=p(d).$implicit,n=v();return u(n.updateCustomerPermission(r.slug))}),e(34,"mat-icon"),i(35,"border_color"),t(),i(36," Modifier "),t(),e(37,"button",38),C("click",function(){let r=p(d).$implicit,n=v();return u(n.deletePermission(r.slug))}),e(38,"mat-icon"),i(39,"delete"),t(),i(40," Supprimer "),t()()()()}if(l&2){let d=m.$implicit,o=k(28);a(2),S(d.id),a(2),w(" ",d.motif," "),a(3),S(d.fonction),a(3),S(d.service),a(2),f("matTooltip",d.new_actions==1?"Consulter":"Nouveau"),a(),Ge(d.new_actions==1?"text-primary":"text-warning"),a(3),f("ngIf",d.status_on==1),a(),f("ngIf",d.status_off==1),a(),f("ngIf",d.status_on==0&&d.status_off==0),a(3),S(I(22,12,d.created_at,"d MMMM yyyy, \xE0 HH:mm")),a(3),f("matMenuTriggerFor",o)}}var Ot=(()=>{let m=class m{constructor(o,r,n,c,_,s,W){this._notificationService=o,this._traitement=r,this._router=n,this._loading=c,this._userData=_,this._permission=s,this._dialog=W,this.list_permissions=[],this.list_customer_permissions=[],this.permission_counter=0,this.customer_permission_counter=0,this.employe_matricule="",this.p=1}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getCustomerPermissions()}getCustomerPermissions(){this._loading.show_loading(),this._permission.getCustomerPermission(this.employe_matricule).subscribe({next:o=>{setTimeout(()=>{this.list_customer_permissions=o,this.customer_permission_counter=this.list_customer_permissions.length,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}consultePermission(o){this._dialog.open(Nt,{panelClass:"fullscreen-dialog",data:o}).afterClosed().subscribe({next:n=>{}})}updateCustomerPermission(o){this._dialog.open(At,{panelClass:"fullscreen-dialog",data:o}).afterClosed().subscribe({next:n=>{n&&this.getCustomerPermissions()}})}deletePermission(o){this._dialog.open(te,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this._permission.deleteDemandePermission(o).subscribe({next:c=>{c.code==200?(this._notificationService.openSnackBarSuccess(c),this.getCustomerPermissions()):c.code==404&&this._notificationService.openSnackBarError(c)},error:c=>{c.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}})}};m.\u0275fac=function(r){return new(r||m)(g(H),g(q),g(U),g(z),g(K),g(We),g(X))},m.\u0275cmp=P({type:m,selectors:[["app-customer-list-permissions"]],standalone:!0,features:[F],decls:88,vars:9,consts:[["guideInfo","matMenu"],["beforeMenu","matMenu"],[1,"hero-body"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title","fw-bolder","fs-5"],["mat-button","",1,"default__btn__lg"],[1,"example-tab-icon","text-white"],[1,"fw-bolder","text-white","fs-5"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],["mat-mini-fab","",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item",""],[1,"text-primary"],[1,""],[1,"fw-bolder"],[1,"text-red"],[1,"text-warning"],[1,"card-body"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"table-responsive","mt-4"],[1,"table","table-striped","m-0"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["width","400",1,"text-center",2,"white-space","unset !important"],["mat-icon-button","",3,"matTooltip"],["matTooltip","Approuv\xE9e","mat-icon-button","",4,"ngIf"],["matTooltip","R\xE9jet\xE9e","mat-icon-button","",4,"ngIf"],["matTooltip","Aucune action","mat-icon-button","",4,"ngIf"],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["matTooltip","Approuv\xE9e","mat-icon-button",""],["matTooltip","R\xE9jet\xE9e","mat-icon-button",""],["matTooltip","Aucune action","mat-icon-button",""]],template:function(r,n){if(r&1){let c=M();e(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"button",9)(8,"mat-icon",10),i(9,"view_list"),t(),e(10,"span",11),i(11,"Mes permissions"),t()(),e(12,"button",12),i(13),t()(),e(14,"div")(15,"button",13)(16,"mat-icon"),i(17,"info"),t()(),e(18,"mat-menu",14,0)(20,"button",15)(21,"mat-icon",16),i(22,"verified"),t(),e(23,"span",17),i(24,"Indique qu'une permission a \xE9t\xE9"),e(25,"code",18),i(26,"valid\xE9e"),t()()(),e(27,"button",15)(28,"mat-icon",19),i(29,"verified"),t(),e(30,"span"),i(31,"Indique qu'une permission a \xE9t\xE9 "),e(32,"code",18),i(33," rejet\xE9e "),t()()(),e(34,"button",15)(35,"mat-icon",20),i(36,"verified"),t(),e(37,"span"),i(38,"Indique "),e(39,"code",18),i(40," Aucune action "),t(),i(41," sur la permission "),t()(),e(42,"button",15)(43,"mat-icon",16),i(44,"check_circle"),t(),e(45,"span"),i(46,"Indique que la permission a \xE9t\xE9 "),e(47,"code",18),i(48,"consult\xE9e"),t()()(),e(49,"button",15)(50,"mat-icon",20),i(51,"check_circle"),t(),e(52,"span"),i(53,"Indique une "),e(54,"code",18),i(55,"nouvelle demande"),t(),i(56," de permission "),t()()()()(),e(57,"div",21)(58,"div",4)(59,"div",22)(60,"div",23)(61,"table",24)(62,"thead")(63,"tr")(64,"th",25),i(65,"#ID"),t(),e(66,"th",25),i(67,"Motif"),t(),e(68,"th",25),i(69,"Fonction"),t(),e(70,"th",25),i(71,"Service"),t(),e(72,"th",25),i(73,"Etat"),t(),e(74,"th",25),i(75,"Statut"),t(),e(76,"th",25),i(77,"Date de publication"),t(),e(78,"th",25),i(79,"Actions"),t()()(),e(80,"tbody"),T(81,Ui,41,15,"tr",26),D(82,"paginate"),t()()(),e(83,"div",27)(84,"pagination-controls",28),C("pageChange",function(s){return p(c),u(n.p=s)}),t()()()()()()()()()(),e(85,"ngx-spinner",29)(86,"p",30),i(87," Chargement en cours... "),t()()}if(r&2){let c=k(19);a(13),w(" ",n.customer_permission_counter," "),a(2),f("matMenuTriggerFor",c),a(66),f("ngForOf",I(82,4,n.list_customer_permissions,ee(7,Ri,n.p))),a(4),f("fullScreen",!0)}},dependencies:[B,st,mt,Be,j,re,oe,ae,L,le,me,se,je,V,R,N,J,$,Me,we]});let l=m;return l})();var qi=(l,m)=>l+1,Hi=l=>({itemsPerPage:10,currentPage:l});function zi(l,m){if(l&1){let d=M();e(0,"div",5),b(1,"img",12),e(2,"p",13),i(3,"Aucun dossier n'est disponible pour vous. "),e(4,"button",14),C("click",function(){p(d);let r=v();return u(r.openDossiersDialog())}),i(5,"Cr\xE9er mon dossier"),t()()()}}function Gi(l,m){if(l&1&&(e(0,"div",21)(1,"ul",22)(2,"li",23),i(3),t()()()),l&2){let d=m.$implicit;a(3),w(" ",d.document," ")}}function Ji(l,m){if(l&1&&(e(0,"div",5)(1,"div",9)(2,"div",15)(3,"div",16)(4,"button",17)(5,"mat-icon"),i(6,"notifications"),t(),i(7," A votre attention! "),t()()(),e(8,"div",18)(9,"p",19),i(10," Liste des documents \xE0 fournir "),b(11,"br"),t(),e(12,"div",20),A(13,Gi,4,1,"div",21,qi),t()()()()),l&2){let d=v();a(13),O(d.list_docprovide)}}function Yi(l,m){if(l&1){let d=M();e(0,"div",5),b(1,"img",32),e(2,"p",13),i(3,"Votre dossier est vide. "),e(4,"button",14),C("click",function(){p(d);let r=v(2);return u(r.openDossiersFeleDialog())}),i(5,"Ajouter mon document"),t()()()}}function Ki(l,m){l&1&&(e(0,"button",41)(1,"mat-icon",49),i(2,"check_circle"),t()())}function Qi(l,m){l&1&&(e(0,"button",42)(1,"mat-icon",50),i(2,"check_circle"),t()())}function Xi(l,m){l&1&&(e(0,"button",43)(1,"mat-icon",51),i(2,"check_circle"),t()())}function Zi(l,m){if(l&1){let d=M();e(0,"tr")(1,"td",5),i(2),t(),e(3,"td",5)(4,"a",36)(5,"div",37)(6,"mat-icon",27),i(7,"description"),t(),e(8,"p",38),i(9),t()()()(),e(10,"td",5)(11,"p",39),i(12),t()(),e(13,"td",5)(14,"div",40)(15,"mat-icon",27),i(16,"folder"),t(),e(17,"p",38),i(18),t()()(),e(19,"td",5),T(20,Ki,3,0,"button",41)(21,Qi,3,0,"button",42)(22,Xi,3,0,"button",43),t(),e(23,"td",44),i(24),D(25,"transformDate"),t(),e(26,"td",44),i(27),D(28,"transformDate"),t(),e(29,"td",5)(30,"button",45)(31,"mat-icon"),i(32,"more_vert"),t()(),e(33,"mat-menu",46,0)(35,"a",47)(36,"mat-icon"),i(37,"visibility"),t(),i(38," Ouvrir "),t(),e(39,"button",48),C("click",function(){let r=p(d).$implicit,n=v(3);return u(n.updateDossiersFile(r))}),e(40,"mat-icon"),i(41,"border_color"),t(),i(42," Modifier "),t(),e(43,"button",48),C("click",function(){let r=p(d).$implicit,n=v(3);return u(n.openDeleFoldersFileDialog(r.slug))}),e(44,"mat-icon"),i(45,"delete"),t(),i(46," Supprimer "),t()()()()}if(l&2){let d=m.$implicit,o=m.$index,r=k(34);a(2),S(o+1),a(2),f("href",d.file_url,Ae),a(5),S(d.libelle_file),a(3),w("",d.first_name+" "+d.last_name," "),a(6),S(d.libelle_dossiers),a(2),h(20,d.status_on==1?20:-1),a(),h(21,d.status_off==1?21:-1),a(),h(22,d.status_on==0&&d.status_off==0?22:-1),a(2),S(I(25,12,d.created_at," d MMMM YYYY ")),a(3),S(I(28,15,d.updated_at," d MMMM YYYY ")),a(3),f("matMenuTriggerFor",r),a(5),f("href",d.file_url,Ae)}}function $i(l,m){if(l&1){let d=M();e(0,"div",31)(1,"table",33)(2,"thead")(3,"tr")(4,"th",5),i(5,"#Id"),t(),e(6,"th",5),i(7,"Nom du document"),t(),e(8,"th",5),i(9,"Propri\xE9taire"),t(),e(10,"th",5),i(11,"Emplacement"),t(),e(12,"th",5),i(13,"Statut"),t(),e(14,"th",5),i(15,"Date de cr\xE9ation"),t(),e(16,"th",5),i(17,"Date de modification"),t(),e(18,"th",5),i(19,"Actions"),t()()(),e(20,"tbody"),A(21,Zi,47,18,"tr",null,G),D(23,"paginate"),t()(),e(24,"div",34)(25,"pagination-controls",35),C("pageChange",function(r){p(d);let n=v(2);return u(n.p=r)}),t()()()}if(l&2){let d=v(2);a(21),O(I(23,0,d.folder_file,ee(3,Hi,d.p)))}}function en(l,m){if(l&1){let d=M();e(0,"div",9)(1,"div",24)(2,"div",25)(3,"div",26)(4,"mat-icon",27),i(5,"folder"),t(),e(6,"p",28),i(7),t(),e(8,"button",29),C("click",function(){p(d);let r=v();return u(r.updateDossiersDialog())}),e(9,"mat-icon"),i(10,"edit"),t()()()(),e(11,"button",30),C("click",function(){p(d);let r=v();return u(r.openDossiersFeleDialog())}),i(12," Nouveau document "),t()(),e(13,"div",18),T(14,Yi,6,0,"div",5)(15,$i,26,5,"div",31),t()()}if(l&2){let d=v();a(7),S(d.libelle_dossiers),a(7),h(14,d.folder_file.length==0?14:-1),a(),h(15,d.folder_file.length>0?15:-1)}}var Ut=(()=>{let m=class m{constructor(o,r,n,c,_,s){this._notificationService=o,this._traitement=r,this._router=n,this._loading=c,this._userData=_,this._dialog=s,this.libelle_dossiers="",this.folder_file=[],this.p=1,this.item_slug="",this.employe_matricule="",this.folder_employe_matricule="",this.list_docprovide=[]}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getCustomerDossiersList(),this.getDocprovide()}openDossiersDialog(){this._dialog.open($e,{width:"auto"}).afterClosed().subscribe({next:r=>{r&&this.getCustomerDossiersList()}})}updateDossiersDialog(){let o={libelle_dossiers:this.libelle_dossiers,employe_matricule:this.employe_matricule,slug:this.item_slug};this._dialog.open($e,{width:"auto",data:o}).afterClosed().subscribe({next:n=>{n&&this.getCustomerDossiersList()}})}getDocprovide(){this._loading.show_loading(),this._traitement.getDocProvide().subscribe({next:o=>{console.log(o),setTimeout(()=>{this.list_docprovide=o,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getCustomerDossiersList(){this._loading.show_loading(),this._traitement.getCustomerDossiers(this.employe_matricule).subscribe({next:o=>{o!=null?setTimeout(()=>{this.folder_employe_matricule=o.employe_matricule,this.libelle_dossiers=o.libelle_dossiers,this.dossiers_code=o.dossiers_code,this.item_slug=o.slug,this._loading.hide_loading(),this.getDossiersFileList(this.dossiers_code)},1e3):this._loading.hide_loading()},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(te,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this.deleteDossiers(o)}})}deleteDossiers(o){this._loading.show_loading(),this._traitement.deleteDossiers(o).subscribe({next:r=>{r.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(r),this._loading.hide_loading(),this.getCustomerDossiersList()},1e3):(r.code==302||r.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(r))},error:r=>{r.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDossiersFeleDialog(){let o={dossiers_code:this.dossiers_code};this._dialog.open(et,{width:"auto",data:o}).afterClosed().subscribe({next:n=>{n&&this.getCustomerDossiersList()}})}getDossiersFileList(o){this._loading.show_loading(),this._traitement.getCustomerFoldersFile(o).subscribe({next:r=>{setTimeout(()=>{this.folder_file=r,this._loading.hide_loading()},1e3)},error:r=>{r.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateDossiersFile(o){let r={dossiers_code:this.dossiers_code,items_data:o};this._dialog.open(et,{width:"auto",data:r}).afterClosed().subscribe({next:c=>{c&&this.getCustomerDossiersList()}})}openDeleFoldersFileDialog(o){this._dialog.open(te,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this.deleteDoldersFile(o)}})}deleteDoldersFile(o){this._loading.show_loading(),this._traitement.deleteDossiersFile(o).subscribe({next:r=>{r.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(r),this._loading.hide_loading(),this.getCustomerDossiersList()},1e3):(r.code==302||r.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(r))},error:r=>{r.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(r){return new(r||m)(g(H),g(q),g(U),g(z),g(K),g(X))},m.\u0275cmp=P({type:m,selectors:[["app-customer-folders"]],standalone:!0,features:[F],decls:14,vars:4,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-xl-12","col-md-8","col-sm-9","col-10"],[1,"text-center"],[1,"hero-body"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["src","assets/media/folder.svg","width","300","alt","logo oipi",1,"img-fluid","mb-2"],[1,"mb-4","fw-bolder","fs-5","text-primary"],["mat-raised-button","",3,"click"],[1,"card-header"],[1,"card-title","text-yellow"],["mat-button","",1,"text-red","fw-bolder","fs-5"],[1,"card-body"],[1,"mb-2","fw-bolder"],[1,"row"],[1,"col-4"],[1,"list-group","list-group-numbered","text-start"],[1,"list-group-item"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title","fw-bolder","fs-5"],[1,"d-flex","align-items-center"],[1,"me-3","text-primary"],[1,"m-0","me-2","fw-bolder","fs-6"],["mat-mini-fab","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"table-responsive"],["src","assets/media/file.svg","width","300","alt","logo oipi",1,"img-fluid","mb-2"],[1,"table","table-striped","mt-3","align-middle"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["target","_blank",3,"href"],[1,"d-flex","text-start"],[1,"m-0","fw-bolder","fs-6"],[1,"m-b-0","fw-bolder","fs-6"],[1,"d-flex","justify-content-center"],["matTooltip","Approuv\xE9","mat-icon-button",""],["matTooltip","Rejet\xE9","mat-icon-button",""],["matTooltip","Aucune action","mat-icon-button",""],[1,"text-center","fw-bolder","fs-6","text-primary"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["target","_blank","mat-menu-item","",3,"href"],["mat-menu-item","",3,"click"],[1,"text-primary"],[1,"text-red"],[1,"text-danger"]],template:function(r,n){r&1&&(e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),T(4,zi,6,0,"div",5)(5,Ji,15,0,"div",5),t()()()(),e(6,"div",6)(7,"div",2)(8,"div",7)(9,"div",8),T(10,en,16,3,"div",9),t()()()(),e(11,"ngx-spinner",10)(12,"p",11),i(13," Chargement en cours... "),t()()),r&2&&(a(4),h(4,n.folder_employe_matricule==""?4:-1),a(),h(5,n.folder_employe_matricule!=""?5:-1),a(5),h(10,n.folder_employe_matricule!=""?10:-1),a(),f("fullScreen",!0))},dependencies:[B,j,re,oe,ae,L,le,me,se,je,V,R,Z,N,J,$,Me,we]});let l=m;return l})();var qt=(()=>{let m=class m{};m.\u0275fac=function(r){return new(r||m)},m.\u0275cmp=P({type:m,selectors:[["app-customer-evaluations"]],standalone:!0,features:[F],decls:2,vars:0,template:function(r,n){r&1&&(e(0,"p"),i(1,"customer-evaluations works!"),t())}});let l=m;return l})();var tn=l=>({itemsPerPage:20,currentPage:l}),nn=l=>["/admin.rupture-contrat",l];function on(l,m){if(l&1){let d=M();e(0,"tr")(1,"td"),i(2),t(),e(3,"td",50),i(4),t(),e(5,"td")(6,"p"),i(7),t()(),e(8,"td",51)(9,"p"),i(10),D(11,"transformDate"),t()(),e(12,"td",51)(13,"p"),i(14),D(15,"transformDate"),t()(),e(16,"td",51)(17,"button",52)(18,"mat-icon"),i(19,"more_vert"),t()(),e(20,"mat-menu",15,2)(22,"button",53),C("click",function(){let r=p(d).$implicit,n=v();return u(n.consulteRupture(r))}),e(23,"mat-icon"),i(24,"visibility"),t(),i(25," Consulter "),t(),e(26,"a",54)(27,"mat-icon"),i(28,"edit"),t(),i(29," Modifier "),t(),e(30,"button",53),C("click",function(){let r=p(d).$implicit,n=v();return u(n.deleteRupture(r.slug))}),e(31,"mat-icon"),i(32,"delete"),t(),i(33," Supprimer "),t()()()()}if(l&2){let d=m.$implicit,o=m.$index,r=k(21);a(2),w("#",o+1,""),a(2),w(" ",d.rupture_motif," "),a(3),S(d.first_name+" "+d.last_name),a(3),S(I(11,7,d.date_rupture,"d MMMM yyyy, \xE0 HH:mm")),a(4),S(I(15,10,d.created_at,"d MMMM yyyy, \xE0 HH:mm")),a(3),f("matMenuTriggerFor",r),a(9),f("routerLink",ee(13,nn,d.slug))}}function rn(l,m){if(l&1){let d=M();e(0,"button",55),C("click",function(){p(d);let r=v();return u(r.updateRupture())}),e(1,"mat-icon"),i(2,"save"),t(),i(3," Modifier "),t()}}function an(l,m){if(l&1){let d=M();e(0,"button",55),C("click",function(){p(d);let r=v();return u(r.saveRupture())}),e(1,"mat-icon"),i(2,"save"),t(),i(3," Enregistrer "),t()}}var Ht=(()=>{let m=class m{constructor(o,r,n,c,_,s,W){this._dialog=o,this._rupture=r,this._notificationService=n,this._loadings=c,this._router=_,this._userData=s,this._traitement=W,this.config={editable:!0,spellcheck:!0,height:"20rem",minHeight:"20rem",placeholder:"Entrer l'ordre de la mission ici",translate:"no",defaultParagraphSeparator:"p",defaultFontName:"Arial",toolbarHiddenButtons:[["bold"]],fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}]},this.employe_matricule="",this.fullscreen=!0,this.rupture_motif="",this.is_choose="",this.list_employes=[],this.list_rupture=[],this.rupture_counter=0,this.user_id="",this.p=1,this.is_update=!1,this.is_loading=!1}ngOnInit(){this.user_id=this._userData.getUserData().user_id,this.getRupture(),this.employe_matricule=this._userData.getUserData().employe_matricule,this.getAllEmployes(),this._userData!=null&&(this.is_update=!0)}radioChange(o){this.is_choose=o.value}saveRupture(){this._loadings.show_loading();let o=new FormData;o.append("employe_matricule",this.employe_matricule),o.append("date_rupture",this.formatDate(this.date_rupture).toString()),o.append("rupture_motif",this.rupture_motif),this._rupture.addRupture(o).subscribe({next:r=>{console.log(r),r.code==200?(this._notificationService.openSnackBarSuccess(r),setTimeout(()=>{this._loadings.hide_loading(),window.location.reload()},2e3)):(r.code==300||r.code==500||r.code==302)&&(this._loadings.hide_loading(),this._notificationService.openSnackBarError(r))},error:r=>{r.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getAllEmployes(){this._loadings.show_loading(),this._traitement.getEmployes().subscribe({next:o=>{setTimeout(()=>{this.list_employes=o,this._loadings.hide_loading()},700)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getRupture(){this._loadings.show_loading(),this._rupture.getCustomerRupture(this.employe_matricule).subscribe({next:o=>{console.log(o),this.list_rupture=o,this.rupture_counter=this.list_rupture.length,this._loadings.hide_loading()},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}consulteRupture(o){this._dialog.open(wt,{data:o,panelClass:"fullscreen-dialog"}).afterClosed().subscribe({next:n=>{n&&this.getRupture()}})}deleteRupture(o){this._dialog.open(te,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this._rupture.deleteRupture(o).subscribe({next:c=>{c.code==200?(this._notificationService.openSnackBarSuccess(c),this.getRupture()):c.code==404&&this._notificationService.openSnackBarError(c)},error:c=>{c.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}})}updateRupture(){if(this.rupture_motif==""){this._notificationService.openSnackBarSimpleError("motif aubligatoire");return}let o={rupture_motif:this.rupture_motif.toUpperCase(),date_rupture:this.date_rupture.toUpperCase()};this.is_loading=!0,this._rupture.updateRupture(o,this.item_slug).subscribe({next:r=>{r.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(r),this.is_loading=!1},1e3):(r.code==302||r.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(r))},error:r=>{r.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}formatDate(o){let r=o.toLocaleString("default",{year:"numeric"}),n=o.toLocaleString("default",{month:"2-digit"}),c=o.toLocaleString("default",{day:"2-digit"});return r+"-"+n+"-"+c}};m.\u0275fac=function(r){return new(r||m)(g(X),g(Mt),g(H),g(z),g(U),g(K),g(q))},m.\u0275cmp=P({type:m,selectors:[["app-customer-rupture-contrat"]],standalone:!0,features:[F],decls:115,vars:13,consts:[["guideInfo","matMenu"],["Date_rupture",""],["beforeMenu","matMenu"],[1,"hero-body"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-md-7"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title","fw-bolder","fs-5"],["mat-button","",1,"default__btn__lg","text-dark"],[1,"example-tab-icon"],[1,"fw-bolder","text-white","fs-5"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],["mat-mini-fab","",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item",""],[1,"text-primary"],[1,""],[1,"fw-bolder"],[1,"text-red"],[1,"text-warning"],[1,"card-body"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"table-responsive","mt-4"],[1,"table","table-striped","m-0"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],[1,"col-md-5"],[1,"hero-header"],[1,"col-xxl-12"],[1,"row","justify-content-center"],[1,"d-flex","justify-content-center"],["mat-fab","","extended","",1,"me-2"],[1,"row","gx-3","justify-content-center","mb-3"],[1,"col-lg-12"],["for","texte",1,"fs-4","justify-content-center"],["placeholder","rupture...",3,"ngModelChange","ngModel"],[1,"row","gx-3","mb-3"],[1,"col-lg-12","col-md-12","text-center","mb-2"],[1,"text-center","mb-3"],[1,"col-lg-12","col-md-12"],["appearance","outline"],["matInput","","placeholder","00/00/0000",3,"ngModelChange","ngModel","matDatepicker"],["matIconSuffix","",3,"for"],[1,"row","gx-3","mb-3","justify-content-center"],[1,"col-lg-8","col-md-12","text-center"],["mat-fab","","extended","","color","primary"],["type","ball-circus","size","large","color","#ef8f01"],[2,"color","#fff","font-size","1.2rem"],["width","400",2,"white-space","unset !important"],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],["mat-fab","","extended","","color","primary",3,"click"]],template:function(r,n){if(r&1){let c=M();e(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"button",10)(8,"mat-icon",11),i(9,"view_list"),t(),e(10,"span",12),i(11,"Liste des ruptures"),t()(),e(12,"button",13),i(13),t()(),e(14,"div")(15,"button",14)(16,"mat-icon"),i(17,"info"),t()(),e(18,"mat-menu",15,0)(20,"button",16)(21,"mat-icon",17),i(22,"verified"),t(),e(23,"span",18),i(24,"Indique qu'une permission a \xE9t\xE9"),e(25,"code",19),i(26,"valid\xE9e"),t()()(),e(27,"button",16)(28,"mat-icon",20),i(29,"verified"),t(),e(30,"span"),i(31,"Indique qu'une permission a \xE9t\xE9 "),e(32,"code",19),i(33," rejet\xE9e "),t()()(),e(34,"button",16)(35,"mat-icon",17),i(36,"check_circle"),t(),e(37,"span"),i(38,"Indique que la permission a \xE9t\xE9 "),e(39,"code",19),i(40,"consult\xE9e"),t()()(),e(41,"button",16)(42,"mat-icon",21),i(43,"check_circle"),t(),e(44,"span"),i(45,"Indique une "),e(46,"code",19),i(47,"nouvelle gratifications"),t(),i(48," de permission "),t()()()()(),e(49,"div",22)(50,"div",5)(51,"div",23)(52,"div",24)(53,"table",25)(54,"thead")(55,"tr")(56,"th"),i(57,"#ID"),t(),e(58,"th"),i(59,"Motif de rupture"),t(),e(60,"th"),i(61,"Emplpy\xE9"),t(),e(62,"th"),i(63,"Date de rupture"),t(),e(64,"th"),i(65,"Actions"),t()()(),e(66,"tbody"),A(67,on,34,15,"tr",null,G),D(69,"paginate"),t()()(),e(70,"div",26)(71,"pagination-controls",27),C("pageChange",function(s){return p(c),u(n.p=s)}),t()()()()()()(),e(72,"div",28)(73,"div",29)(74,"div",4)(75,"div",5)(76,"div",30)(77,"div",7)(78,"div",22)(79,"div",31)(80,"div",32)(81,"button",33)(82,"mat-icon"),i(83,"assignment_add"),t(),i(84," Formulaire de rupture "),t()()()()()()()()(),e(85,"div",3)(86,"div",5)(87,"div",23)(88,"div",7)(89,"div",22)(90,"div",34)(91,"div",35)(92,"label",36),i(93,"Motif de la rupture"),t(),e(94,"angular-editor",37),E("ngModelChange",function(s){return p(c),y(n.rupture_motif,s)||(n.rupture_motif=s),u(s)}),t()(),e(95,"div",38)(96,"div",39)(97,"h1",40),i(98,"Date de la rupture"),t()(),e(99,"div",31)(100,"div",41)(101,"mat-form-field",42)(102,"mat-label"),i(103,"Date de la rupture"),t(),e(104,"input",43),E("ngModelChange",function(s){return p(c),y(n.date_rupture,s)||(n.date_rupture=s),u(s)}),t(),b(105,"mat-datepicker-toggle",44)(106,"mat-datepicker",null,1),t()()(),e(108,"div",45)(109,"div",46),T(110,rn,4,0,"button",47)(111,an,4,0,"button",47),t()()()()()()()()()()()()(),e(112,"ngx-spinner",48)(113,"p",49),i(114," Chargement en cours... "),t()()}if(r&2){let c=k(19),_=k(107);a(13),w(" ",n.rupture_counter," "),a(2),f("matMenuTriggerFor",c),a(52),O(I(69,8,n.list_rupture,ee(11,tn,n.p))),a(27),x("ngModel",n.rupture_motif),a(10),x("ngModel",n.date_rupture),f("matDatepicker",_),a(),f("for",_),a(5),h(110,n.is_update==!1?110:-1),a(),h(111,n.is_update==!0?111:-1)}},dependencies:[B,j,re,oe,ae,L,le,se,Y,fe,ue,_e,xe,ye,Ee,be,V,pt,R,de,ce,pe,N,J,ft,xt,Ct,$,Me,we,Z]});let l=m;return l})();var ln=[{path:"employees",component:kt,data:{title:"Espace employees"}},{path:"employees.profil",component:Vt,data:{title:"Mon profil"}},{path:"employees.demande",component:Tt,data:{title:"Faire une demande"}},{path:"employees.conges",component:Rt,data:{title:"Liste des conges"}},{path:"employees.permissions",component:Ot,data:{title:"Liste permissions"}},{path:"employees.dossiers-employes",component:Ut,data:{title:"Mes des dossiers"}},{path:"employees.evaluations",component:qt,data:{title:"Liste des \xE9valuations"}},{path:"employees.rupture-contrat",component:Ht,data:{title:"Rupture de contrat"}}],zt=(()=>{let m=class m{};m.\u0275fac=function(r){return new(r||m)},m.\u0275mod=ze({type:m}),m.\u0275inj=He({imports:[V.forChild(ln),V]});let l=m;return l})();var yr=(()=>{let m=class m{};m.\u0275fac=function(r){return new(r||m)},m.\u0275mod=ze({type:m}),m.\u0275inj=He({imports:[B,zt]});let l=m;return l})();export{yr as EmployeesLayoutModule};
