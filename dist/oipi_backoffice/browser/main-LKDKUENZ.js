import{a as le}from"./chunk-IJWKXAH7.js";import{a as Me}from"./chunk-UFOIYNCG.js";import{a as de,c as Ze}from"./chunk-NI5NDY4P.js";import{Da as ve,G as Q,H as X,I as Z,J,L as K,Oa as se,P as ge,Q as ee,S as te,Sa as me,T as ie,Ta as j,U as re,Ua as Xe,V as ne,b as ze,ba as Qe,c as Pe,d as fe,da as oe,e as We,ea as ae,f as Ue,g as He,i as U,j as $e,k as qe,l as T,m as O,n as H,o as $,p as Ge,q,u as A,v as b,w as R,z as G}from"./chunk-H4TFYNCJ.js";import{$b as y,Ab as g,Bb as N,Db as z,Eb as P,F as De,Fb as r,Fc as Be,Gb as s,Hb as p,Kc as W,Lb as w,Ma as Ye,Mc as Ne,Ob as v,Qb as D,Yb as E,Za as I,Zb as m,_b as x,aa as Ae,bb as d,c as Le,ca as _e,cb as c,db as Oe,e as Mt,ec as k,f as pe,fa as Ee,fb as je,fc as C,gc as M,ha as be,hb as Fe,ia as ke,jb as Re,kb as Ve,na as S,ra as Te,sa as Ie,tb as L,vb as u,vc as he,xa as h,ya as f}from"./chunk-RHRPDK35.js";var ye=Mt((Se,Je)=>{"use strict";(function(n,i){typeof Se=="object"&&typeof Je<"u"&&typeof Le=="function"?i(Me()):typeof define=="function"&&define.amd?define(["../moment"],i):i(n.moment)})(Se,function(n){"use strict";var i=/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,a=/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?)/i,e=/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?|janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,t=[/^janv/i,/^févr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^août/i,/^sept/i,/^oct/i,/^nov/i,/^déc/i],o=n.defineLocale("fr",{months:"janvier_f\xE9vrier_mars_avril_mai_juin_juillet_ao\xFBt_septembre_octobre_novembre_d\xE9cembre".split("_"),monthsShort:"janv._f\xE9vr._mars_avr._mai_juin_juil._ao\xFBt_sept._oct._nov._d\xE9c.".split("_"),monthsRegex:e,monthsShortRegex:e,monthsStrictRegex:i,monthsShortStrictRegex:a,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xE0] LT",nextDay:"[Demain \xE0] LT",nextWeek:"dddd [\xE0] LT",lastDay:"[Hier \xE0] LT",lastWeek:"dddd [dernier \xE0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(l,_){switch(_){case"D":return l+(l===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return l+(l===1?"er":"e");case"w":case"W":return l+(l===1?"re":"e")}},week:{dow:1,doy:4}});return o})});var ui=pe(ye());var St=pe(Me(),1),Ke=pe(Me(),1),V=Ke.default||St,wt=new Ee("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:xt});function xt(){return{useUtc:!1}}function Ct(n,i){let a=Array(n);for(let e=0;e<n;e++)a[e]=i(e);return a}var ce=(()=>{let i=class i extends b{constructor(e,t){super(),this._options=t,this.setLocale(e||V.locale())}setLocale(e){super.setLocale(e);let t=V.localeData(e);this._localeData={firstDayOfWeek:t.firstDayOfWeek(),longMonths:t.months(),shortMonths:t.monthsShort(),dates:Ct(31,o=>this.createDate(2017,0,o+1).format("D")),longDaysOfWeek:t.weekdays(),shortDaysOfWeek:t.weekdaysShort(),narrowDaysOfWeek:t.weekdaysMin()}}getYear(e){return this.clone(e).year()}getMonth(e){return this.clone(e).month()}getDate(e){return this.clone(e).date()}getDayOfWeek(e){return this.clone(e).day()}getMonthNames(e){return e=="long"?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(e){return e=="long"?this._localeData.longDaysOfWeek:e=="short"?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(e){return this.clone(e).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(e){return this.clone(e).daysInMonth()}clone(e){return e.clone().locale(this.locale)}createDate(e,t,o){let l=this._createMoment({year:e,month:t,date:o}).locale(this.locale);return l.isValid(),l}today(){return this._createMoment().locale(this.locale)}parse(e,t){return e&&typeof e=="string"?this._createMoment(e,t,this.locale):e?this._createMoment(e).locale(this.locale):null}format(e,t){return e=this.clone(e),this.isValid(e),e.format(t)}addCalendarYears(e,t){return this.clone(e).add({years:t})}addCalendarMonths(e,t){return this.clone(e).add({months:t})}addCalendarDays(e,t){return this.clone(e).add({days:t})}toIso8601(e){return this.clone(e).format()}deserialize(e){let t;if(e instanceof Date)t=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if(typeof e=="string"){if(!e)return null;t=this._createMoment(e,V.ISO_8601).locale(this.locale)}return t&&this.isValid(t)?this._createMoment(t).locale(this.locale):super.deserialize(e)}isDateInstance(e){return V.isMoment(e)}isValid(e){return this.clone(e).isValid()}invalid(){return V.invalid()}_createMoment(e,t,o){let{strict:l,useUtc:_}=this._options||{};return _?V.utc(e,t,o,l):V(e,t,o,l)}};i.\u0275fac=function(t){return new(t||i)(be(A,8),be(wt,8))},i.\u0275prov=_e({token:i,factory:i.\u0275fac});let n=i;return n})();var Dt=()=>["/capital-humain"],At=()=>({exact:!0}),Et=()=>({exact:!1}),kt=()=>["/admin"];function Tt(n,i){if(n&1){let a=w();r(0,"button",42),v("click",function(){h(a),D();let t=E(44);return f(t.toggle())}),r(1,"mat-icon"),m(2,"menu"),s()()}}function It(n,i){if(n&1&&(r(0,"button",43)(1,"mat-icon",41),m(2,"category"),s(),r(3,"span",46),m(4),s()()),n&2){let a=D().$implicit;d(4),x(a.label)}}function Yt(n,i){if(n&1&&(r(0,"div",26),L(1,It,5,1,"button",43),r(2,"mat-list-item",44)(3,"button",45)(4,"mat-icon"),m(5),s(),m(6),s()()()),n&2){let a=i.$implicit;d(),g(1,a.label?1:-1),d(2),u("routerLink",a.router)("routerLinkActiveOptions",a.id==1?M(5,At):M(6,Et)),d(2),x(a.item_icon),d(),y(" ",a.item_name," ")}}function Ot(n,i){if(n&1){let a=w();r(0,"button",42),v("click",function(){h(a);let t=D();return f(t.back())}),r(1,"mat-icon"),m(2,"keyboard_backspace"),s()()}}function jt(n,i){n&1&&(r(0,"button",34)(1,"mat-icon"),m(2,"home"),s()()),n&2&&u("routerLink",M(1,kt))}var Ft={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},ut=(()=>{let i=class i{constructor(e,t,o,l,_,F,ue){this._location=e,this._traitements=t,this._userData=o,this._notificationService=l,this._authService=_,this._router=F,this.__adapter=ue,this.sidebar_menu_list=[{id:1,item_name:"Tableau de bord",item_icon:"dashboard",router:"/admin"},{id:2,label:"Gestions des compptes",item_name:"Liste des utilisateurs",item_icon:"mark_email_unread",router:"/admin.users"},{id:3,item_name:"Liste r\xF4les",item_icon:"mark_email_unread",router:"/admin.user-role"},{id:8,label:"Gestion des employ\xE9s",margin:"mb-4",item_name:"Liste des employes",item_icon:"format_list_bulleted_add",router:"/admin.list-employes"},{id:9,item_name:"Responsables",item_icon:"groups",router:"/admin.list-responsable-agents"},{id:10,item_name:"Mission",item_icon:"groups",router:"/admin.mission-employe"},{id:11,item_name:"Liste des missions",item_icon:"groups",router:"/admin.mission-list"},{id:12,item_name:"Augmentations des employes",item_icon:"format_list_bulleted_add",router:"/admin.augmentation/:slug"},{id:13,item_name:"Gratification",item_icon:"format_list_bulleted_add",router:"/admin.gratification"},{id:14,item_name:"Rupture de contrat",item_icon:"format_list_bulleted_add",router:"/admin.rupture-contrat"},{id:15,item_name:"Dotation",item_icon:"format_list_bulleted_add",router:"/admin.dotation"},{id:16,item_name:"Statistique des productions",item_icon:"format_list_bulleted_add",router:"/admin.statistique"},{id:17,item_name:"Absence non justifi\xE9",item_icon:"format_list_bulleted_add",router:"/admin.absence-no-justify"},{id:18,label:"Gestion des demandes",margin:"mb-4",item_name:"Liste des permissions",item_icon:"format_list_bulleted",router:"/admin.list-permissions"},{id:19,item_name:"Liste des cong\xE9s",item_icon:"format_list_bulleted_add",router:"/admin.list-conges"},{id:20,label:"Param\xE8tre global",margin:"mb-4",item_name:"Liste des fonctions",item_icon:"format_list_bulleted",router:"/admin.list-fonctions"},{id:21,item_name:"Liste des services",item_icon:"format_list_bulleted_add",router:"/admin.list-services"},{id:22,item_name:"Liste des sites",item_icon:"format_list_bulleted_add",router:"/admin.list-bureau"},{id:23,item_name:"Liste des contrats",item_icon:"format_list_bulleted_add",router:"/admin.list-contrats"},{id:24,item_name:"Liste des cat\xE9gories",item_icon:"format_list_bulleted_add",router:"/admin.list-category-pro"},{id:25,item_name:"Liste des types des cong\xE9s",item_icon:"format_list_bulleted_add",router:"/admin.list-type-conge"},{id:26,item_name:"Liste des documents",item_icon:"format_list_bulleted_add",router:"/admin.doc-provider"}],this.current_route="",this.user_name="",this.photo="",this.is_opened=!0,this.current_date=new Date,this.code_date_echeance="",this.code_data="",this.code_slug="",this.type_accounts="",this.screenWidth=window.innerWidth,window.onresize=()=>{this.screenWidth=window.innerWidth},this.__adapter.setLocale("fr"),this._router.events.subscribe(Y=>{Y instanceof U&&(this.current_route=Y.url)})}ngOnInit(){this.getUserConnectedData(),this.getCodeAuthorization()}back(){this._location.back()}getCodeAuthorization(){this._traitements.getCodeAuthorization(this.type_accounts).subscribe({next:e=>{setTimeout(()=>{this.code_data=e.code,this.code_slug=e.slug,this.code_date_echeance=e.date_echeance,this.autoRefreshCodeAuthorization(this.code_slug)},1e3)},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}refreshCodeAuthorization(e){this._traitements.refreshCodeAuthorization(e).subscribe({next:t=>{t.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(t),this.getCodeAuthorization()},1e3):(t.code==302||t.code==300)&&this._notificationService.openSnackBarError(t)},error:t=>{t.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}autoRefreshCodeAuthorization(e){if(this.formatDate(this.current_date)>this.code_date_echeance)this.refreshCodeAuthorization(e);else return}formatDate(e){let t=e.toLocaleString("default",{year:"numeric"}),o=e.toLocaleString("default",{month:"2-digit"}),l=e.toLocaleString("default",{day:"2-digit"});return t+"-"+o+"-"+l}getUserConnectedData(){let e=this._userData.getUserData();this.user_name=e.first_name+" "+e.last_name,this.user_id=e.user_id,this.photo=e.photo,this.type_accounts=e.type_accounts}logOut(e){console.log(e),this._traitements.logOut(e).subscribe({next:t=>{console.log(t),t.code==200&&(sessionStorage.clear(),localStorage.clear(),this._notificationService.openSnackBarSuccess(t),this._router.navigate(["/"]))},error:t=>{t.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};i.\u0275fac=function(t){return new(t||i)(c(W),c(me),c(de),c(j),c(le),c(O),c(b))},i.\u0275cmp=S({type:i,selectors:[["app-admin-layout"]],standalone:!0,features:[k([{provide:A,useValue:"fr"},{provide:b,useClass:ce,deps:[A]},{provide:R,useValue:Ft}]),C],decls:80,vars:15,consts:[["Report","matMenu"],["userDropleft","matMenu"],["drawer",""],[1,"mat-elevation-z8","default__toolbar"],["mat-icon-button",""],["src","assets/media/logoai.png","width","100","alt",""],[1,"default__spacer"],[1,"d-flex"],["mat-button","",1,"fw-bolder","text-primary","default__btn__lg",3,"matMenuTriggerFor"],[1,"custom_menu_dialog"],[1,"customer_menu_modal"],[1,"customer_menu_modal_header","p-3"],[1,"text-center","text-secondary","fs-3"],[1,"customer_menu_modal_body"],["mat-menu-item","",3,"routerLink"],[1,"text-danger"],[1,"text-primary","fw-bolder"],["mat-button","",1,"text-uppercase","text-primary","default__btn__lg",3,"matMenuTriggerFor"],["width","40","height","40","alt","",1,"img-radius","rounded-circle",3,"src"],[1,"text-center","fw-bolder"],["width","80","height","80","alt","",1,"img-radius","rounded-circle","mb-3",3,"src"],[1,"fw-bolder"],["mat-menu-item","",3,"click"],[1,"default__drawer__conrainer"],[1,"default__drawer","customer_bg-warning",3,"opened","mode"],[1,"mt-4"],[1,"ps-0"],[1,"default__content"],[1,"page-wrapper"],[1,"main-container"],[1,"content-wrapper-scroll"],[1,"main-header","d-flex","align-items-center","justify-content-between","position-relative"],[1,"d-flex","align-items-center","justify-content-center"],[1,"page-icon","pe-3"],["routerLinkActive","router-link-active","mat-icon-button","",3,"routerLink"],[1,"page-title","d-none","d-md-block"],[1,"text-danger","fw-bolder"],[1,"text-danger","fs-4","fw-bolder"],["matTooltip","Rafra\xEEchir le code","mat-mini-fab","","color","primary",3,"click"],[1,"content-wrapper"],[1,"app-footer"],[1,"text-white"],["mat-icon-button","",3,"click"],["mat-raised-button","","color","primary",1,"my-2","py-2","w-100","mat-elevation-z8","rounded-0","text-white","border-radius-0","justify-content-start","fw-bolder","text-start","text-uppercase","mt-2"],[1,"fw-bolder","text-start"],["routerLinkActive","active","mat-button","",1,"fw-bolder","w-100","text-white","py-2","mat-elevation-z8",3,"routerLink","routerLinkActiveOptions"],[1,"text-start"]],template:function(t,o){if(t&1){let l=w();r(0,"mat-toolbar",3),L(1,Tt,3,0,"button",4),p(2,"img",5)(3,"span",6),r(4,"div",7)(5,"button",8)(6,"mat-icon"),m(7,"arrow_drop_down"),s(),m(8," Param\xE8tres "),s()(),r(9,"mat-menu",9,0)(11,"div",10)(12,"div",11)(13,"h3",12),m(14," Param\xE8tes "),s()(),r(15,"div",13)(16,"button",14)(17,"mat-icon",15),m(18,"settings_accessibility"),s(),r(19,"span",16),m(20,"Gestion capital humain"),s()()()()(),r(21,"div",7)(22,"button",17)(23,"mat-icon"),m(24,"arrow_drop_down"),s(),m(25),s(),p(26,"img",18),s(),r(27,"mat-menu",9,1)(29,"div",10)(30,"div",11)(31,"h3",19),p(32,"img",20),r(33,"p",21),m(34),s()()(),r(35,"div",13),p(36,"mat-divider"),r(37,"button",22),v("click",function(){return h(l),f(o.logOut(o.user_id))}),r(38,"mat-icon",15),m(39,"logout"),s(),r(40,"span",16),m(41,"Se d\xE9connecter"),s()()()()()(),r(42,"mat-drawer-container",23)(43,"mat-drawer",24,2)(45,"mat-nav-list",25),z(46,Yt,7,7,"div",26,N),s()(),r(48,"mat-drawer-content",27)(49,"div",28)(50,"div",29)(51,"div",30)(52,"div",31)(53,"div",32)(54,"div",33),L(55,Ot,3,0,"button",4)(56,jt,3,2,"button",34),s(),r(57,"div",35)(58,"h5"),m(59,"Bienvenue sur l' "),r(60,"strong",36),m(61,"Administration"),s(),m(62),s()()(),r(63,"div",35)(64,"h5"),m(65,"Code d'autorisation: "),r(66,"strong",37),m(67),s(),m(68,", "),r(69,"button",38),v("click",function(){return h(l),f(o.refreshCodeAuthorization(o.code_slug))}),r(70,"mat-icon"),m(71,"restart_alt"),s()()()()(),r(72,"div",39),p(73,"router-outlet"),s()(),r(74,"div",40)(75,"span",41),m(76,"\xA9 ALERTE INFO "),r(77,"span",15),m(78,"ADMIN RH"),s(),m(79," 2024 "),s()()()()()()}if(t&2){let l=E(10),_=E(28);d(),g(1,o.screenWidth<840?1:-1),d(4),u("matMenuTriggerFor",l),d(11),u("routerLink",M(14,Dt)),d(6),u("matMenuTriggerFor",_),d(3),y(" ",o.user_name," "),d(),u("src",o.photo,I),d(6),u("src",o.photo,I),d(2),y("Bonjour ",o.user_name," !"),d(9),u("opened",o.screenWidth>840)("mode",o.screenWidth>840?"side":"over"),d(3),P(o.sidebar_menu_list),d(9),g(55,o.current_route!="/admin"?55:-1),d(),g(56,o.current_route!="/admin"?56:-1),d(6),y(", ",o.user_name,""),d(5),x(o.code_data)}},dependencies:[T,se,G,X,Q,Z,J,K,ee,ge,te,re,ne,ie,ae,oe,ve,q,H,$]});let n=i;return n})();var pt=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=S({type:i,selectors:[["app-auth-layout"]],standalone:!0,features:[k([{provide:he,useValue:"fr-FR"}]),C],decls:1,vars:0,template:function(t,o){t&1&&p(0,"router-outlet")},dependencies:[T]});let n=i;return n})();var Si=pe(ye());var Rt=()=>({exact:!0}),Vt=()=>({exact:!1}),Bt=()=>["/capital-humain"];function Nt(n,i){if(n&1){let a=w();r(0,"button",39),v("click",function(){h(a),D();let t=E(28);return f(t.toggle())}),r(1,"mat-icon"),m(2,"menu"),s()()}}function zt(n,i){if(n&1&&(r(0,"button",40)(1,"mat-icon",18),m(2,"category"),s(),r(3,"span",43),m(4),s()()),n&2){let a=D().$implicit;d(4),x(a.label)}}function Pt(n,i){if(n&1&&(r(0,"div",23),L(1,zt,5,1,"button",40),r(2,"mat-list-item",41)(3,"button",42)(4,"mat-icon"),m(5),s(),m(6),s()()()),n&2){let a=i.$implicit;d(),g(1,a.label?1:-1),d(2),u("routerLink",a.router)("routerLinkActiveOptions",a.id==1?M(5,Rt):M(6,Vt)),d(2),x(a.item_icon),d(),y(" ",a.item_name," ")}}function Wt(n,i){if(n&1){let a=w();r(0,"button",39),v("click",function(){h(a);let t=D();return f(t.back())}),r(1,"mat-icon"),m(2,"keyboard_backspace"),s()()}}function Ut(n,i){n&1&&(r(0,"button",31)(1,"mat-icon"),m(2,"home"),s()()),n&2&&u("routerLink",M(1,Bt))}var Ht={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},_t=(()=>{let i=class i{constructor(e,t,o,l,_,F,ue){this._location=e,this._traitements=t,this._userData=o,this._notificationService=l,this._authService=_,this._router=F,this.__adapter=ue,this.sidebar_menu_list=[{id:1,item_name:"Tableau de board",item_icon:"dashboard",router:"/capital-humain"},{id:2,label:"Employ\xE9s",item_name:"Liste employ\xE9 infos",item_icon:"group_add",router:"/ch.employees-infos"},{id:3,item_name:"Rupture de contrat",item_icon:"format_list_bulleted_add",router:"/ch.rupture-contrat"},{id:4,item_name:"Liste des employ\xE9s",item_icon:"group",router:"/ch.employees"},{id:5,label:"Gestion des missions",item_name:"Programmation",item_icon:"group",router:"/ch.missions"},{id:6,item_name:"Liste des missions",item_icon:"group",router:"/ch.list-misson"},{id:7,label:"Autres gestions",item_name:"Rupture de contrat",item_icon:"format_list_bulleted_add",router:"/ch.rupture-contrat"},{id:8,item_name:"Dotation",item_icon:"format_list_bulleted_add",router:"/ch.dotation"},{id:11,label:"Cong\xE9s et Permissions",margin:"mb-4",item_name:"Faire une demande",item_icon:"format_list_bulleted",router:"/ch.faire-demande"},{id:12,item_name:"Liste permissions",item_icon:"format_list_bulleted",router:"/ch.permissions"},{id:13,item_name:"Liste des cong\xE9s",item_icon:"format_list_bulleted",router:"/ch.conges"},{id:14,item_name:"Programmer un cong\xE9",item_icon:"format_list_bulleted",router:"/ch.programme-conge"},{id:15,item_name:"Liste des programmes des cong\xE9s",item_icon:"format_list_bulleted",router:"/ch.list-programme-conge"},{id:16,label:"Evaluation employ\xE9s",item_name:"Evaluation",item_icon:"elevator",router:"/ch.evaluations"},{id:17,label:"Dossiers employ\xE9s",item_name:"Liste dossiers",item_icon:"folder",router:"/ch.dossiers-employes"}],this.user_name="",this.photo="",this.type_accounts="",this.code_data="",this.code_slug="",this.current_route="",this.current_date=new Date,this.code_date_echeance="",this.screenWidth=window.innerWidth,window.onresize=()=>{this.screenWidth=window.innerWidth},this.__adapter.setLocale("fr"),this._router.events.subscribe(Y=>{Y instanceof U&&(this.current_route=Y.url)})}ngOnInit(){this.getUserConnectedData(),this.getCodeAuthorization()}back(){this._location.back()}getUserConnectedData(){let e=this._userData.getUserData();this.user_name=e.first_name,this.user_id=e.user_id,this.photo=e.photo,this.type_accounts=e.type_accounts}getCodeAuthorization(){this._traitements.getCodeAuthorization(this.type_accounts).subscribe({next:e=>{setTimeout(()=>{this.code_data=e.code,this.code_slug=e.slug,this.code_date_echeance=e.date_echeance,this.autoRefreshCodeAuthorization(this.code_slug)},1e3)},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}refreshCodeAuthorization(e){this._traitements.refreshCodeAuthorization(e).subscribe({next:t=>{t.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(t),this.getCodeAuthorization()},1e3):(t.code==302||t.code==300)&&this._notificationService.openSnackBarError(t)},error:t=>{t.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}autoRefreshCodeAuthorization(e){if(this.formatDate(this.current_date)>this.code_date_echeance)this.refreshCodeAuthorization(e);else return}logOut(e){this._traitements.logOut(e).subscribe({next:t=>{t.code==200&&(sessionStorage.clear(),localStorage.clear(),this._notificationService.openSnackBarSuccess(t),this._router.navigate(["/"]))},error:t=>{t.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}formatDate(e){let t=e.toLocaleString("default",{year:"numeric"}),o=e.toLocaleString("default",{month:"2-digit"}),l=e.toLocaleString("default",{day:"2-digit"});return t+"-"+o+"-"+l}};i.\u0275fac=function(t){return new(t||i)(c(W),c(me),c(de),c(j),c(le),c(O),c(b))},i.\u0275cmp=S({type:i,selectors:[["app-capital-humain-manager-layout"]],standalone:!0,features:[k([{provide:A,useValue:"fr"},{provide:b,useClass:ce,deps:[A]},{provide:R,useValue:Ht}]),C],decls:65,vars:12,consts:[["userDropleft","matMenu"],["drawer",""],[1,"mat-elevation-z8","default__toolbar"],["mat-icon-button",""],["routerLink","/"],["src","assets/media/logoai.png","width","100","alt",""],[1,"default__spacer"],[1,"d-flex"],["mat-button","",1,"text-uppercase","text-primary","default__btn__lg",3,"matMenuTriggerFor"],["width","40","height","40","alt","",1,"img-radius","rounded-circle",3,"src"],[1,"custom_menu_dialog"],[1,"customer_menu_modal"],[1,"customer_menu_modal_header","p-3"],[1,"text-center","fw-bolder"],["width","80","height","80","alt","",1,"img-radius","rounded-circle","mb-3",3,"src"],[1,"fw-bolder"],[1,"customer_menu_modal_body"],["mat-menu-item","",3,"click"],[1,"text-danger"],[1,"text-primary","fw-bolder"],[1,"default__drawer__conrainer"],[1,"default__drawer","customer_bg-dark",3,"opened","mode"],[1,"mt-4"],[1,"ps-0"],[1,"default__content"],[1,"page-wrapper"],[1,"main-container"],[1,"content-wrapper-scroll"],[1,"main-header","d-flex","align-items-center","justify-content-between","position-relative"],[1,"d-flex","align-items-center","justify-content-center"],[1,"page-icon","pe-3"],["routerLinkActive","router-link-active","mat-icon-button","",3,"routerLink"],[1,"page-title","d-none","d-md-block"],[1,"text-danger","fw-bolder"],[1,"text-danger","fs-4","fw-bolder"],["matTooltip","Rafra\xEEchir le code","mat-mini-fab","","color","primary",3,"click"],[1,"content-wrapper"],[1,"app-footer"],[1,"text-white"],["mat-icon-button","",3,"click"],["disabled","","mat-button","",1,"my-2","py-2","w-100","mat-elevation-z8","text-white","justify-content-start","fw-bolder","text-start","text-uppercase","mt-2"],[1,"fw-bolder","text-start"],["routerLinkActive","active","mat-button","",1,"fw-bolder","text-white","w-100","py-2","mat-elevation-z8",3,"routerLink","routerLinkActiveOptions"],[1,"text-start"]],template:function(t,o){if(t&1){let l=w();r(0,"mat-toolbar",2),L(1,Nt,3,0,"button",3),r(2,"a",4),p(3,"img",5),s(),p(4,"span",6),r(5,"div",7)(6,"button",8)(7,"mat-icon"),m(8,"arrow_drop_down"),s(),m(9),s(),p(10,"img",9),s(),r(11,"mat-menu",10,0)(13,"div",11)(14,"div",12)(15,"h3",13),p(16,"img",14),r(17,"p",15),m(18),s()()(),r(19,"div",16),p(20,"mat-divider"),r(21,"button",17),v("click",function(){return h(l),f(o.logOut(o.user_id))}),r(22,"mat-icon",18),m(23,"logout"),s(),r(24,"span",19),m(25,"Se d\xE9connecter"),s()()()()()(),r(26,"mat-drawer-container",20)(27,"mat-drawer",21,1)(29,"mat-nav-list",22),z(30,Pt,7,7,"div",23,N),s()(),r(32,"mat-drawer-content",24)(33,"div",25)(34,"div",26)(35,"div",27)(36,"div",28)(37,"div",29)(38,"div",30),L(39,Wt,3,0,"button",3)(40,Ut,3,2,"button",31),s(),r(41,"div",32)(42,"h5"),m(43,"Bienvenue sur l"),r(44,"strong",33),m(45,"'espace du capital humain, "),s(),r(46,"strong"),m(47),s()()()(),r(48,"div",32)(49,"h5"),m(50,"Code d'autorisation: "),r(51,"strong",34),m(52),s(),m(53,", "),r(54,"button",35),v("click",function(){return h(l),f(o.refreshCodeAuthorization(o.code_slug))}),r(55,"mat-icon"),m(56,"restart_alt"),s()()()()(),r(57,"div",36),p(58,"router-outlet"),s()(),r(59,"div",37)(60,"span",38),m(61,"\xA9 ALERTE INFO "),r(62,"span",18),m(63,"RH"),s(),m(64," 2024 "),s()()()()()()}if(t&2){let l=E(12);d(),g(1,o.screenWidth<840?1:-1),d(5),u("matMenuTriggerFor",l),d(3),y(" ",o.user_name," "),d(),u("src",o.photo,I),d(6),u("src",o.photo,I),d(2),y("Bonjour ",o.user_name," !"),d(9),u("opened",o.screenWidth>840)("mode",o.screenWidth>840?"side":"over"),d(3),P(o.sidebar_menu_list),d(9),g(39,o.current_route!="/capital-humain"?39:-1),d(),g(40,o.current_route=="/capital-humain"?40:-1),d(7),x(o.user_name),d(5),x(o.code_data)}},dependencies:[T,se,G,X,Q,Z,J,K,ee,ge,te,re,ne,ie,ae,oe,ve,q,H,$]});let n=i;return n})();var Ii=pe(ye());var $t=()=>({exact:!0}),qt=()=>({exact:!1}),Gt=()=>["/employees"];function Qt(n,i){if(n&1){let a=w();r(0,"button",36),v("click",function(){h(a),D();let t=E(27);return f(t.toggle())}),r(1,"mat-icon"),m(2,"menu"),s()()}}function Xt(n,i){if(n&1&&(r(0,"div",22)(1,"li",37),m(2),s(),r(3,"mat-list-item",38)(4,"button",39)(5,"mat-icon",40),m(6),s(),r(7,"span",41),m(8),s()()()()),n&2){let a=i.$implicit;d(2),y(" ",a.label,""),d(2),u("routerLink",a.router)("routerLinkActiveOptions",a.id==1?M(5,$t):M(6,qt)),d(2),x(a.item_icon),d(2),x(a.item_name)}}function Zt(n,i){if(n&1){let a=w();r(0,"button",36),v("click",function(){h(a);let t=D();return f(t.back())}),r(1,"mat-icon"),m(2,"keyboard_backspace"),s()()}}function Jt(n,i){n&1&&(r(0,"button",30)(1,"mat-icon"),m(2,"home"),s()()),n&2&&u("routerLink",M(1,Gt))}var Kt={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},ht=(()=>{let i=class i{constructor(e,t,o,l,_,F,ue){this._location=e,this._traitements=t,this._userData=o,this._notificationService=l,this._authService=_,this._router=F,this.__adapter=ue,this.sidebar_menu_list=[{id:1,item_name:"Tableau de board",item_icon:"dashboard",router:"/employees"},{id:2,label:"Employ\xE9s",item_name:"Mon profil",item_icon:"group_add",router:"/employees.profil"},{id:3,item_name:"Rupture contrat",item_icon:"list_alt",router:"/employees.rupture-contrat"},{id:11,label:"Cong\xE9s et Permissions",margin:"mb-4",item_name:"Faire une demande",item_icon:"playlist_add",router:"/employees.demande"},{id:12,item_name:"Mes permissions",item_icon:"format_list_bulleted",router:"/employees.permissions"},{id:13,item_name:"Mes cong\xE9s",item_icon:"format_list_bulleted",router:"/employees.conges"},{id:15,label:"Dossiers employ\xE9s",item_name:"Mon dossier",item_icon:"folder",router:"/employees.dossiers-employes"}],this.user_name="",this.photo="",this.current_route="",this.screenWidth=window.innerWidth,this.__adapter.setLocale("fr"),window.onresize=()=>{this.screenWidth=window.innerWidth},this._router.events.subscribe(Y=>{Y instanceof U&&(this.current_route=Y.url)})}ngOnInit(){this.getUserConnectedData()}back(){this._location.back()}getUserConnectedData(){let e=this._userData.getUserData();this.user_name=e.first_name,this.user_id=e.user_id,this.photo=e.photo}logOut(e){this._traitements.logOut(e).subscribe({next:t=>{t.code==200&&(sessionStorage.clear(),localStorage.clear(),this._notificationService.openSnackBarSuccess(t),this._router.navigate(["/"]))},error:t=>{t.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};i.\u0275fac=function(t){return new(t||i)(c(W),c(me),c(de),c(j),c(le),c(O),c(b))},i.\u0275cmp=S({type:i,selectors:[["app-employees-layout"]],standalone:!0,features:[k([{provide:A,useValue:"fr"},{provide:b,useClass:ce,deps:[A]},{provide:R,useValue:Kt}]),C],decls:54,vars:11,consts:[["userDropleft","matMenu"],["drawer",""],[1,"mat-elevation-z8","default__toolbar"],["mat-icon-button",""],["src","assets/media/logoai.png","width","100","alt",""],[1,"default__spacer"],[1,"d-flex"],["mat-button","",1,"text-uppercase","text-primary","fw-bolder","default__btn__lg",3,"matMenuTriggerFor"],["width","40","height","40","alt","",1,"img-radius","rounded-circle",3,"src"],[1,"custom_menu_dialog"],[1,"customer_menu_modal"],[1,"customer_menu_modal_header","p-3"],[1,"text-center","fw-bolder"],["width","80","height","80","alt","",1,"img-radius","rounded-circle","mb-3",3,"src"],[1,"fw-bolder"],[1,"customer_menu_modal_body"],["mat-menu-item","",3,"click"],[1,"text-danger"],[1,"text-primary","fw-bolder"],[1,"default__drawer__conrainer"],[1,"default__drawer","customer_bg_default",3,"opened","mode"],[1,"mt-4"],[1,"ps-0","text-start"],[1,"default__content"],[1,"page-wrapper"],[1,"main-container"],[1,"content-wrapper-scroll"],[1,"main-header","d-flex","align-items-center","justify-content-between","position-relative"],[1,"d-flex","align-items-center","justify-content-center"],[1,"page-icon","pe-3"],["routerLinkActive","router-link-active","mat-icon-button","",3,"routerLink"],[1,"page-title","d-none","d-md-block"],[1,"text-danger","fw-bolder"],[1,"content-wrapper"],[1,"app-footer"],[1,"text-white"],["mat-icon-button","",3,"click"],[1,"text-danger","ms-3","fw-bolder","fs-6","mt-2"],[1,"fw-bolder","text-start","customer-list-item"],["routerLinkActive","active","mat-button","",1,"fw-bolder","w-100","py-2","text-dark","mat-elevation-z8",3,"routerLink","routerLinkActiveOptions"],[1,"text-primary"],[1,"text-start"]],template:function(t,o){if(t&1){let l=w();r(0,"mat-toolbar",2),L(1,Qt,3,0,"button",3),p(2,"img",4)(3,"span",5),r(4,"div",6)(5,"button",7)(6,"mat-icon"),m(7,"arrow_drop_down"),s(),m(8),s(),p(9,"img",8),s(),r(10,"mat-menu",9,0)(12,"div",10)(13,"div",11)(14,"h3",12),p(15,"img",13),r(16,"p",14),m(17),s()()(),r(18,"div",15),p(19,"mat-divider"),r(20,"button",16),v("click",function(){return h(l),f(o.logOut(o.user_id))}),r(21,"mat-icon",17),m(22,"logout"),s(),r(23,"span",18),m(24,"Se deconnecter"),s()()()()()(),r(25,"mat-drawer-container",19)(26,"mat-drawer",20,1)(28,"mat-nav-list",21),z(29,Xt,9,7,"div",22,N),s()(),r(31,"mat-drawer-content",23)(32,"div",24)(33,"div",25)(34,"div",26)(35,"div",27)(36,"div",28)(37,"div",29),L(38,Zt,3,0,"button",3)(39,Jt,3,2,"button",30),s(),r(40,"div",31)(41,"h5"),m(42,"Bienvenue "),r(43,"strong",32),m(44,"Espace employ\xE9"),s(),m(45),s()()()(),r(46,"div",33),p(47,"router-outlet"),s()(),r(48,"div",34)(49,"span",35),m(50,"\xA9 ALERTE INFO "),r(51,"span",17),m(52,"EMPLOYE"),s(),m(53," 2024 "),s()()()()()()}if(t&2){let l=E(11);d(),g(1,o.screenWidth<840?1:-1),d(4),u("matMenuTriggerFor",l),d(3),y(" ",o.user_name," "),d(),u("src",o.photo,I),d(6),u("src",o.photo,I),d(2),y("Bonjour ",o.user_name," !"),d(9),u("opened",o.screenWidth>840)("mode",o.screenWidth>840?"side":"over"),d(3),P(o.sidebar_menu_list),d(9),g(38,o.current_route!="/employees"?38:-1),d(),g(39,o.current_route=="/employees"?39:-1),d(6),y(", ",o.user_name,"")}},dependencies:[T,se,G,X,Q,Z,J,K,ee,te,re,ne,ie,ae,oe,q,H,$]});let n=i;return n})();var ft=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=S({type:i,selectors:[["app-error-404"]],standalone:!0,features:[C],decls:2,vars:0,template:function(t,o){t&1&&(r(0,"p"),m(1,"error-404 works!"),s())}});let n=i;return n})();var gt=[{path:"",redirectTo:"",pathMatch:"full"},{path:"",component:pt,children:[{path:"",loadChildren:()=>import("./chunk-P5NHEP4J.js").then(n=>n.AuthLayoutModule)}]},{path:"",component:ut,children:[{path:"",loadChildren:()=>import("./chunk-42ATFVNY.js").then(n=>n.AdminLayoutModule)}]},{path:"",component:_t,children:[{path:"",loadChildren:()=>import("./chunk-PNOMQQE3.js").then(n=>n.CapitalHumainManagerLayoutModule)}]},{path:"",component:ht,children:[{path:"",loadChildren:()=>import("./chunk-NZJBFNAI.js").then(n=>n.EmployeesLayoutModule)}]},{path:"404-error",component:ft,data:{title:"Not Found"}},{path:"**",redirectTo:"404-error"}];var ei="@",ti=(()=>{let i=class i{constructor(e,t,o,l,_){this.doc=e,this.delegate=t,this.zone=o,this.animationType=l,this.moduleImpl=_,this._rendererFactoryPromise=null,this.scheduler=ke(je,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-5T5QB5WJ.js")).catch(t=>{throw new Ae(5300,!1)}).then(({\u0275createEngine:t,\u0275AnimationRendererFactory:o})=>{this._engine=t(this.animationType,this.doc,this.scheduler);let l=new o(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(e,t){let o=this.delegate.createRenderer(e,t);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let l=new Ce(o);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(_=>{let F=_.createRenderer(e,t);l.use(F)}).catch(_=>{l.use(o)}),l}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};i.\u0275fac=function(t){Oe()},i.\u0275prov=_e({token:i,factory:i.\u0275fac});let n=i;return n})(),Ce=class{constructor(i){this.delegate=i,this.replay=[],this.\u0275type=1}use(i){if(this.delegate=i,this.replay!==null){for(let a of this.replay)a(i);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(i,a){return this.delegate.createElement(i,a)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}get destroyNode(){return this.delegate.destroyNode}appendChild(i,a){this.delegate.appendChild(i,a)}insertBefore(i,a,e,t){this.delegate.insertBefore(i,a,e,t)}removeChild(i,a,e){this.delegate.removeChild(i,a,e)}selectRootElement(i,a){return this.delegate.selectRootElement(i,a)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,a,e,t){this.delegate.setAttribute(i,a,e,t)}removeAttribute(i,a,e){this.delegate.removeAttribute(i,a,e)}addClass(i,a){this.delegate.addClass(i,a)}removeClass(i,a){this.delegate.removeClass(i,a)}setStyle(i,a,e,t){this.delegate.setStyle(i,a,e,t)}removeStyle(i,a,e){this.delegate.removeStyle(i,a,e)}setProperty(i,a,e){this.shouldReplay(a)&&this.replay.push(t=>t.setProperty(i,a,e)),this.delegate.setProperty(i,a,e)}setValue(i,a){this.delegate.setValue(i,a)}listen(i,a,e){return this.shouldReplay(a)&&this.replay.push(t=>t.listen(i,a,e)),this.delegate.listen(i,a,e)}shouldReplay(i){return this.replay!==null&&i.startsWith(ei)}};function vt(n="animations"){return Re("NgAsyncAnimations"),Te([{provide:Fe,useFactory:(i,a,e)=>new ti(i,a,e,n),deps:[Be,We,Ve]},{provide:Ye,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var yt={providers:[Ge(gt),vt(),ze(Pe()),Ie([Ze,Qe,fe])]};var bt=(()=>{let i=class i{constructor(e,t,o,l){this._router=e,this._titleService=t,this._activatedRoute=o,this._notificationService=l,this.title="oipi_backoffice",Ne(Xe)}ngOnInit(){this._router.events.pipe(De(e=>e instanceof $e)).subscribe(()=>{this.getChild(this._activatedRoute).data.subscribe(t=>{this._titleService.setTitle(t.title)})}),window.addEventListener("offline",()=>{this.status="offline",this.ShowOffLineAlert()}),window.addEventListener("online",()=>{this.status="online",this.ShowOnLineAlert()})}getChild(e){return e.firstChild?this.getChild(e.firstChild):e}ShowOffLineAlert(){this._notificationService.openSnackBarSimpleError("Vous \xEAtes hors connexion")}ShowOnLineAlert(){this._notificationService.openSnackBarSimpleSuccess("Connexion r\xE9tablie")}};i.\u0275fac=function(t){return new(t||i)(c(O),c(He),c(qe),c(j))},i.\u0275cmp=S({type:i,selectors:[["app-root"]],standalone:!0,features:[k([{provide:he,useValue:"fr-FR"},fe]),C],decls:1,vars:0,template:function(t,o){t&1&&p(0,"router-outlet")},dependencies:[T]});let n=i;return n})();Ue(bt,yt).catch(n=>console.error(n));
