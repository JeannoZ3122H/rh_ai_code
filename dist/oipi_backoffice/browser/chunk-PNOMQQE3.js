import{a as Nt,b as Ot,c as Ht,d as Ut,e as Ye}from"./chunk-DLFFIJYF.js";import{a as Yt,b as Dt,c as kt}from"./chunk-THRAB5HM.js";import"./chunk-UFOIYNCG.js";import{a as se,b as ie,c as st,e as me,f as de,g as Y,h as z,i as U,j as mt,k as H,l as bt,m as Mt,n as wt,o as dt,p as zt,q as qt}from"./chunk-GJJTSN4U.js";import{a as he,b as rt,c as lt}from"./chunk-NI5NDY4P.js";import{Aa as Me,Ba as we,Ca as Te,Da as De,Ea as St,Fa as Et,G as oe,Ga as Ct,H as ae,Ha as yt,I as re,J as W,Ja as nt,L as te,La as ot,M as jt,Ma as at,O as Ce,Oa as R,P as le,Q as ye,Sa as ee,Ta as A,X as J,Y as Q,Z as K,_ as Wt,aa as vt,ba as N,ca as $e,fa as Z,ga as xt,ha as Rt,ia as fe,ja as X,k as He,la as be,m as j,n as Se,na as et,oa as tt,pa as it,q as O,qa as We,ra as Re,sa as ne,ta as Ue,ua as ze,va as qe,wa as At,x as Ee,ya as $}from"./chunk-H4TFYNCJ.js";import{$b as C,Ab as g,Bb as V,Db as F,Eb as L,Fb as t,Gb as e,Hb as S,Lb as T,Ob as v,Qb as x,Vb as Pt,Wb as Ft,Wc as Xe,Xb as Lt,Ya as Ze,Yb as I,Za as ge,Zb as i,Zc as xe,_b as E,ac as Qe,bb as l,bc as y,cb as h,cc as b,da as ft,dc as M,fc as P,gc as Vt,hc as q,ic as Tt,jc as D,kc as Oe,lc as k,na as B,oa as ht,tb as w,vb as u,wb as gt,xa as _,ya as f,yb as Pe}from"./chunk-RHRPDK35.js";var Ti=["chart"];function Di(r,m){if(r&1&&(t(0,"div",10),S(1,"apx-chart",15),e()),r&2){let s=x();l(),u("series",s.chartOptions.series)("chart",s.chartOptions.chart)("xaxis",s.chartOptions.xaxis)("fill",s.chartOptions.fill)("colors",s.chartOptions.colors)}}var Gt=(()=>{let m=class m{constructor(n,a,o,c){this._traitement=n,this._notificationService=a,this._router=o,this._loading=c,this.capital_net=0,this.profit_on_current_sale=0,this.current_sale=0,this.employees=0,this.employees_men=0,this.employees_women=0,this.cumule_presence=0,this.cumule_absence=0,this.cumule_presence_chart=[],this.cumule_absence_chart=[]}ngOnInit(){this.getRhAttendanceStatistique(),this.getStatistiqueData()}globalStatistique(n,a,o){return this.chartOptions={chart:{height:300,type:"area",toolbar:{show:!0}},dataLabels:{enabled:!1},stroke:{curve:"stepline",width:3},series:[{name:"Pr\xE9sence",data:n},{name:"Absence",data:a}],fill:{opacity:[.85,.25,1],gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.85,opacityTo:.55,stops:[0,100,100,100]}},grid:{borderColor:"#e0e6ed",strokeDashArray:5,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:0,right:0,bottom:10,left:0}},xaxis:{categories:o},yaxis:{labels:{show:!1}},colors:["#1f7554","#ef9100"],markers:{size:0,opacity:.3,colors:["#ef9100","#f2a1a8"],strokeColor:"#ffffff",strokeWidth:2,hover:{size:7}}}}getStatistiqueData(){this._traitement.getRhStatistique().subscribe({next:n=>{this.employees=n.all_employee,this.employees_men=n.all_employee_men,this.employees_women=n.all_employee_women},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getRhAttendanceStatistique(){this._traitement.getRhAttendanceStatistique().subscribe({next:n=>{console.log(n),this.globalStatistique(n.cumule_presence,n.cumule_absence,n.month)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(h(ee),h(A),h(j),h(H))},m.\u0275cmp=B({type:m,selectors:[["app-ch-welcome"]],viewQuery:function(a,o){if(a&1&&Pt(Ti,5),a&2){let c;Ft(c=Lt())&&(o.chart=c.first)}},standalone:!0,features:[P],decls:40,vars:10,consts:[[1,"hero-header"],[1,"container-fluid"],[1,"hero-body"],[1,"row","gx-3"],[1,"col-sm-4","col-6"],[1,"d-flex","flex-column","p-4","rounded-2","box-bdr-blue","stats-tile"],[1,"mb-3","fw-bolder","fs-5","d-flex","justify-content-between"],[1,"progress","medium"],["role","progressbar","aria-valuenow","60","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","shade-blue"],[1,"m-0","mt-2","fs-5","fw-bolder"],[1,"d-flex","flex-column","p-4","rounded-2","box-bdr-yellow","stats-tile"],["role","progressbar","aria-valuenow","60","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","shade-yellow"],[1,"d-flex","flex-column","p-4","rounded-2","box-bdr-green","stats-tile"],["role","progressbar","aria-valuenow","60","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","shade-green"],[1,"col-sm-12","col-6"],[3,"series","chart","xaxis","fill","colors"]],template:function(a,o){a&1&&(t(0,"div",0),S(1,"div",1),e(),t(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6)(7,"span"),i(8),e(),t(9,"mat-icon"),i(10,"group"),e()(),t(11,"div",7),S(12,"div",8),e(),t(13,"p",9),i(14,"Total employ\xE9"),e()()(),t(15,"div",4)(16,"div",10)(17,"h4",6)(18,"span"),i(19),e(),t(20,"mat-icon"),i(21,"group"),e()(),t(22,"div",7),S(23,"div",11),e(),t(24,"p",9),i(25,"Hommes"),e()()(),t(26,"div",4)(27,"div",12)(28,"h4",6)(29,"span"),i(30),e(),t(31,"mat-icon"),i(32,"group"),e()(),t(33,"div",7),S(34,"div",13),e(),t(35,"p",9),i(36,"Femmes"),e()()()(),t(37,"div",3)(38,"div",14),w(39,Di,2,5,"div",10),e()()()),a&2&&(l(8),E(o.employees),l(4),gt("width",o.employees+"%"),l(7),E(o.employees_men),l(4),gt("width",o.employees_men+"%"),l(7),E(o.employees_women),l(4),gt("width",o.employees_women+"%"),l(5),g(39,o.chartOptions?39:-1))},dependencies:[Y,Ht,Ot,R,W,U]});let r=m;return r})();var ki=r=>({itemsPerPage:20,currentPage:r}),Ii=r=>["/ch.detail.employes",r];function Bi(r,m){if(r&1&&(t(0,"mat-option",18),i(1),e()),r&2){let s=m.$implicit;u("value",s.id),l(),E(s.service)}}function Pi(r,m){r&1&&(t(0,"button",33)(1,"mat-icon",41),i(2,"check_circle"),e()())}function Fi(r,m){r&1&&(t(0,"button",34)(1,"mat-icon",42),i(2,"check_circle"),e()())}function Li(r,m){r&1&&(t(0,"button",35)(1,"mat-icon",41),i(2,"verified"),e()())}function Vi(r,m){r&1&&(t(0,"button",36)(1,"mat-icon",43),i(2,"pending"),e()())}function ji(r,m){if(r&1){let s=T();t(0,"tr")(1,"td"),i(2),e(),t(3,"td")(4,"div",26)(5,"a",27),S(6,"img",28),e(),t(7,"div")(8,"p",29),i(9),e(),t(10,"p",30),i(11),e()()()(),t(12,"td",31)(13,"p",32),i(14),e()(),t(15,"td",21)(16,"p",32),i(17),D(18,"transformText"),e()(),t(19,"td",21)(20,"p",32),i(21),D(22,"transformText"),e()(),t(23,"td",21),w(24,Pi,3,0,"button",33)(25,Fi,3,0,"button",34),e(),t(26,"td",21),w(27,Li,3,0,"button",35)(28,Vi,3,0,"button",36),e(),t(29,"td",21)(30,"p",32),i(31),D(32,"transformDate"),e()(),t(33,"td",37)(34,"button",38)(35,"mat-icon"),i(36,"more_vert"),e()(),t(37,"mat-menu",39,0)(39,"button",40),v("click",function(){let a=_(s).$implicit,o=x();return f(o.showEmploye(a.slug))}),t(40,"mat-icon"),i(41,"visibility"),e(),i(42," Consulter "),e(),t(43,"button",40),v("click",function(){let a=_(s).$implicit,o=x();return f(o.deleteEmploye(a.slug))}),t(44,"mat-icon"),i(45,"delete"),e(),i(46," Supprimer "),e()()()()}if(r&2){let s=m.$implicit,n=m.$index,a=I(38);l(2),E(n+1),l(3),u("routerLink",q(21,Ii,s.slug)),l(),u("src",s.photo,ge),l(3),C(" ",s.first_name+" "+s.last_name," "),l(2),C(" ",s.adresse_email," "),l(3),C(" ",s.matricule," "),l(3),E(Oe(18,14,s.fonction)),l(4),E(Oe(22,16,s.service)),l(3),g(24,s.account_created==1?24:-1),l(),g(25,s.account_created==0?25:-1),l(2),g(27,s.status_dossiers==1?27:-1),l(),g(28,s.status_dossiers==0?28:-1),l(3),E(k(32,18,s.created_at,"d MMMM yyyy, \xE0 HH:mm")),l(3),u("matMenuTriggerFor",a)}}function Wi(r,m){r&1&&(t(0,"tr")(1,"td",44)(2,"h1",21),i(3,"Aucune donn\xE9es pour le moment"),e()()())}var Jt=(()=>{let m=class m{constructor(n,a,o,c,p){this._dialog=n,this._traitement=a,this._notificationService=o,this._loading=c,this._router=p,this.list_employes=[],this.list_service=[],this.p=1,this.status_list=[{id:1,status:"Responsable de service",abrev:"RS"},{id:2,status:"Agent de service",abrev:"AS"}],this.status=""}ngOnInit(){this._loading.show_loading(),setTimeout(()=>{this.getEmployeesList(),this.getServiceList(),this._loading.hide_loading()},1e3)}searchInTable(){this._loading.show_loading(),this._traitement.filterByQuery(this.search).subscribe({next:n=>{setTimeout(()=>{this.list_employes=n,this._loading.hide_loading()},500)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getServiceList(){this._traitement.getService().subscribe({next:n=>{setTimeout(()=>{this.list_service=n},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}selectService(n){this.service=n.value,this._loading.show_loading(),this._traitement.filterByService(this.service).subscribe({next:a=>{setTimeout(()=>{this.list_employes=a,this._loading.hide_loading()},500)},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getEmployeesList(){this._traitement.getEmployes().subscribe({next:n=>{setTimeout(()=>{this.list_employes=n},700)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openEmployeAccountDialog(n){this._dialog.open(Ut,{width:"auto",data:n}).afterClosed().subscribe({next:o=>{this.getEmployeesList()}})}openDeleDialog(n){this._dialog.open(se,{width:"auto"}).afterClosed().subscribe({next:o=>{o=="confirm"&&this.deleteEmploye(n)}})}deleteEmploye(n){this._loading.show_loading(),this._traitement.deleteEmployes(n).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getEmployeesList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}showEmploye(n){this._router.navigate(["/ch.detail.employes",n])}};m.\u0275fac=function(a){return new(a||m)(h(ne),h(ee),h(A),h(H),h(j))},m.\u0275cmp=B({type:m,selectors:[["app-ch-employees-list"]],standalone:!0,features:[P],decls:64,vars:8,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"card-header"],["mat-button","",1,"text-uppercase","text-white","default__btn__lg"],[1,"card-body"],[1,"row","justtify-content-between","mb-3"],[1,"col-lg-6","col-md-6","col-sm-12"],["matInput","","placeholder","Rechercher par matricule, nom ou pr\xE9nom",3,"ngModelChange","ngModel"],["mat-mini-fab","","color","primary","matSuffix","",3,"click"],[3,"selectionChange"],["value","all",1,"text-uppercase"],[3,"value"],[1,"table-responsive"],[1,"table","table-striped","m-0"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"d-flex","align-items-center"],[3,"routerLink"],["alt","Employe photo",1,"img-2x","rounded-5","me-3",3,"src"],[1,"m-0","fw-600","text-primary"],[1,"m-0","fw-600","text-red"],[1,"text-center",2,"white-space","unset !important"],[1,"fw-600"],["matTooltip","Compte actif","mat-icon-button",""],["matTooltip","Compte inactif","mat-icon-button",""],["matTooltip","Dossier valid\xE9","mat-icon-button",""],["matTooltip","En entente de validation de dossier","mat-icon-button",""],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"],[1,"text-primary"],[1,"text-red"],[1,"text-blue"],["colspan","10",1,"text-center"]],template:function(a,o){a&1&&(t(0,"div",1)(1,"div",2)(2,"div",3),S(3,"div",4),e()()(),t(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9)(9,"button",10)(10,"mat-icon"),i(11,"list"),e(),i(12," Liste des employ\xE9s "),e()(),t(13,"div",11)(14,"div",12)(15,"div",13)(16,"mat-form-field")(17,"mat-label"),i(18,"Rechercher par matricule, nom ou pr\xE9nom"),e(),t(19,"input",14),M("ngModelChange",function(p){return b(o.search,p)||(o.search=p),p}),e(),t(20,"button",15),v("click",function(){return o.searchInTable()}),t(21,"mat-icon"),i(22,"search"),e()()()(),t(23,"div",13)(24,"mat-form-field")(25,"mat-label"),i(26,"Rechercher par service"),e(),t(27,"mat-select",16),v("selectionChange",function(p){return o.selectService(p)}),t(28,"mat-option",17),i(29,"Tous les services"),e(),F(30,Bi,2,2,"mat-option",18,V),e()()()(),t(32,"div",19)(33,"table",20)(34,"thead")(35,"tr")(36,"th",21),i(37,"#ID"),e(),t(38,"th",21),i(39,"Employ\xE9"),e(),t(40,"th",21),i(41,"Matricule"),e(),t(42,"th",21),i(43,"Fonction"),e(),t(44,"th",21),i(45,"Service"),e(),t(46,"th",21),i(47,"Statut compte"),e(),t(48,"th",21),i(49,"Statut dossier"),e(),t(50,"th",21),i(51,"Date de cr\xE9ation"),e(),t(52,"th",21),i(53,"Actions"),e()()(),t(54,"tbody"),F(55,ji,47,23,"tr",null,V),D(57,"paginate"),w(58,Wi,4,0,"tr"),e()(),t(59,"div",22)(60,"pagination-controls",23),v("pageChange",function(p){return o.p=p}),e()()()()()()()(),t(61,"ngx-spinner",24)(62,"p",25),i(63," Chargement en cours... "),e()()),a&2&&(l(19),y("ngModel",o.search),l(11),L(o.list_service),l(25),L(k(57,3,o.list_employes,q(6,ki,o.p))),l(3),g(58,o.list_employes.length==0?58:-1),l(3),u("fullScreen",!0))},dependencies:[U,z,R,ae,oe,re,W,te,ye,le,X,Z,fe,be,Ee,$,De,Y,me,de,N,J,Q,K,ie,mt,O,Se]});let r=m;return r})();function Ai(r,m){if(r&1&&(t(0,"mat-option",30),i(1),e()),r&2){let s=m.$implicit;u("value",s.matricule),l(),C(" ",s.first_name+" "+s.last_name+" ("+s.matricule+")"," ")}}function Ni(r,m){if(r&1){let s=T();t(0,"div",36)(1,"mat-form-field",27)(2,"mat-label"),i(3,"Heure total "),e(),t(4,"input",42),M("ngModelChange",function(a){_(s);let o=x();return b(o.total_hour,a)||(o.total_hour=a),f(a)}),e()()()}if(r&2){let s=x();l(4),y("ngModel",s.total_hour)}}function Oi(r,m){if(r&1){let s=T();t(0,"div",31)(1,"mat-form-field",27)(2,"mat-label"),i(3,"Heure suppl\xE9mentaire "),e(),t(4,"input",43),M("ngModelChange",function(a){_(s);let o=x();return b(o.overtime,a)||(o.overtime=a),f(a)}),e()()()}if(r&2){let s=x();l(4),y("ngModel",s.overtime)}}function Hi(r,m){if(r&1){let s=T();t(0,"div",37)(1,"div",31)(2,"button",44),v("click",function(){_(s);let a=x();return f(a.saveAttendance())}),t(3,"mat-icon"),i(4,"save"),e(),i(5," Enregistrer "),e()()()}}function Ui(r,m){r&1&&(t(0,"span",50),i(1," Absent "),e())}function zi(r,m){r&1&&(t(0,"span",51),i(1," Pr\xE9sent "),e())}function qi(r,m){if(r&1&&(t(0,"tr")(1,"td",7),i(2),e(),t(3,"td",7)(4,"div",45),S(5,"img",46),t(6,"div")(7,"p",47),i(8),e()()()(),t(9,"td",7)(10,"p",48),i(11),D(12,"transformDate"),e()(),t(13,"td",7)(14,"p",48),i(15),e()(),t(16,"td",7)(17,"p",48),i(18),e()(),t(19,"td",7)(20,"p",48),i(21),e()(),t(22,"td",7)(23,"p",49),i(24),e()(),t(25,"td",7)(26,"p",48),i(27),e()(),t(28,"td",7),w(29,Ui,2,0,"span",50)(30,zi,2,0,"span",51),e()()),r&2){let s=m.$implicit,n=m.$index;l(2),E(n+1),l(3),u("src",s.photo,ge),l(3),C(" ",s.first_name+" "+s.last_name," "),l(3),C("",k(12,11,s.date_started," d MMMM YYYY ")," "),l(4),C("",s.start_time," "),l(3),C("",s.break_time," "),l(3),C("",s.end_time," "),l(3),C("",s.total_hour_of_work," "),l(3),C("",s.overtime," "),l(2),g(29,s.start_time=="00:00:00"&&s.end_time=="00:00:00"?29:-1),l(),g(30,s.start_time!="00:00:00"&&s.end_time!="00:00:00"?30:-1)}}function Yi(r,m){r&1&&(t(0,"tr")(1,"td",52)(2,"h1",7),i(3,"Aucune pr\xE9sence pour le moment"),e()()())}var Qt=(()=>{let m=class m{constructor(n,a,o,c){this._traitement=n,this._notificationService=a,this._loadings=o,this._router=c,this.heure_initiale="00:00",this.heure_tolerance="00:00",this.heure_sortie="00:00",this.break_time="00:00",this.heure_entre="00:00",this.heure_tolerable="00:00",this.heure_out="00:00",this.hour_slug="",this.hour_start="00:00",this.hour_end="00:00",this.total_hour="00:00",this.overtime="00:00",this.date_start=new Date,this.employe_matricule="",this.list_employe=[],this.check_total_hour_or_overtime=!1,this.list_current_pointage=[]}ngOnInit(){this._loadings.show_loading(),setTimeout(()=>{this.getEmployesList(),this.getCurrentPointageList(),this.getPointageConfigData(),this._loadings.hide_loading()},1e3)}formatTimeToHoursMinutes(n){let[a,o]=n.split(":");return a+":"+o}getPointageConfigData(){this._traitement.getPointageConfig().subscribe({next:n=>{n!=null&&(this.heure_entre=this.formatTimeToHoursMinutes(n.initial_hour),this.heure_tolerable=this.formatTimeToHoursMinutes(n.tolerable_hour),this.heure_out=this.formatTimeToHoursMinutes(n.out_hour),this.break_time=this.formatTimeToHoursMinutes(n.break_time),this.heure_initiale=this.formatTimeToHoursMinutes(n.initial_hour),this.heure_sortie=this.formatTimeToHoursMinutes(n.out_hour),this.heure_tolerance=this.formatTimeToHoursMinutes(n.tolerable_hour),this.total_hour_of_work=this.formatTimeToHoursMinutes(n.total_hour_of_work))},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}onChangeEmployes(n){this.employe_matricule=n.value}getEmployesList(){this._traitement.getEmployes().subscribe({next:n=>{console.log(n),setTimeout(()=>{this.list_employe=n},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"),window.location.reload())}})}calculateDifferenceBetweenTwoHours(n,a){if(n!=null&&a!=null){let[o,c]=n.split(":").map(Number),[p,d]=a.split(":").map(Number),Ie=p*60+d-(o*60+c),Ne=Math.floor(Ie/60),Ae=Ie%60;return Ne>=0&&Ae>=0?(Ne>=10?Ne:"0"+Ne)+":"+(Ae>=10?Ae:"0"+Ae):"00:00"}else return}checkEndTime(n){if(n!="00:00"){let a=this.calculateDifferenceBetweenTwoHours(this.hour_start,this.hour_end),o=this.calculateDifferenceBetweenTwoHours(this.break_time,a);this.overtime=this.calculateDifferenceBetweenTwoHours(this.total_hour_of_work,o),this.total_hour=o,this.check_total_hour_or_overtime=!0}else this.check_total_hour_or_overtime=!1}getCurrentPointageList(){this._traitement.getCurrentPointage().subscribe({next:n=>{setTimeout(()=>{this.list_current_pointage=n},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"),window.location.reload())}})}saveAttendance(){if(this.employe_matricule==""){this._notificationService.openSnackBarSimpleError("Aucun employ\xE9 selectionn\xE9.");return}if(this.break_time=="00:00"){this._notificationService.openSnackBarSimpleError("L'heure de pause d\xE9jeuner est obligatoire");return}let n={date_started:this.date_start,employe_matricule:this.employe_matricule,start_time:this.hour_start,end_time:this.hour_end,break_time:this.break_time,total_hour_of_work:this.total_hour,heure_tolerable:this.heure_tolerable,overtime:this.overtime};this._loadings.show_loading(),this._traitement.savePointage(n).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loadings.hide_loading(),this.getCurrentPointageList(),this.initInput()},1e3):(a.code==302||a.code==300)&&(this._loadings.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}initInput(){this.hour_start="00:00",this.hour_end="00:00",this.total_hour="00:00",this.overtime="00:00",this.check_total_hour_or_overtime=!1}};m.\u0275fac=function(a){return new(a||m)(h(ee),h(A),h(H),h(j))},m.\u0275cmp=B({type:m,selectors:[["app-register-attendance"]],standalone:!0,features:[P],decls:126,vars:19,consts:[["Date_start",""],["pickerStart",""],["pickerEndTime",""],[1,"hero-header","mb-3"],[1,"container-fluid"],[1,"row","justify-content-center","mt-5","mr-5"],[1,"col-xl-12","col-md-12","col-sm-12","col-12"],[1,"text-center"],[1,"card"],[1,"card-header","d-flex","justify-content-between","mb-2"],[1,"card-title","text-yellow"],["mat-button","",1,"text-red","fw-bolder","fs-5"],[1,"card-body"],[1,"row","mb-3","justify-content-center"],[1,"col-2"],[1,"mb-3","fs-5","text-center","fw-bolder"],[1,"fs-4","text-danger"],[1,"mb-3","fs-5","fw-bolder"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"row"],[1,"col-12"],["role","alert",1,"alert","alert-light","alert-dismissible","fade","show","fw-bolder"],[1,"alert-icon","me-3"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],[1,"row","justify-content-center"],[1,"col-lg-3"],["appearance","outline"],[1,"fw-bolder"],[3,"selectionChange"],[3,"value"],[1,"col-lg-2"],["matInput","","placeholder","00/00/0000",3,"ngModelChange","ngModel","matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","placeholder","00:00",3,"ngModelChange","ngxMatTimepicker","ngModel","format"],["matSuffix","",3,"click"],[1,"col-lg-1"],[1,"row","justify-content-center","mb-4"],[1,"table-responsive"],[1,"table","table-striped","mt-3"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["type","time","readonly","","matInput","","placeholder","Heure total",3,"ngModelChange","ngModel"],["type","time","readonly","","matInput","","placeholder","Heure suppl\xE9mentaire",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary",1,"fw-bolder",3,"click"],[1,"d-flex","align-items-center"],["alt","Employe photo",1,"img-2x","rounded-5","me-3",3,"src"],[1,"m-0","fw-600","text-primary","fw-bolder"],[1,"m-b-0","fw-bolder"],[1,"m-b-0","text-red","fw-bolder"],[1,"badge","rounded-pill","shade-light-red","fw-bolder","fs-6"],[1,"badge","rounded-pill","shade-light-green","fw-bolder","fs-6"],["colspan","9",1,"text-center"]],template:function(a,o){if(a&1){let c=T();t(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"button",11)(9,"mat-icon"),i(10,"settings"),e(),i(11," Horaires de travail "),e()()(),t(12,"div",12)(13,"div",13)(14,"div",14)(15,"p",15),i(16," Heure d'entr\xE9e normale: "),t(17,"span",16),i(18),e()()(),t(19,"div",14)(20,"p",15),i(21," Heure d'entr\xE9e tol\xE9rable: "),t(22,"span",16),i(23),e()()(),t(24,"div",14)(25,"p",17),i(26," Heure de descente: "),t(27,"span",16),i(28),e()()(),t(29,"div",14)(30,"p",17),i(31," Heure pause d\xE9jeuner: "),t(32,"span",16),i(33),e()()(),t(34,"div",14)(35,"p",17),i(36," Heure totale de travail: "),t(37,"span",16),i(38),e()()()()()()()()()()(),t(39,"div",18)(40,"div",4)(41,"div",19)(42,"div",6)(43,"div",8)(44,"div",9)(45,"div",10)(46,"button",11)(47,"mat-icon"),i(48,"calendar_month"),e(),i(49," Aujourd'hui "),e()()(),t(50,"div",12)(51,"div",20)(52,"div",21)(53,"div",22)(54,"mat-icon",23),i(55,"notifications"),e(),i(56," \xC0 votre attention ! Si l'employ\xE9 est absent, pri\xE8re de laisser les heures vides. "),S(57,"button",24),e()()(),t(58,"div",25)(59,"div",26)(60,"mat-form-field",27)(61,"mat-label",28),i(62,"Choisissez un employ\xE9"),e(),t(63,"mat-select",29),v("selectionChange",function(d){return _(c),f(o.onChangeEmployes(d))}),F(64,Ai,2,2,"mat-option",30,V),e()()(),t(66,"div",31)(67,"mat-form-field",27)(68,"mat-label",28),i(69,"Aujourd'hui"),e(),t(70,"input",32),M("ngModelChange",function(d){return _(c),b(o.date_start,d)||(o.date_start=d),f(d)}),e(),S(71,"mat-datepicker-toggle",33)(72,"mat-datepicker",null,0),e()(),t(74,"div",31)(75,"mat-form-field",27)(76,"mat-label",28),i(77,"Heure d'arriv\xE9e"),e(),t(78,"input",34),M("ngModelChange",function(d){return _(c),b(o.hour_start,d)||(o.hour_start=d),f(d)}),e(),S(79,"ngx-mat-timepicker",null,1),t(81,"mat-icon",35),v("click",function(){_(c);let d=I(80);return f(d.open())}),i(82," watch_later "),e()()(),t(83,"div",31)(84,"mat-form-field",27)(85,"mat-label",28),i(86,"Heure descente"),e(),t(87,"input",34),M("ngModelChange",function(d){return _(c),b(o.hour_end,d)||(o.hour_end=d),f(d)}),v("ngModelChange",function(d){return _(c),f(o.checkEndTime(d))}),e(),S(88,"ngx-mat-timepicker",null,2),t(90,"mat-icon",35),v("click",function(){_(c);let d=I(89);return f(d.open())}),i(91," watch_later "),e()()(),w(92,Ni,5,1,"div",36)(93,Oi,5,1,"div",31),e(),w(94,Hi,6,0,"div",37),t(95,"div",25)(96,"div",21)(97,"div",38)(98,"table",39)(99,"thead")(100,"tr")(101,"th",7),i(102,"#Id"),e(),t(103,"th",7),i(104,"Employ\xE9"),e(),t(105,"th",7),i(106,"Date du jour"),e(),t(107,"th",7),i(108,"Heure d'arriv\xE9e"),e(),t(109,"th",7),i(110,"Pause d\xE9jeuner"),e(),t(111,"th",7),i(112,"Heure de descente"),e(),t(113,"th",7),i(114,"Heure totale"),e(),t(115,"th",7),i(116,"Supplementaire"),e(),t(117,"th",7),i(118,"Statut"),e()()(),t(119,"tbody"),F(120,qi,31,14,"tr",null,V),w(122,Yi,4,0,"tr"),e()()()()()()()()()()(),t(123,"ngx-spinner",40)(124,"p",41),i(125," Chargement en cours... "),e()()}if(a&2){let c=I(73),p=I(80),d=I(89);l(18),E(o.heure_entre),l(5),E(o.heure_tolerable),l(5),E(o.heure_out),l(5),E(o.break_time),l(5),E(o.total_hour_of_work),l(26),L(o.list_employe),l(6),y("ngModel",o.date_start),u("matDatepicker",c),l(),u("for",c),l(7),u("ngxMatTimepicker",p),y("ngModel",o.hour_start),u("format",24),l(9),u("ngxMatTimepicker",d),y("ngModel",o.hour_end),u("format",24),l(5),g(92,o.check_total_hour_or_overtime==!0?92:-1),l(),g(93,o.check_total_hour_or_overtime==!0?93:-1),l(),g(94,o.check_total_hour_or_overtime==!0?94:-1),l(26),L(o.list_current_pointage),l(2),g(122,o.list_current_pointage.length==0?122:-1),l(),u("fullScreen",!0)}},dependencies:[U,z,R,W,te,X,Z,fe,be,Ee,$,Me,we,Te,Y,dt,Mt,wt,N,J,Q,K,ie,O]});let r=m;return r})();var Gi=()=>["/ch.create-pointing"],Ji=r=>({itemsPerPage:10,currentPage:r});function Qi(r,m){if(r&1&&(t(0,"mat-option",17),i(1),e()),r&2){let s=m.$implicit;u("value",s.matricule),l(),C(" ",s.first_name+" "+s.last_name+" ("+s.matricule+")"," ")}}function Ki(r,m){r&1&&(t(0,"span",44),i(1," Absent "),e())}function Zi(r,m){r&1&&(t(0,"span",45),i(1," Pr\xE9sent "),e())}function Xi(r,m){if(r&1){let s=T();t(0,"tr")(1,"td",32),i(2),e(),t(3,"td",32)(4,"div",37),S(5,"img",38),t(6,"div")(7,"p",39),i(8),e(),t(9,"p",39),i(10),e()()()(),t(11,"td",32)(12,"div",37)(13,"mat-icon",40),i(14,"calendar_month"),e(),t(15,"div")(16,"p",41),i(17),D(18,"transformDate"),e()()()(),t(19,"td",32)(20,"div",37)(21,"mat-icon"),i(22,"timer"),e(),t(23,"p"),i(24),e()()(),t(25,"td",32)(26,"p",42),i(27),e()(),t(28,"td",32)(29,"div",37)(30,"mat-icon",40),i(31,"timer"),e(),t(32,"p",41),i(33),e()()(),t(34,"td",32)(35,"p",43),i(36),e()(),t(37,"td",32)(38,"p",42),i(39),e()(),t(40,"td",32),w(41,Ki,2,0,"span",44)(42,Zi,2,0,"span",45),e(),t(43,"td",32)(44,"button",7)(45,"mat-icon"),i(46,"more_vert"),e()(),t(47,"mat-menu",8,0)(49,"button",46),v("click",function(){let a=_(s).$implicit,o=x();return f(o.openDeleDialog(a.slug))}),t(50,"mat-icon"),i(51,"delete"),e(),i(52," Supprimer "),e()()()()}if(r&2){let s=m.$implicit,n=m.$index,a=I(48);l(2),E(n+1),l(3),u("src",s.photo,ge),l(3),C(" ",s.first_name+" "+s.last_name," "),l(2),C(" ",s.employe_matricule," "),l(7),C(" ",k(18,17,s.date_started," d MMMM YYYY ")," "),l(4),Pe(s.start_time>s.tolerable_hour?"me-2 text-red":"me-2"),l(2),Pe(s.start_time>s.tolerable_hour?"m-0 fw-bolder text-red":"m-0 fw-bolder"),l(),C(" ",s.start_time," "),l(3),C("",s.break_time," "),l(6),C(" ",s.end_time," "),l(3),C("",s.total_hour_of_work," "),l(3),C("",s.overtime," "),l(2),g(41,s.start_time=="00:00:00"&&s.end_time=="00:00:00"?41:-1),l(),g(42,s.start_time!="00:00:00"&&s.end_time!="00:00:00"?42:-1),l(2),u("matMenuTriggerFor",a)}}function $i(r,m){r&1&&(t(0,"tr")(1,"td",47)(2,"h1",32),i(3,"Aucune pr\xE9sence pour le moment"),e()()())}var Kt=(()=>{let m=class m{constructor(n,a,o,c,p){this._dialog=n,this._traitement=a,this._notificationService=o,this._loading=c,this._router=p,this.list_pointage=[],this.list_employe=[],this.employe_matricule="",this.p=1}ngOnInit(){this.getPointageList(),this.getEmployesList()}searchInAttendance(){}getEmployesList(){this._traitement.getEmployes().subscribe({next:n=>{setTimeout(()=>{this.list_employe=n},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}onChangeEmployes(n){this.employe_matricule=n.value}getPointageList(){this._loading.show_loading(),this._traitement.getPointage().subscribe({next:n=>{setTimeout(()=>{this.list_pointage=n,this._loading.hide_loading()},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(n){this._dialog.open(se,{width:"auto"}).afterClosed().subscribe({next:o=>{o=="confirm"&&this.deletePointage(n)}})}deletePointage(n){this._loading.show_loading(),this._traitement.destroyPointage(n).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getPointageList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(h(ne),h(ee),h(A),h(H),h(j))},m.\u0275cmp=B({type:m,selectors:[["app-ch-employees-attendance-list"]],standalone:!0,features:[P],decls:99,vars:16,consts:[["beforeMenu","matMenu"],["Date_start",""],["Date_end",""],[1,"hero-header"],[1,"container-fluid"],[1,"d-flex","justify-content-between"],[1,"fw-bolder","fs-5"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item",""],[1,"row"],[1,"col-lg-3"],["appearance","outline"],[1,"fw-bolder"],["matInput","","placeholder","00/00/0000",3,"ngModelChange","ngModel","matDatepicker"],["matIconSuffix","",3,"for"],[3,"selectionChange"],[3,"value"],["mat-raised-button","","color","primary",1,"fw-bolder","default__btn__lg","w-100",3,"click"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between","mb-2"],[1,"card-title","text-yellow"],["mat-button","",1,"text-red","fw-bolder","fs-5"],["mat-raised-button","",1,"text-red","fw-bolder",3,"routerLink"],[1,"card-body"],[1,"row","justify-content-center"],[1,"col-12"],[1,"table-responsive"],[1,"table","table-striped","mt-3"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"d-flex","align-items-center"],["alt","Employe photo",1,"img-2x","rounded-5","me-3",3,"src"],[1,"m-0","fw-600","text-primary","fw-bolder"],[1,"me-2"],[1,"m-0","fw-bolder"],[1,"m-b-0","fw-bolder"],[1,"m-b-0","text-primary","fw-bolder"],[1,"badge","rounded-pill","shade-light-red","fw-bolder","fs-6"],[1,"badge","rounded-pill","shade-light-green","fw-bolder","fs-6"],["mat-menu-item","",3,"click"],["colspan","10",1,"text-center"]],template:function(a,o){if(a&1){let c=T();t(0,"div",3)(1,"div",4)(2,"div",5)(3,"p",6),i(4,"Effectuer une recherche dans la liste"),e(),t(5,"button",7)(6,"mat-icon"),i(7,"print"),e()(),t(8,"mat-menu",8,0)(10,"button",9)(11,"mat-icon"),i(12,"border_color"),e(),i(13," PDF "),e(),t(14,"button",9)(15,"mat-icon"),i(16,"delete"),e(),i(17," CSV "),e()()(),S(18,"hr"),t(19,"div",10)(20,"div",11)(21,"mat-form-field",12)(22,"mat-label",13),i(23,"Date d\xE9but"),e(),t(24,"input",14),M("ngModelChange",function(d){return _(c),b(o.date_start,d)||(o.date_start=d),f(d)}),e(),S(25,"mat-datepicker-toggle",15)(26,"mat-datepicker",null,1),e()(),t(28,"div",11)(29,"mat-form-field",12)(30,"mat-label",13),i(31,"Date fin"),e(),t(32,"input",14),M("ngModelChange",function(d){return _(c),b(o.date_end,d)||(o.date_end=d),f(d)}),e(),S(33,"mat-datepicker-toggle",15)(34,"mat-datepicker",null,2),e()(),t(36,"div",11)(37,"mat-form-field",12)(38,"mat-label",13),i(39,"Choisissez un employ\xE9"),e(),t(40,"mat-select",16),v("selectionChange",function(d){return _(c),f(o.onChangeEmployes(d))}),F(41,Qi,2,2,"mat-option",17,V),e()()(),t(43,"div",11)(44,"button",18),v("click",function(){return _(c),f(o.searchInAttendance())}),t(45,"mat-icon"),i(46,"search"),e(),i(47," Rechercher "),e()()()()(),t(48,"div",19)(49,"div",20)(50,"div",21)(51,"div",22)(52,"div",23)(53,"div",24)(54,"button",25)(55,"mat-icon"),i(56,"list"),e(),i(57," Liste des pr\xE9sences "),e()(),t(58,"button",26)(59,"mat-icon"),i(60,"add"),e(),i(61," Nouveau pointage "),e()(),t(62,"div",27)(63,"div",28)(64,"div",29)(65,"div",30)(66,"table",31)(67,"thead")(68,"tr")(69,"th",32),i(70,"#Id"),e(),t(71,"th",32),i(72,"Employ\xE9"),e(),t(73,"th",32),i(74,"Date du jour"),e(),t(75,"th",32),i(76,"Heure d'arriv\xE9e"),e(),t(77,"th",32),i(78,"Pause d\xE9jeuner"),e(),t(79,"th",32),i(80,"Heure de descente"),e(),t(81,"th",32),i(82,"Heure totale"),e(),t(83,"th",32),i(84,"Supplementaire"),e(),t(85,"th",32),i(86,"Statut"),e(),t(87,"th",32),i(88,"Actions"),e()()(),t(89,"tbody"),F(90,Xi,53,20,"tr",null,V),D(92,"paginate"),w(93,$i,4,0,"tr"),e()()()(),t(94,"div",33)(95,"pagination-controls",34),v("pageChange",function(d){return _(c),f(o.p=d)}),e()()()()()()()(),t(96,"ngx-spinner",35)(97,"p",36),i(98," Chargement en cours... "),e()()}if(a&2){let c=I(9),p=I(27),d=I(35);l(5),u("matMenuTriggerFor",c),l(19),y("ngModel",o.date_start),u("matDatepicker",p),l(),u("for",p),l(7),y("ngModel",o.date_end),u("matDatepicker",d),l(),u("for",d),l(8),L(o.list_employe),l(17),u("routerLink",Vt(13,Gi)),l(32),L(k(92,10,o.list_pointage,q(14,Ji,o.p))),l(3),g(93,o.list_pointage.length==0?93:-1),l(3),u("fullScreen",!0)}},dependencies:[U,z,R,ae,oe,re,W,te,le,X,Z,fe,be,Ee,$,Me,we,Te,Y,me,de,N,J,Q,K,ie,O,Se]});let r=m;return r})();function en(r,m){r&1&&(t(0,"mat-icon",56),i(1,"person"),e(),t(2,"span",57),i(3," Information personnelle "),e())}function tn(r,m){if(r&1&&(t(0,"mat-option",25),i(1),e()),r&2){let s=m.$implicit;u("value",s.genre),l(),C("",s.genre," ")}}function nn(r,m){if(r&1&&(t(0,"mat-option",25),i(1),e()),r&2){let s=m.$implicit;u("value",s.situation_matrimoniale),l(),C(" ",s.situation_matrimoniale," ")}}function on(r,m){if(r&1&&(t(0,"mat-option",25),i(1),e()),r&2){let s=m.$implicit;u("value",s.piece),l(),C("",s.piece," ")}}function an(r,m){if(r&1){let s=T();t(0,"button",58),v("click",function(){_(s);let a=x();return f(a.edited())}),t(1,"mat-icon"),i(2,"edit_square"),e(),i(3," Editer "),e()}}function rn(r,m){if(r&1){let s=T();t(0,"button",59),v("click",function(){_(s);let a=x();return f(a.cancel())}),t(1,"mat-icon"),i(2,"cancel"),e(),i(3," annuler "),e()}}function ln(r,m){if(r&1){let s=T();t(0,"button",58),v("click",function(){_(s);let a=x();return f(a.updateEmployeInformationPersonnelle())}),t(1,"mat-icon"),i(2,"update"),e(),i(3," Modifier les informations "),e()}}function sn(r,m){r&1&&(t(0,"mat-icon",56),i(1,"gavel"),e(),t(2,"span",57),i(3," Information professionnelle "),e())}function mn(r,m){if(r&1&&(t(0,"mat-option",25),i(1),e()),r&2){let s=m.$implicit;u("value",s.id),l(),C("",s.contrats," ")}}function dn(r,m){if(r&1&&(t(0,"mat-option",25),i(1),e()),r&2){let s=m.$implicit;u("value",s.id),l(),C(" ",s.fonction," ")}}function cn(r,m){if(r&1&&(t(0,"mat-option",25),i(1),e()),r&2){let s=m.$implicit;u("value",s.id),l(),C("",s.bureau," ")}}function pn(r,m){if(r&1&&(t(0,"mat-option",25),i(1),e()),r&2){let s=m.$implicit;u("value",s.id),l(),C("",s.service," ")}}function un(r,m){if(r&1&&(t(0,"mat-option",25),i(1),e()),r&2){let s=m.$implicit;u("value",s.id),l(),C("",s.categorie_pro," ")}}function _n(r,m){if(r&1){let s=T();t(0,"button",58),v("click",function(){_(s);let a=x();return f(a.editedContrats())}),t(1,"mat-icon"),i(2,"edit_square"),e(),i(3," Editer "),e()}}function fn(r,m){if(r&1){let s=T();t(0,"button",59),v("click",function(){_(s);let a=x();return f(a.cancelContrats())}),t(1,"mat-icon"),i(2,"cancel"),e(),i(3," annuler "),e()}}function hn(r,m){if(r&1){let s=T();t(0,"button",58),v("click",function(){_(s);let a=x();return f(a.updateEmployeInformationContrats())}),t(1,"mat-icon"),i(2,"update"),e(),i(3," Modifier les informations "),e()}}function gn(r,m){r&1&&(t(0,"mat-icon",56),i(1,"folder"),e(),t(2,"span",57),i(3," Dossier "),e())}function vn(r,m){r&1&&(t(0,"div",53),S(1,"img",60),t(2,"p",61),i(3,"Aucun dossier n'est disponible pour vous. "),e()())}function xn(r,m){r&1&&(t(0,"button",70)(1,"mat-icon",71),i(2,"verified"),e()())}function Sn(r,m){r&1&&(t(0,"button",72)(1,"mat-icon",71),i(2,"verified"),e()())}function En(r,m){r&1&&(t(0,"button",73)(1,"mat-icon",74),i(2,"pending"),e()())}function Cn(r,m){if(r&1&&(t(0,"div",53)(1,"div",62)(2,"table",63)(3,"thead")(4,"tr")(5,"th",53),i(6,"Libell\xE9 du dossier"),e(),t(7,"th",53),i(8,"Date de cr\xE9ation"),e(),t(9,"th",53),i(10,"Statut"),e()()(),t(11,"tbody")(12,"tr")(13,"td",53)(14,"div",64)(15,"mat-icon",65),i(16,"folder"),e(),t(17,"p",66),i(18),e()()(),t(19,"td",53),i(20),D(21,"transformDate"),e(),t(22,"td",53),w(23,xn,3,0,"button",67)(24,Sn,3,0,"button",68)(25,En,3,0,"button",69),e()()()()()()),r&2){let s=x();l(18),E(s.employee_dossier.libelle_dossiers),l(2),E(k(21,5,s.employee_dossier.created_at," d MMMM YYYY ")),l(3),u("ngIf",s.employee_dossier.status_folder_on==1),l(),u("ngIf",s.employee_dossier.status_folder_off==1),l(),u("ngIf",s.employee_dossier.status_folder_on==0&&s.employee_dossier.status_folder_off==0)}}var Xt=(()=>{let m=class m{constructor(n,a,o,c,p){this._traitement=n,this._notificationService=a,this._loadings=o,this._router=c,this._active_router=p,this.first_name="",this.last_name="",this.diplome="",this.matricule="",this.adresse_email="",this.telephone="",this.nombre_enfant_a_charge=0,this.nationalite="",this.date_naissance=new Date,this.lieu_naissance="",this.piece_number="",this.lieu_residence="",this.cnps_number="",this.personne_a_contacter="",this.contact_personne_a_contacter="",this.nombre_personne_a_charge="",this.personne_a_charge="",this.conjoint_name="",this.contact_conjoint="",this.antecedant_medicaux="",this.is_disabled=!0,this.is_disabled_contrats=!0,this.timescontrats=!0,this.profession="",this.date_embauche=new Date,this.salaire_categoriel=0,this.salaire_net_mensuel=0,this.old_image="",this.img_update=!0,this.type_contrat="",this.fonction_employe="",this.statut="",this.garde_employe="",this.employe_bureau="",this.loading=!1,this.salaire_mensuel="",this.augmantation="",this.date_augmantation=new Date,this.date_embauche_end=new Date,this.commission="",this.avantage="",this.profesion="",this.list_fonction=[],this.list_service=[],this.list_genre=[{id:1,genre:"Homme"},{id:2,genre:"Femme"}],this.list_piece=[{id:1,piece:"Carte Nationale d'Identit\xE9"},{id:2,piece:"PassePort"}],this.list_situation_matrimoniale=[{id:1,situation_matrimoniale:"C\xE9libataire"},{id:2,situation_matrimoniale:"Mari\xE9(e)"},{id:3,situation_matrimoniale:"Veuf(ve)"},{id:3,situation_matrimoniale:"Divorc\xE9(e)"}],this.list_categorie_pro=[],this.list_contrats=[],this.list_bureau=[],this.phone="",this.first_step=!1,this.second_step=!1,this.fird_step=!1}ngOnInit(){this.getEmployeCurrentInfo(),this.getFonctionList(),this.getServiceList(),this.getBureauList(),this.getCategorieProList(),this.getContratsList()}selectPiece(n){this.piece=n.value}selectFonction(n){this.fonction=n.value}selectSituationMatrimoniale(n){this.situation_matrimoniale=n.value}selectCategorieProfessionnelle(n){this.categorie_pro=n.value}selectService(n){this.service=n.value}selectGenre(n){this.genre=n.value}selectContrats(n){this.contrats=n.value}selectBureau(n){this.bureau=n.value}isUpdateImg(){this.img_update=!0}getFonctionList(){this._traitement.getFonction().subscribe({next:n=>{setTimeout(()=>{this.list_fonction=n},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getServiceList(){this._traitement.getService().subscribe({next:n=>{setTimeout(()=>{this.list_service=n},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getBureauList(){this._traitement.getBureau().subscribe({next:n=>{setTimeout(()=>{this.list_bureau=n},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getCategorieProList(){this._traitement.getCategorieProfessionnelle().subscribe({next:n=>{console.log(n),setTimeout(()=>{this.list_categorie_pro=n},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getContratsList(){this._traitement.getContrats().subscribe({next:n=>{setTimeout(()=>{this.list_contrats=n},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}uploadFile(n){this.user_image=n.target.files[0]}edited(){this.is_disabled=!1}cancel(){this.is_disabled=!0}editedContrats(){this.is_disabled_contrats=!1}cancelContrats(){this.is_disabled_contrats=!0}getEmployeCurrentInfo(){this.item_slug=this._active_router.snapshot.paramMap.get("slug"),this._loadings.show_loading(),this._traitement.showEmployes(this.item_slug).subscribe({next:n=>{console.log(n),setTimeout(()=>{this.first_name=n.employe_info_perso.first_name,this.matricule=n.employe_info_perso.matricule,this.last_name=n.employe_info_perso.last_name,this.diplome=n.employe_info_perso.diplome,this.profession=n.employe_info_perso.profession,this.adresse_email=n.employe_info_perso.adresse_email,this.date_naissance=n.employe_info_perso.date_naissance,this.lieu_naissance=n.employe_info_perso.lieu_naissance,this.piece_number=n.employe_info_perso.piece_number,this.nationalite=n.employe_info_perso.nationalite,this.nombre_enfant_a_charge=n.employe_info_perso.nombre_enfant_a_charge,this.lieu_residence=n.employe_info_perso.lieu_residence,this.selectedSituationMatrimonialeOption=n.employe_info_perso.situation_matrimoniale,this.selectedGenreOption=n.employe_info_perso.genre,this.selectedPieceOption=n.employe_info_perso.type_piece,this.phone=n.employe_info_perso.phone,this.old_image=n.employe_info_perso.photo,this.item_slug_info=n.employe_info_perso.slug,this.personne_a_contacter=n.employe_info_perso.personne_a_contacter,this.personne_a_charge=n.employe_info_perso.personne_a_charge,this.conjoint_name=n.employe_info_perso.conjoint_name,this.contact_conjoint=n.employe_info_perso.contact_conjoint,this.antecedant_medicaux=n.employe_info_perso.antecedant_medicaux,this.contact_personne_a_contacter=n.employe_info_perso.contact_personne_a_contacter,this.situation_matrimoniale=n.employe_info_perso.situation_matrimoniale,this.employee_dossier=n.employee_dossier,n.employe_info_contrats!=null&&(this.selectedCategorieProfessionnelleOption=n.employe_info_contrats.categorie_pro_id,this.selectedFonctionOption=n.employe_info_contrats.fonction_id,this.selectedContratsOption=n.employe_info_contrats.contrats_id,this.selectedBureauOption=n.employe_info_contrats.bureau_id,this.selectedServiceOption=n.employe_info_contrats.service_id,this.salaire_categoriel=n.employe_info_contrats.salaire_categoriel,this.date_embauche=n.employe_info_contrats.date_embauche,this.salaire_net_mensuel=n.employe_info_contrats.salaire_mensuel_net,this.item_slug_contrats=n.employe_info_contrats.slug,this.cnps_number=n.employe_info_contrats.cnps_number),this._loadings.hide_loading()},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateEmployeInformationPersonnelle(){if(this.first_name==""){this._notificationService.openSnackBarSimpleError("Le nom est obligatoire");return}if(this.last_name==""){this._notificationService.openSnackBarSimpleError("Le pr\xE9nom est obligatoire");return}if(this.diplome==""){this._notificationService.openSnackBarSimpleError("Le dipl\xF4me est obligatoire");return}if(this.profession==""){this._notificationService.openSnackBarSimpleError("La profession est obligatoire");return}if(this.adresse_email==""){this._notificationService.openSnackBarSimpleError("L'adresse email est obligatoire");return}if(this.date_naissance==""){this._notificationService.openSnackBarSimpleError("La date de naissance est obligatoire");return}if(this.lieu_naissance==""){this._notificationService.openSnackBarSimpleError("Le lieu de naissance est obligatoire");return}if(this.lieu_residence==""){this._notificationService.openSnackBarSimpleError("Le lieu de residence est obligatoire");return}if(this.phone==""){this._notificationService.openSnackBarSimpleError("Le t\xE9l\xE9phone est obligatoire");return}if(this.nationalite==""){this._notificationService.openSnackBarSimpleError("La nationalit\xE9 est obligatoire");return}if(this.piece_number==""){this._notificationService.openSnackBarSimpleError("Le num\xE9ro de la pi\xE8ce est obligatoire");return}let n={first_name:this.first_name,last_name:this.last_name,diplome:this.diplome,profession:this.profession,adresse_email:this.adresse_email,phone:this.phone,genre:this.genre==null?this.selectedGenreOption:this.genre,situation_matrimoniale:this.situation_matrimoniale==null?this.selectedSituationMatrimonialeOption:this.situation_matrimoniale,date_naissance:this.date_naissance,lieu_naissance:this.lieu_naissance,lieu_residence:this.lieu_residence,nationalite:this.nationalite,type_piece:this.piece==null?this.selectedPieceOption:this.piece,piece_number:this.piece_number,nombre_enfant_a_charge:this.nombre_enfant_a_charge,personne_a_contacter:this.personne_a_contacter,personne_a_charge:this.personne_a_charge,conjoint_name:this.conjoint_name,contact_conjoint:this.contact_conjoint,antecedant_medicaux:this.antecedant_medicaux,contact_personne_a_contacter:this.contact_personne_a_contacter};this._loadings.show_loading(),this._traitement.updateEmployes(n,this.item_slug_info).subscribe({next:a=>{console.log(a),a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loadings.hide_loading(),this.is_disabled=!0},1e3):(a.code==302||a.code==300)&&(this._loadings.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateEmployeInformationContrats(){if(this.date_embauche==""){this._notificationService.openSnackBarSimpleError("La date de prise de fonction est obligatoire");return}if(this.matricule==""){this._notificationService.openSnackBarSimpleError("Le matricule de l'employ\xE9 est obligatoire");return}if(this.salaire_net_mensuel==""){this._notificationService.openSnackBarSimpleError("La salaire net mensuel est obligatoire");return}let n={employe_matricule:this.matricule,contrats:this.contrats==null?this.selectedContratsOption:this.contrats,service:this.service==null?this.selectedServiceOption:this.service,fonction:this.fonction==null?this.selectedFonctionOption:this.fonction,bureau:this.bureau==null?this.selectedBureauOption:this.bureau,categorie_pro:this.categorie_pro==null?this.selectedCategorieProfessionnelleOption:this.categorie_pro,salaire_net_mensuel:this.salaire_net_mensuel,date_embauche:this.date_embauche,adresse_email:this.adresse_email,date_embauche_end:this.date_embauche_end,cnps_number:this.cnps_number,avantage:this.avantage};this._loadings.show_loading(),this._traitement.updateEmployeContrats(n,this.matricule).subscribe({next:a=>{console.log(a),a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loadings.hide_loading(),this.is_disabled_contrats=!0},1e3):(a.code==302||a.code==300)&&(this._loadings.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(h(ee),h(A),h(H),h(j),h(He))},m.\u0275cmp=B({type:m,selectors:[["app-ch-employees-details"]],standalone:!0,features:[P],decls:285,vars:80,consts:[["pickerDateNaissance",""],["dateEmbauchePicker",""],["dateEmbaucheEndPicker",""],[1,"subscribe-header"],["src","assets/images/bg.jpg","alt",`Admin &
        Dashboards`,1,"img-fluid","w-100"],[1,"subscriber-body"],[1,"row","justify-content-center","mt-5"],[1,"col-xl-10","col-lg-12"],[1,"row","align-items-end"],[1,"col-auto"],[1,"img-8xx","img-fluid","rounded-circle","border","border-primary","border-4",3,"src"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"card"],[1,"card-body"],["mat-tab-label",""],[1,"row","gx-3","mt-3","m-3"],[1,"col-md-3","col-lg-3"],["appearance","outline"],[1,"fs-4"],["matInput","","placeholder","Pr\xE9nom",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nom de famille",3,"ngModelChange","ngModel","readonly"],[1,"col-md-3","col-sm-6","col-lg-3"],["matInput","","placeholder","Profession ",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Intitul\xE9 du dipl\xF4me",3,"ngModelChange","ngModel","readonly"],[3,"valueChange","selectionChange","disabled","value"],[3,"value"],["type","email","matInput","","placeholder","Adresse email",3,"ngModelChange","ngModel","readonly"],["type","tel","matInput","","placeholder","Num\xE9ro t\xE9l\xE9phone",3,"ngModelChange","ngModel","readonly"],["matInput","",3,"ngModelChange","ngModel","readonly","matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","placeholder","Lieu de naissance",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Lieu de r\xE9sidence",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nationalit\xE9",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Ant\xE9c\xE9dent medical",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nombre de personnes \xE0 charge",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Situation Matrimoniale",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nom du conjoint",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Contact du conjoint",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Personne \xE0 contacter",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Contact de la personne \xE0 contacter",3,"ngModelChange","ngModel","readonly"],["type","number","matInput","","placeholder","Nombre d'enfants \xE0 charge",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","N\xB0 Pi\xE8ce d'identit\xE9",3,"ngModelChange","ngModel","readonly"],[1,"mt-3","text-center"],["mat-raised-button","","color","primary",1,"default__btn__lg"],["mat-raised-button","","color","warn",1,"default__btn__lg","me-3"],[1,"row","gx-3","m-3"],[1,"col-md-6","col-sm-6","col-lg-6"],[3,"valueChange","selectionChange","value","disabled"],["type","text","matInput","","placeholder","N\xB0 CNPS ",3,"ngModelChange","ngModel","readonly"],["type","number","matInput","","placeholder","Salaire net mensuel ",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Avantage",3,"ngModelChange","ngModel","readonly"],[1,"row","gx-3","m-3","justify-content-center"],[1,"col-12"],[1,"text-center"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"example-tab-icon","me-2"],[1,"text-primary","fs-5"],["mat-raised-button","","color","primary",1,"default__btn__lg",3,"click"],["mat-raised-button","","color","warn",1,"default__btn__lg","me-3",3,"click"],["src","assets/media/folder.svg","width","300","alt","logo oipi",1,"img-fluid","mb-2"],[1,"mb-4","fw-bolder","fs-5","text-primary"],[1,"table-responsive"],[1,"table","table-striped","mt-3","align-middle"],[1,"d-flex","justify-content-center"],[1,"me-3","text-primary"],[1,"m-0","fw-bolder","fs-6"],["matTooltip","Dossier valid\xE9","mat-icon-button","",4,"ngIf"],["matTooltip","Dossier rejet\xE9","mat-icon-button","",4,"ngIf"],["matTooltip","En entente de validation du dossier","mat-icon-button","",4,"ngIf"],["matTooltip","Dossier valid\xE9","mat-icon-button",""],[1,"text-primary"],["matTooltip","Dossier rejet\xE9","mat-icon-button",""],["matTooltip","En entente de validation du dossier","mat-icon-button",""],[1,"text-blue"]],template:function(a,o){if(a&1){let c=T();t(0,"div",3),S(1,"img",4),e(),t(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9),S(7,"img",10),e()()()(),t(8,"div",6)(9,"div",11)(10,"div",12)(11,"div",13)(12,"mat-tab-group")(13,"mat-tab"),w(14,en,4,0,"ng-template",14),t(15,"div",15)(16,"div",16)(17,"mat-form-field",17)(18,"mat-label"),i(19,"Pr\xE9nom "),t(20,"code",18),i(21,"*"),e()(),t(22,"input",19),M("ngModelChange",function(d){return _(c),b(o.first_name,d)||(o.first_name=d),f(d)}),e()()(),t(23,"div",16)(24,"mat-form-field",17)(25,"mat-label"),i(26,"Nom de famille "),t(27,"code",18),i(28,"*"),e()(),t(29,"input",20),M("ngModelChange",function(d){return _(c),b(o.last_name,d)||(o.last_name=d),f(d)}),e()()(),t(30,"div",21)(31,"mat-form-field",17)(32,"mat-label"),i(33,"Profession"),t(34,"code",18),i(35,"*"),e()(),t(36,"input",22),M("ngModelChange",function(d){return _(c),b(o.profession,d)||(o.profession=d),f(d)}),e()()(),t(37,"div",16)(38,"mat-form-field",17)(39,"mat-label"),i(40,"Intitul\xE9 du dipl\xF4me "),t(41,"code",18),i(42,"*"),e()(),t(43,"input",23),M("ngModelChange",function(d){return _(c),b(o.diplome,d)||(o.diplome=d),f(d)}),e()()(),t(44,"div",21)(45,"mat-form-field",17)(46,"mat-label"),i(47,"Genre"),t(48,"code",18),i(49,"*"),e()(),t(50,"mat-select",24),M("valueChange",function(d){return _(c),b(o.selectedGenreOption,d)||(o.selectedGenreOption=d),f(d)}),v("selectionChange",function(d){return _(c),f(o.selectGenre(d))}),F(51,tn,2,2,"mat-option",25,V),e()()(),t(53,"div",21)(54,"mat-form-field",17)(55,"mat-label"),i(56,"Adresse email "),t(57,"code",18),i(58,"*"),e()(),t(59,"input",26),M("ngModelChange",function(d){return _(c),b(o.adresse_email,d)||(o.adresse_email=d),f(d)}),e()()(),t(60,"div",21)(61,"mat-form-field",17)(62,"mat-label"),i(63,"Num\xE9ro t\xE9l\xE9phone "),t(64,"code",18),i(65,"*"),e()(),t(66,"input",27),M("ngModelChange",function(d){return _(c),b(o.phone,d)||(o.phone=d),f(d)}),e()()(),t(67,"div",21)(68,"mat-form-field",17)(69,"mat-label"),i(70,"Date de naissance "),t(71,"code",18),i(72,"*"),e()(),t(73,"input",28),M("ngModelChange",function(d){return _(c),b(o.date_naissance,d)||(o.date_naissance=d),f(d)}),e(),S(74,"mat-datepicker-toggle",29)(75,"mat-datepicker",null,0),e()(),t(77,"div",21)(78,"mat-form-field",17)(79,"mat-label"),i(80,"Lieu de naissance "),t(81,"code",18),i(82,"*"),e()(),t(83,"input",30),M("ngModelChange",function(d){return _(c),b(o.lieu_naissance,d)||(o.lieu_naissance=d),f(d)}),e()()(),t(84,"div",21)(85,"mat-form-field",17)(86,"mat-label"),i(87,"Lieu de r\xE9sidence "),t(88,"code",18),i(89,"*"),e()(),t(90,"input",31),M("ngModelChange",function(d){return _(c),b(o.lieu_residence,d)||(o.lieu_residence=d),f(d)}),e()()(),t(91,"div",21)(92,"mat-form-field",17)(93,"mat-label"),i(94,"Nationalit\xE9 "),t(95,"code",18),i(96,"*"),e()(),t(97,"input",32),M("ngModelChange",function(d){return _(c),b(o.nationalite,d)||(o.nationalite=d),f(d)}),e()()(),t(98,"div",21)(99,"mat-form-field",17)(100,"mat-label"),i(101,"Ant\xE9c\xE9dent medical "),t(102,"code",18),i(103,"*"),e()(),t(104,"input",33),M("ngModelChange",function(d){return _(c),b(o.antecedant_medicaux,d)||(o.antecedant_medicaux=d),f(d)}),e()()(),t(105,"div",21)(106,"mat-form-field",17)(107,"mat-label"),i(108,"Nombre de personnes \xE0 charge "),t(109,"code",18),i(110,"*"),e()(),t(111,"input",34),M("ngModelChange",function(d){return _(c),b(o.personne_a_charge,d)||(o.personne_a_charge=d),f(d)}),e()()(),t(112,"div",21)(113,"mat-form-field",17)(114,"mat-label"),i(115,"Situation Matrimoniale "),t(116,"code",18),i(117,"*"),e()(),t(118,"input",35),M("ngModelChange",function(d){return _(c),b(o.situation_matrimoniale,d)||(o.situation_matrimoniale=d),f(d)}),e()()(),t(119,"div",21)(120,"mat-form-field",17)(121,"mat-label"),i(122,"Nom du conjoint "),t(123,"code",18),i(124,"*"),e()(),t(125,"input",36),M("ngModelChange",function(d){return _(c),b(o.conjoint_name,d)||(o.conjoint_name=d),f(d)}),e()()(),t(126,"div",21)(127,"mat-form-field",17)(128,"mat-label"),i(129,"Contact du conjoint "),t(130,"code",18),i(131,"*"),e()(),t(132,"input",37),M("ngModelChange",function(d){return _(c),b(o.contact_conjoint,d)||(o.contact_conjoint=d),f(d)}),e()()(),t(133,"div",21)(134,"mat-form-field",17)(135,"mat-label"),i(136,"Personne \xE0 contacter "),t(137,"code",18),i(138,"*"),e()(),t(139,"input",38),M("ngModelChange",function(d){return _(c),b(o.personne_a_contacter,d)||(o.personne_a_contacter=d),f(d)}),e()()(),t(140,"div",21)(141,"mat-form-field",17)(142,"mat-label"),i(143,"Num\xE9ro de la personne \xE0 contacter "),t(144,"code",18),i(145,"*"),e()(),t(146,"input",39),M("ngModelChange",function(d){return _(c),b(o.contact_personne_a_contacter,d)||(o.contact_personne_a_contacter=d),f(d)}),e()()(),t(147,"div",21)(148,"mat-form-field",17)(149,"mat-label"),i(150,"Situation Matrimoniale"),t(151,"code",18),i(152,"*"),e()(),t(153,"mat-select",24),M("valueChange",function(d){return _(c),b(o.selectedSituationMatrimonialeOption,d)||(o.selectedSituationMatrimonialeOption=d),f(d)}),v("selectionChange",function(d){return _(c),f(o.selectSituationMatrimoniale(d))}),F(154,nn,2,2,"mat-option",25,V),e()()(),t(156,"div",16)(157,"mat-form-field",17)(158,"mat-label"),i(159,"Nombre d'enfant \xE0 charge "),t(160,"code",18),i(161,"*"),e()(),t(162,"input",40),M("ngModelChange",function(d){return _(c),b(o.nombre_enfant_a_charge,d)||(o.nombre_enfant_a_charge=d),f(d)}),e()()(),t(163,"div",16)(164,"mat-form-field",17)(165,"mat-label"),i(166,"Type de pi\xE8ce"),t(167,"code",18),i(168,"*"),e()(),t(169,"mat-select",24),M("valueChange",function(d){return _(c),b(o.selectedPieceOption,d)||(o.selectedPieceOption=d),f(d)}),v("selectionChange",function(d){return _(c),f(o.selectPiece(d))}),F(170,on,2,2,"mat-option",25,V),e()()(),t(172,"div",16)(173,"mat-form-field",17)(174,"mat-label"),i(175,"N\xB0 Pi\xE8ce d'identit\xE9 "),t(176,"code",18),i(177,"*"),e()(),t(178,"input",41),M("ngModelChange",function(d){return _(c),b(o.piece_number,d)||(o.piece_number=d),f(d)}),e()()(),t(179,"div",42),w(180,an,4,0,"button",43)(181,rn,4,0,"button",44)(182,ln,4,0,"button",43),e()()(),t(183,"mat-tab"),w(184,sn,4,0,"ng-template",14),t(185,"div",45)(186,"div",46)(187,"mat-form-field",17)(188,"mat-label"),i(189,"Contrats"),t(190,"code",18),i(191,"*"),e()(),t(192,"mat-select",24),M("valueChange",function(d){return _(c),b(o.selectedContratsOption,d)||(o.selectedContratsOption=d),f(d)}),v("selectionChange",function(d){return _(c),f(o.selectContrats(d))}),F(193,mn,2,2,"mat-option",25,V),e()()(),t(195,"div",46)(196,"mat-form-field",17)(197,"mat-label"),i(198,"fonction de l'employ\xE9 "),t(199,"code",18),i(200,"*"),e()(),t(201,"mat-select",47),M("valueChange",function(d){return _(c),b(o.selectedFonctionOption,d)||(o.selectedFonctionOption=d),f(d)}),v("selectionChange",function(d){return _(c),f(o.selectFonction(d))}),F(202,dn,2,2,"mat-option",25,V),e()()(),t(204,"div",46)(205,"mat-form-field",17)(206,"mat-label"),i(207,"Lieu de travail"),t(208,"code",18),i(209,"*"),e()(),t(210,"mat-select",47),M("valueChange",function(d){return _(c),b(o.selectedBureauOption,d)||(o.selectedBureauOption=d),f(d)}),v("selectionChange",function(d){return _(c),f(o.selectBureau(d))}),F(211,cn,2,2,"mat-option",25,V),e()()(),t(213,"div",46)(214,"mat-form-field",17)(215,"mat-label"),i(216,"Servcie de l'employ\xE9"),t(217,"code",18),i(218,"*"),e()(),t(219,"mat-select",47),M("valueChange",function(d){return _(c),b(o.selectedServiceOption,d)||(o.selectedServiceOption=d),f(d)}),v("selectionChange",function(d){return _(c),f(o.selectService(d))}),F(220,pn,2,2,"mat-option",25,V),e()()(),t(222,"div",46)(223,"mat-form-field",17)(224,"mat-label"),i(225,"Date debut de contrat"),t(226,"code",18),i(227,"*"),e()(),t(228,"input",28),M("ngModelChange",function(d){return _(c),b(o.date_embauche,d)||(o.date_embauche=d),f(d)}),e(),S(229,"mat-datepicker-toggle",29)(230,"mat-datepicker",null,1),e()(),t(232,"div",46)(233,"mat-form-field",17)(234,"mat-label"),i(235,"Date fin de contrats"),t(236,"code",18),i(237,"*"),e()(),t(238,"input",28),M("ngModelChange",function(d){return _(c),b(o.date_embauche_end,d)||(o.date_embauche_end=d),f(d)}),e(),S(239,"mat-datepicker-toggle",29)(240,"mat-datepicker",null,2),e()(),t(242,"div",46)(243,"mat-form-field",17)(244,"mat-label"),i(245,"Cat\xE9gorie professionnnelle"),t(246,"code",18),i(247,"*"),e()(),t(248,"mat-select",47),M("valueChange",function(d){return _(c),b(o.selectedCategorieProfessionnelleOption,d)||(o.selectedCategorieProfessionnelleOption=d),f(d)}),v("selectionChange",function(d){return _(c),f(o.selectCategorieProfessionnelle(d))}),F(249,un,2,2,"mat-option",25,V),e()()(),t(251,"div",46)(252,"mat-form-field",17)(253,"mat-label"),i(254,"N\xB0 CNPS "),t(255,"code",18),i(256,"*"),e()(),t(257,"input",48),M("ngModelChange",function(d){return _(c),b(o.cnps_number,d)||(o.cnps_number=d),f(d)}),e()()(),t(258,"div",46)(259,"mat-form-field",17)(260,"mat-label"),i(261,"Salaire net mensuel "),t(262,"code",18),i(263,"*"),e()(),t(264,"input",49),M("ngModelChange",function(d){return _(c),b(o.salaire_net_mensuel,d)||(o.salaire_net_mensuel=d),f(d)}),e()()(),t(265,"div",46)(266,"mat-form-field",17)(267,"mat-label"),i(268,"Avantage "),t(269,"code",18),i(270,"*"),e()(),t(271,"input",50),M("ngModelChange",function(d){return _(c),b(o.avantage,d)||(o.avantage=d),f(d)}),e()()(),t(272,"div",42),w(273,_n,4,0,"button",43)(274,fn,4,0,"button",44)(275,hn,4,0,"button",43),e()()(),t(276,"mat-tab"),w(277,gn,4,0,"ng-template",14),t(278,"div",51)(279,"div",52),w(280,vn,4,0,"div",53)(281,Cn,26,8,"div",53),e()()()()()()()()(),t(282,"ngx-spinner",54)(283,"p",55),i(284," Chargement en cours... "),e()()}if(a&2){let c=I(76),p=I(231),d=I(241);l(7),u("src",o.old_image,ge),l(15),y("ngModel",o.first_name),u("readonly",o.is_disabled==!0),l(7),y("ngModel",o.last_name),u("readonly",o.is_disabled==!0),l(7),y("ngModel",o.profession),u("readonly",o.is_disabled==!0),l(7),y("ngModel",o.diplome),u("readonly",o.is_disabled==!0),l(7),u("disabled",o.is_disabled==!0),y("value",o.selectedGenreOption),l(),L(o.list_genre),l(8),y("ngModel",o.adresse_email),u("readonly",o.is_disabled==!0),l(7),y("ngModel",o.phone),u("readonly",o.is_disabled==!0),l(7),y("ngModel",o.date_naissance),u("readonly",o.is_disabled==!0)("matDatepicker",c),l(),u("for",c),l(9),y("ngModel",o.lieu_naissance),u("readonly",o.is_disabled==!0),l(7),y("ngModel",o.lieu_residence),u("readonly",o.is_disabled==!0),l(7),y("ngModel",o.nationalite),u("readonly",o.is_disabled==!0),l(7),y("ngModel",o.antecedant_medicaux),u("readonly",o.is_disabled==!0),l(7),y("ngModel",o.personne_a_charge),u("readonly",o.is_disabled==!0),l(7),y("ngModel",o.situation_matrimoniale),u("readonly",o.is_disabled==!0),l(7),y("ngModel",o.conjoint_name),u("readonly",o.is_disabled==!0),l(7),y("ngModel",o.contact_conjoint),u("readonly",o.is_disabled==!0),l(7),y("ngModel",o.personne_a_contacter),u("readonly",o.is_disabled==!0),l(7),y("ngModel",o.contact_personne_a_contacter),u("readonly",o.is_disabled==!0),l(7),u("disabled",o.is_disabled==!0),y("value",o.selectedSituationMatrimonialeOption),l(),L(o.list_situation_matrimoniale),l(8),y("ngModel",o.nombre_enfant_a_charge),u("readonly",o.is_disabled==!0),l(7),u("disabled",o.is_disabled==!0),y("value",o.selectedPieceOption),l(),L(o.list_piece),l(8),y("ngModel",o.piece_number),u("readonly",o.is_disabled==!0),l(2),g(180,o.is_disabled==!0?180:-1),l(),g(181,o.is_disabled==!1?181:-1),l(),g(182,o.is_disabled==!1?182:-1),l(10),u("disabled",o.is_disabled_contrats==!0),y("value",o.selectedContratsOption),l(),L(o.list_contrats),l(8),y("value",o.selectedFonctionOption),u("disabled",o.is_disabled_contrats==!0),l(),L(o.list_fonction),l(8),y("value",o.selectedBureauOption),u("disabled",o.is_disabled_contrats==!0),l(),L(o.list_bureau),l(8),y("value",o.selectedServiceOption),u("disabled",o.is_disabled_contrats==!0),l(),L(o.list_service),l(8),y("ngModel",o.date_embauche),u("readonly",o.is_disabled_contrats==!0)("matDatepicker",p),l(),u("for",p),l(9),y("ngModel",o.date_embauche_end),u("readonly",o.is_disabled_contrats==!0)("matDatepicker",d),l(),u("for",d),l(9),y("value",o.selectedCategorieProfessionnelleOption),u("disabled",o.is_disabled_contrats==!0),l(),L(o.list_categorie_pro),l(8),y("ngModel",o.cnps_number),u("readonly",o.is_disabled_contrats==!0),l(7),y("ngModel",o.salaire_net_mensuel),u("readonly",o.is_disabled_contrats==!0),l(7),y("ngModel",o.avantage),u("readonly",o.is_disabled_contrats==!0),l(2),g(273,o.is_disabled_contrats==!0?273:-1),l(),g(274,o.is_disabled_contrats==!1?274:-1),l(),g(275,o.is_disabled_contrats==!1?275:-1),l(5),g(280,o.employee_dossier==null?280:-1),l(),g(281,o.employee_dossier!=null?281:-1),l(),u("fullScreen",!0)}},dependencies:[U,z,R,W,te,ye,X,Z,fe,be,Ee,et,tt,it,$,Me,we,Te,De,Y,N,J,Wt,Q,K,ie,O]});let r=m;return r})();function bn(r,m){r&1&&S(0,"mat-progress-bar",9)}function Mn(r,m){r&1&&(t(0,"div",18)(1,"mat-icon",56),i(2,"notifications"),e(),i(3," Vous avez d\xE9j\xE0 donn\xE9 votre approbation \xE0 ce cong\xE9. "),e())}function wn(r,m){r&1&&(t(0,"div",19)(1,"mat-icon",12),i(2,"notifications"),e(),i(3," Vous avez d\xE9j\xE0 donn\xE9 votre approbation \xE0 ce cong\xE9. "),e())}function Tn(r,m){if(r&1){let s=T();t(0,"div",20)(1,"mat-radio-group",57),v("change",function(a){_(s);let o=x();return f(o.PermissionDecisionChange(a))}),t(2,"mat-radio-button",58)(3,"span",59),i(4,"Approuver"),e()(),t(5,"mat-radio-button",60)(6,"span",59),i(7,"Rejeter"),e()()()()}}function Dn(r,m){if(r&1){let s=T();t(0,"div",20)(1,"mat-form-field",61)(2,"mat-label"),i(3,"Laissez une note sur la d\xE9cision..."),e(),t(4,"textarea",62),M("ngModelChange",function(a){_(s);let o=x();return b(o.decision_comments,a)||(o.decision_comments=a),f(a)}),e(),t(5,"mat-hint",63)(6,"strong"),i(7,"Nombre de caract\xE8re limit\xE9 \xE0 160"),e()(),t(8,"mat-hint",64),i(9),e()()()}if(r&2){let s=x();l(4),y("ngModel",s.decision_comments),l(5),C("",s.decision_comments.length," / 160")}}function kn(r,m){if(r&1){let s=T();t(0,"div")(1,"button",65),v("click",function(){_(s);let a=x();return f(a.saveDecision())}),t(2,"mat-icon"),i(3,"save"),e(),i(4," Enregistrer votre d\xE9cision "),e()()}}function In(r,m){r&1&&(t(0,"button",52)(1,"mat-icon"),i(2,"verified"),e(),i(3," Cong\xE9 approuv\xE9 "),e())}function Bn(r,m){r&1&&(t(0,"button",53)(1,"mat-icon"),i(2,"verified"),e(),i(3," Cong\xE9 r\xE9jet\xE9 "),e())}function Pn(r,m){r&1&&(t(0,"button",53)(1,"mat-icon"),i(2,"no_accounts"),e(),i(3," Accune action "),e())}function Fn(r,m){if(r&1&&(t(0,"div",54)(1,"mat-icon",66),i(2,"notifications"),e(),i(3),e()),r&2){let s=x();l(3),C(" ",s.comments," ")}}var ii=(()=>{let m=class m{constructor(n,a,o,c,p){this._notificationService=n,this._conge=a,this._router=o,this.data=c,this._dialogRef=p,this.item_slug="",this.conge_ref="",this.type_duration="",this.date_permission="",this.motif="",this.fonction="",this.service="",this.objet_demande="",this.created_at="",this.status_on=0,this.status_off=0,this.conge_start="",this.conge_end="",this.duree_conge="",this.customer_name="",this.justificatif="",this.show_comment_box=!1,this.decision="",this.decision_comments="",this.comments="",this.loading=!1}ngOnInit(){this.data!=null&&(this.item_slug=this.data.slug),this.getCurrentCongeInfo(),this.updateIsConsultingStatus()}getCurrentCongeInfo(){this._conge.showConge(this.item_slug).subscribe({next:n=>{this.conge_data=n,this.conge_ref=n.conge_ref,this.fonction=n.fonction,this.justificatif=n.conge_file,this.service=n.service,this.conge_start=n.date_depart,this.conge_end=n.date_retour,this.duree_conge=n.duree_conge,this.customer_name=n.first_name+" "+n.last_name,this.motif=n.motif,this.created_at=n.created_at,this.objet_demande=n.objet_demande,this.status_on=n.status_on,this.status_off=n.status_off,this.comments=n.comments},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}PermissionDecisionChange(n){let a=n.value;a=="approved"?(this.show_comment_box=!0,this.decision=a):a=="rejected"?(this.show_comment_box=!0,this.decision=a):(this.show_comment_box=!1,this.decision="")}saveDecision(){let n={decison:this.decision,decision_comments:this.decision_comments,slug:this.item_slug};console.log(n),this.loading=!0,this._conge.approvedOrRejectedConge(n).subscribe({next:a=>{a.code==200?(this._notificationService.openSnackBarSuccess(a),setTimeout(()=>{this.loading=!1,this.getCurrentCongeInfo(),this.show_comment_box=!1},1e3)):(a.code==300||a.code==500||a.code==302)&&(this.loading,this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateIsConsultingStatus(){this._conge.updateIsConsultingStatus(this.item_slug).subscribe({next:n=>{n.code==200?this._notificationService.openSnackBarSuccess(n):n.code==300||n.code==500||n.code==302?(this.loading,this._notificationService.openSnackBarError(n)):n.code==201&&(this.loading,this._notificationService.openSnackBarInfo(n))},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}printCongeCard(){var n=document.querySelector("#conge_card")?.innerHTML,a=document.body.innerHTML;document.body.innerHTML=n,window.print(),document.body.innerHTML=a,location.reload()}};m.\u0275fac=function(a){return new(a||m)(h(A),h(bt),h(j),h(Re),h(We))},m.\u0275cmp=B({type:m,selectors:[["app-ch-detail-conges"]],standalone:!0,features:[P],decls:132,vars:33,consts:[["mat-dialog-title",""],["mat-fab","","extended","","color","primary","mat-dialog-close",""],["mat-dialog-content","",2,"max-height","95vh"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"row"],[1,"col-lg-5","col-md-5"],[1,"card"],["mode","indeterminate"],[1,"card-header","d-flex","justify-content-between","mb-3"],[1,"me-2"],[1,"text-red"],[1,"card-title","text-primary","fs-5","fw-bolder"],[1,"text-end"],["mat-fab","",1,"",3,"click"],[1,"card-body","text-center","position-relative","pt-4"],[1,"card-title","fs-3","mb-3","text-center"],["role","alert",1,"alert","box-bdr-green","alert-dismissible","fade","show","text-green"],["role","alert",1,"alert","box-bdr-red","alert-dismissible","fade","show","text-red"],[1,"col-md-12","col-lg-12","mb-4"],[1,"col-lg-7","col-md-7"],["id","conge_card",1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","align-items-center","mb-4"],[1,"col-xl-2","col-sm-3","col-12"],["src","assets/media/logoai.png","width","100","alt","",1,"img-fluid"],[1,"col-xl-10","col-sm-9","col-12"],[1,"text-end","m-0","fw-bolder"],[1,"fw-bolder","fs-5"],[1,"col-sm-12","col-12"],[1,"text-center","mb-3"],[1,"fw-bolder","text-uppercase"],[1,"d-flex","justify-content-end","my-4"],[1,"m-0"],[1,"fw-bolder"],[1,"fw-bolder","text-red","text-uppercase"],[1,"row","gx-3","mb-2"],[1,"col-sm-12","col-12","mb-3"],[1,"fw-bolder","text-red"],[1,"col-12"],[1,"table-responsive","mb-3"],[1,"table","table-bordered"],[1,"text-center","text-uppercase"],[1,"text-center"],[1,"text-uppercase","mb-4"],[1,"fw-bolder","mb-4"],[1,"d-flex","justify-content-between"],[1,"m-0","text-start"],[1,"fw-bolder","text-start"],["mat-fab","","extended","","color","primary"],["mat-fab","","extended","","color","warn"],["role","alert",1,"alert","alert-light","alert-dismissible","fade","show"],[1,"m-0","text-end"],[1,"text-danger"],["aria-label","Select an option",3,"change"],["value","approved"],[1,"fw-bolder","fs-4"],["value","rejected"],[1,"example-full-width"],["matInput","","maxlength","160","placeholder","Ex. cong\xE9 approuv\xE9...",3,"ngModelChange","ngModel"],["align","start"],["align","end"],["mat-fab","","extended","","color","primary",1,"w-100",3,"click"],[1,"text-danger","alert-icon"]],template:function(a,o){a&1&&(t(0,"h1",0),i(1," D\xE9tail de la permission "),t(2,"button",1)(3,"mat-icon"),i(4,"reply"),e(),i(5," Fermer "),e()(),t(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8),w(13,bn,1,0,"mat-progress-bar",9),t(14,"div",10)(15,"span",11)(16,"mat-icon",12),i(17,"notifications"),e()(),t(18,"div",13),i(19," R\xE9server au responsable du capital humain "),e(),t(20,"div",14)(21,"button",15),v("click",function(){return o.printCongeCard()}),t(22,"mat-icon"),i(23,"print"),e()()()(),t(24,"div",16)(25,"div",17),i(26,"D\xE9cision de la permission"),e(),t(27,"div",6),w(28,Mn,4,0,"div",18)(29,wn,4,0,"div",19)(30,Tn,8,0,"div",20)(31,Dn,10,2,"div",20)(32,kn,5,0,"div"),e()()()(),t(33,"div",21)(34,"div",22)(35,"div",23)(36,"div",24),i(37),e()(),t(38,"div",25)(39,"div",26)(40,"div",27),S(41,"img",28),e(),t(42,"div",29)(43,"p",30)(44,"span",31),i(45,"Alerte "),S(46,"br"),i(47," Info"),e()()()(),t(48,"div",4)(49,"div",32)(50,"div",33)(51,"h1",34),i(52," demande de conge "),e()(),t(53,"div",35)(54,"div")(55,"p",36)(56,"span",37),i(57,"Date de la demande,"),e(),S(58,"br"),t(59,"span",38),i(60),D(61,"date"),e()()()()()(),t(62,"div",39)(63,"div",40)(64,"p",36)(65,"span",37),i(66,"Dur\xE9e du conge,"),e(),S(67,"br"),t(68,"span",37)(69,"span",41),i(70),e(),S(71,"br"),i(72),D(73,"date"),D(74,"date"),e()()()(),t(75,"div",39)(76,"div",40)(77,"p",36)(78,"span",37),i(79,"Objet,"),e(),S(80,"br"),t(81,"span",38),i(82),e()()()(),t(83,"div",4)(84,"div",42)(85,"div",43)(86,"table",44)(87,"thead")(88,"tr")(89,"th")(90,"span",45),i(91,"Nom & Pr\xE9nom"),e()(),t(92,"th")(93,"span",45),i(94,"Fonction"),e()(),t(95,"th")(96,"span",45),i(97,"Service"),e()()()(),t(98,"tbody")(99,"tr")(100,"td")(101,"span",46),i(102),e()(),t(103,"td")(104,"span",46),i(105),e()(),t(106,"td")(107,"span",46),i(108),e()()()()()(),t(109,"p",47),i(110,"Motif de la permission: "),e(),t(111,"p",48),i(112),e(),S(113,"br"),t(114,"div",49)(115,"div")(116,"p",50)(117,"span",51),i(118,"Approbation"),e(),S(119,"br"),w(120,In,4,0,"button",52)(121,Bn,4,0,"button",53)(122,Pn,4,0,"button",53),e(),w(123,Fn,4,1,"div",54),e(),t(124,"div")(125,"p",55)(126,"span",37),i(127,"Faire \xE0 Abidjan le,"),e(),S(128,"br"),t(129,"span",38),i(130),D(131,"date"),e()()()()()()()()()()()()()()),a&2&&(l(13),g(13,o.loading==!0?13:-1),l(15),g(28,o.status_on==1?28:-1),l(),g(29,o.status_off==1?29:-1),l(),g(30,o.status_on==0&&o.status_off==0?30:-1),l(),g(31,o.show_comment_box==!0?31:-1),l(),g(32,o.show_comment_box==!0?32:-1),l(5),C("R\xE9f permission - #",o.conge_ref,""),l(23),E(k(61,21,o.conge_start,"d MMMM yyyy")),l(10),C(" ",o.duree_conge," "),l(2),Qe(" du ",k(73,24,o.conge_start,"d MMMM yyyy")," au ",k(74,27,o.conge_end,"d MMMM yyyy")," "),l(10),E(o.objet_demande),l(20),E(o.customer_name),l(3),E(o.fonction),l(3),E(o.service),l(4),E(o.motif),l(8),g(120,o.status_on==1?120:-1),l(),g(121,o.status_off==1?121:-1),l(),g(122,o.status_on==0&&o.status_off==0?122:-1),l(),g(123,o.status_on==1||o.status_off==1?123:-1),l(7),E(k(131,30,o.created_at,"d MMMM yyyy, \xE0 HH:mm")))},dependencies:[xe,Xe,R,W,Ce,X,Z,xt,Ue,ze,qe,$,nt,ot,at,O,N,J,Q,vt,K]});let r=m;return r})();var ni=r=>({itemsPerPage:20,currentPage:r});function Ln(r,m){if(r&1&&(t(0,"mat-icon",16),i(1,"view_list"),e(),t(2,"span",17),i(3,"Liste des cong\xE9s"),e(),t(4,"span")(5,"button",18),i(6),e()()),r&2){let s=x();l(6),C(" ",s.conge_counter," ")}}function Vn(r,m){r&1&&(t(0,"button",22)(1,"mat-icon",29),i(2,"verified"),e()())}function jn(r,m){r&1&&(t(0,"button",23)(1,"mat-icon",30),i(2,"verified"),e()())}function Wn(r,m){r&1&&(t(0,"button",24)(1,"mat-icon",31),i(2,"unpublished"),e()())}function Rn(r,m){if(r&1){let s=T();t(0,"tr")(1,"td"),i(2),e(),t(3,"td",19),i(4),e(),t(5,"td")(6,"p"),i(7),e()(),t(8,"td")(9,"p"),i(10),e()(),t(11,"td")(12,"p"),i(13),e()(),t(14,"td")(15,"button",20)(16,"mat-icon"),i(17,"check_circle"),e()()(),t(18,"td",21),w(19,Vn,3,0,"button",22)(20,jn,3,0,"button",23)(21,Wn,3,0,"button",24),e(),t(22,"td",25)(23,"p"),i(24),D(25,"transformDate"),e()(),t(26,"td",25)(27,"button",26)(28,"mat-icon"),i(29,"more_vert"),e()(),t(30,"mat-menu",27,0)(32,"button",28),v("click",function(){let a=_(s).$implicit,o=x();return f(o.consulteConge(a))}),t(33,"mat-icon"),i(34,"visibility"),e(),i(35," Consulter "),e(),t(36,"button",28),v("click",function(){let a=_(s).$implicit,o=x();return f(o.openDeleDialog(a.slug))}),t(37,"mat-icon"),i(38,"delete"),e(),i(39," Supprimer "),e()()()()}if(r&2){let s=m.$implicit,n=m.$index,a=I(31);l(2),E(n+1),l(2),C(" ",s.motif," "),l(3),E(s.first_name+" "+s.last_name),l(3),E(s.fonction),l(3),E(s.service),l(2),u("matTooltip",s.new_actions==1?"Consult\xE9":"Nouveau"),l(),Pe(s.new_actions==1?"text-primary":"text-warning"),l(3),g(19,s.status_on==1?19:-1),l(),g(20,s.status_off==1?20:-1),l(),g(21,s.status_on==0&&s.status_off==0?21:-1),l(3),E(k(25,13,s.created_at,"d MMMM yyyy, \xE0 HH:mm")),l(3),u("matMenuTriggerFor",a)}}function An(r,m){if(r&1&&(t(0,"mat-icon",16),i(1,"format_list_bulleted"),e(),t(2,"span",17),i(3,"Mes conges"),e(),t(4,"span")(5,"button",18),i(6),e()()),r&2){let s=x();l(6),C(" ",s.customer_conge_counter," ")}}function Nn(r,m){r&1&&(t(0,"button",22)(1,"mat-icon",29),i(2,"verified"),e()())}function On(r,m){r&1&&(t(0,"button",23)(1,"mat-icon",30),i(2,"verified"),e()())}function Hn(r,m){r&1&&(t(0,"button",24)(1,"mat-icon",31),i(2,"unpublished"),e()())}function Un(r,m){if(r&1){let s=T();t(0,"tr")(1,"td"),i(2),e(),t(3,"td",32),i(4),e(),t(5,"td")(6,"p"),i(7),e()(),t(8,"td")(9,"p"),i(10),e()(),t(11,"td")(12,"p"),i(13),e()(),t(14,"td")(15,"button",20)(16,"mat-icon"),i(17,"check_circle"),e()()(),t(18,"td",21),w(19,Nn,3,0,"button",22)(20,On,3,0,"button",23)(21,Hn,3,0,"button",24),e(),t(22,"td",25)(23,"p"),i(24),D(25,"transformDate"),e()(),t(26,"td",25)(27,"button",26)(28,"mat-icon"),i(29,"more_vert"),e()(),t(30,"mat-menu",27,0)(32,"button",28),v("click",function(){let a=_(s).$implicit,o=x();return f(o.consulteConge(a))}),t(33,"mat-icon"),i(34,"visibility"),e(),i(35," Consulter "),e()()()()}if(r&2){let s=m.$implicit,n=m.$index,a=I(31);l(2),E(n+1),l(2),C(" ",s.motif," "),l(3),E(s.customer_name),l(3),E(s.fonction),l(3),E(s.service),l(2),u("matTooltip",s.new_actions==1?"Consult\xE9":"Nouveau"),l(),Pe(s.new_actions==1?"text-primary":"text-warning"),l(3),g(19,s.status_on==1?19:-1),l(),g(20,s.status_off==1?20:-1),l(),g(21,s.status_on==0&&s.status_off==0?21:-1),l(3),E(k(25,13,s.created_at,"d MMMM yyyy, \xE0 HH:mm")),l(3),u("matMenuTriggerFor",a)}}var oi=(()=>{let m=class m{constructor(n,a,o,c,p,d){this._dialog=n,this._conge=a,this._notificationService=o,this._loading=c,this._router=p,this._userData=d,this.p=1,this.list_conges=[],this.list_customer_conges=[],this.conge_counter=0,this.customer_conge_counter=0,this.employe_matricule=""}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getCongesList()}consulteConge(n){this._dialog.open(ii,{panelClass:"fullscreen-dialog",data:n}).afterClosed().subscribe({next:o=>{}})}getCongesList(){this._loading.show_loading(),this._conge.getConge(this.employe_matricule).subscribe({next:n=>{setTimeout(()=>{console.log(n),this.list_conges=n.conge,this.conge_counter=this.list_conges.length,this.list_customer_conges=n.customer_conge,this.customer_conge_counter=this.list_customer_conges.length,this._loading.hide_loading()},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(n){this._dialog.open(se,{width:"auto"}).afterClosed().subscribe({next:o=>{o=="confirm"&&this.deleteConge(n)}})}deleteConge(n){this._loading.show_loading(),this._conge.deleteDemandeConge(n).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getCongesList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(h(ne),h(bt),h(A),h(H),h(j),h(he))},m.\u0275cmp=B({type:m,selectors:[["app-ch-employees-conges"]],standalone:!0,features:[P],decls:72,vars:11,consts:[["beforeMenu","matMenu"],[1,"hero-body"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-body"],[1,"col-xxl-12","col-sm-12","col-12"],["mat-tab-label",""],[1,"table-responsive","mt-4"],[1,"table","table-striped","m-0"],[1,"div","text-center","mt-4"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],[1,"div","text-center"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"example-tab-icon","me-3"],[1,"fw-bolder","fs-5"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],[2,"white-space","unset !important"],["mat-icon-button","",3,"matTooltip"],[1,"text-center"],["matTooltip","Approuv\xE9","mat-icon-button",""],["matTooltip","R\xE9jet\xE9","mat-icon-button",""],["matTooltip","Aucune action","mat-icon-button",""],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"],[1,"text-primary"],[1,"text-red"],[1,"text-warning"],["width","400",2,"white-space","unset !important"]],template:function(a,o){a&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",3)(7,"div",7)(8,"mat-tab-group")(9,"mat-tab"),w(10,Ln,7,1,"ng-template",8),t(11,"div",9)(12,"table",10)(13,"thead")(14,"tr")(15,"th"),i(16,"#ID"),e(),t(17,"th"),i(18,"Motif"),e(),t(19,"th"),i(20,"Auteur"),e(),t(21,"th"),i(22,"Fonction"),e(),t(23,"th"),i(24,"Service"),e(),t(25,"th"),i(26,"Etat"),e(),t(27,"th"),i(28,"Statut"),e(),t(29,"th"),i(30,"Date de publication"),e(),t(31,"th"),i(32,"Actions"),e()()(),t(33,"tbody"),F(34,Rn,40,16,"tr",null,V),D(36,"paginate"),e()()(),t(37,"div",11)(38,"pagination-controls",12),v("pageChange",function(p){return o.p=p}),e()()(),t(39,"mat-tab"),w(40,An,7,1,"ng-template",8),t(41,"div",9)(42,"table",10)(43,"thead")(44,"tr")(45,"th"),i(46,"#ID"),e(),t(47,"th"),i(48,"Motif"),e(),t(49,"th"),i(50,"Auteur"),e(),t(51,"th"),i(52,"Fonction"),e(),t(53,"th"),i(54,"Service"),e(),t(55,"th"),i(56,"Etat"),e(),t(57,"th"),i(58,"Statut"),e(),t(59,"th"),i(60,"Date de publication"),e(),t(61,"th"),i(62,"Actions"),e()()(),t(63,"tbody"),F(64,Un,36,16,"tr",null,V),D(66,"paginate"),e()()(),t(67,"div",13)(68,"pagination-controls",12),v("pageChange",function(p){return o.p=p}),e()()()()()()()()()()()(),t(69,"ngx-spinner",14)(70,"p",15),i(71," Chargement en cours... "),e()()),a&2&&(l(34),L(k(36,1,o.list_conges,q(7,ni,o.p))),l(30),L(k(66,4,o.list_customer_conges,q(9,ni,o.p))),l(5),u("fullScreen",!0))},dependencies:[U,z,R,ae,oe,re,W,ye,le,et,tt,it,De,Y,me,de,dt,N,ie,O]});let r=m;return r})();var ai=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=B({type:m,selectors:[["app-ch-employees-gestion-paie"]],standalone:!0,features:[P],decls:2,vars:0,template:function(a,o){a&1&&(t(0,"p"),i(1,"ch-employees-gestion-paie works!"),e())}});let r=m;return r})();var ri=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=B({type:m,selectors:[["app-ch-employees-evaluations"]],standalone:!0,features:[P],decls:2,vars:0,template:function(a,o){a&1&&(t(0,"p"),i(1,"ch-employees-evaluations works!"),e())}});let r=m;return r})();var qn=r=>({itemsPerPage:10,currentPage:r}),li=(r,m)=>["/ch.detail-dossiers",r,m];function Yn(r,m){r&1&&(t(0,"button",24)(1,"mat-icon",31),i(2,"verified"),e()())}function Gn(r,m){r&1&&(t(0,"button",25)(1,"mat-icon",31),i(2,"verified"),e()())}function Jn(r,m){r&1&&(t(0,"button",26)(1,"mat-icon",32),i(2,"pending"),e()())}function Qn(r,m){if(r&1){let s=T();t(0,"tr")(1,"td",14),i(2),e(),t(3,"td",14)(4,"a",19)(5,"div",20)(6,"mat-icon",21),i(7,"folder"),e(),t(8,"p",22),i(9),e()()()(),t(10,"td",14)(11,"p",23),i(12),e()(),t(13,"td",14),i(14),D(15,"transformDate"),e(),t(16,"td",14),w(17,Yn,3,0,"button",24)(18,Gn,3,0,"button",25)(19,Jn,3,0,"button",26),e(),t(20,"td",14)(21,"button",27)(22,"mat-icon"),i(23,"more_vert"),e()(),t(24,"mat-menu",28,0)(26,"button",29)(27,"mat-icon"),i(28,"folder_open"),e(),i(29," Ouvrir "),e(),t(30,"button",30),v("click",function(){let a=_(s).$implicit,o=x();return f(o.updateDossiers(a))}),t(31,"mat-icon"),i(32,"border_color"),e(),i(33," Modifier "),e(),t(34,"button",30),v("click",function(){let a=_(s).$implicit,o=x();return f(o.openDeleDialog(a.slug))}),t(35,"mat-icon"),i(36,"delete"),e(),i(37," Supprimer "),e()()()()}if(r&2){let s=m.$implicit,n=m.$index,a=I(25);l(2),E(n+1),l(2),u("routerLink",Tt(13,li,s.dossiers_code,s.slug)),l(5),E(s.libelle_dossiers),l(3),C("",s.first_name+" "+s.last_name," "),l(2),E(k(15,10,s.created_at," d MMMM YYYY ")),l(3),g(17,s.status_folder_on==1?17:-1),l(),g(18,s.status_folder_off==1?18:-1),l(),g(19,s.status_folder_on==0&&s.status_folder_off==0?19:-1),l(2),u("matMenuTriggerFor",a),l(5),u("routerLink",Tt(16,li,s.dossiers_code,s.slug))}}var si=(()=>{let m=class m{constructor(n,a,o,c,p){this._dialog=n,this._traitement=a,this._notificationService=o,this._loading=c,this._router=p,this.list_dossiers=[],this.p=1}ngOnInit(){this.getDossiersList()}openDossiersDialog(){this._dialog.open(Dt,{width:"auto"}).afterClosed().subscribe({next:a=>{a&&this.getDossiersList()}})}updateDossiers(n){this._dialog.open(Dt,{width:"auto",data:n}).afterClosed().subscribe({next:o=>{o&&this.getDossiersList()}})}getDossiersList(){this._loading.show_loading(),this._traitement.getDossiers().subscribe({next:n=>{setTimeout(()=>{this.list_dossiers=n,this._loading.hide_loading()},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(n){this._dialog.open(se,{width:"auto"}).afterClosed().subscribe({next:o=>{o=="confirm"&&this.deleteDossiers(n)}})}deleteDossiers(n){this._loading.show_loading(),this._traitement.deleteDossiers(n).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getDossiersList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(h(ne),h(ee),h(A),h(H),h(j))},m.\u0275cmp=B({type:m,selectors:[["app-ch-employees-folder-list"]],standalone:!0,features:[P],decls:44,vars:6,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"mat-elevation-z8"],[1,"d-flex","justify-content-between"],["mat-button","",1,"default__btn__lg","text-dark"],["mat-raised-button","","color","primary",1,"text-uppercase","default__btn__lg",3,"click"],[1,"table-responsive"],[1,"table","table-striped","mt-3","align-middle"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[3,"routerLink"],[1,"d-flex","align-items-center"],[1,"me-3","text-primary"],[1,"m-0","fw-bolder","fs-6"],[1,"m-b-0"],["matTooltip","Dossier valid\xE9","mat-icon-button",""],["matTooltip","Dossier rejet\xE9","mat-icon-button",""],["matTooltip","En entente de validation du dossier","mat-icon-button",""],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"],[1,"text-primary"],[1,"text-blue"]],template:function(a,o){a&1&&(t(0,"div",1)(1,"div",2)(2,"div",3),S(3,"div",4),e()()(),t(4,"div",5)(5,"div",6)(6,"div",7)(7,"mat-card",8)(8,"mat-card-header",9)(9,"mat-card-title")(10,"button",10)(11,"mat-icon"),i(12,"list"),e(),i(13," Liste des dossiers "),e()(),t(14,"button",11),v("click",function(){return o.openDossiersDialog()}),t(15,"mat-icon"),i(16,"add"),e(),i(17," Nouveau dossier "),e()(),t(18,"mat-card-content")(19,"div",12)(20,"table",13)(21,"thead")(22,"tr")(23,"th",14),i(24,"#Id"),e(),t(25,"th",14),i(26,"Libell\xE9 du dossier"),e(),t(27,"th",14),i(28,"Propri\xE9taire"),e(),t(29,"th",14),i(30,"Date de cr\xE9ation"),e(),t(31,"th",14),i(32,"Statut"),e(),t(33,"th",14),i(34,"Actions"),e()()(),t(35,"tbody"),F(36,Qn,38,19,"tr",null,V),D(38,"paginate"),e()(),t(39,"div",15)(40,"pagination-controls",16),v("pageChange",function(p){return o.p=p}),e()()()()()()()(),t(41,"ngx-spinner",17)(42,"p",18),i(43," Chargement en cours... "),e()()),a&2&&(l(36),L(k(38,1,o.list_dossiers,q(4,qn,o.p))),l(5),u("fullScreen",!0))},dependencies:[U,z,R,ae,oe,re,W,te,ye,le,De,St,Ct,yt,Et,Y,me,de,N,ie,O,Se]});let r=m;return r})();var mi=(()=>{let m=class m{constructor(n,a,o,c,p,d,Ie){this._notificationService=n,this._traitement=a,this._loadings=o,this._router=c,this.data=p,this._dialogRef=d,this._userData=Ie,this.notification_data="",this.adresse_email="",this.employe_matricule="",this.item_slug="",this.keyword="",this.keywords=""}ngOnInit(){this.data!=null&&(this.adresse_email=this.data.adresse_email,this.employe_matricule=this.data.employe_matricule,this.item_slug=this.data.item_slug,this.keyword=this.data.word,this.keywords=this.data.keywords)}sendNotification(){if(this.notification_data==""){this._notificationService.openSnackBarSimpleError("Le commentaire est obligatoire");return}let n={adresse_mail:this.adresse_email,keyword:this.keyword,keywords:this.keywords,notification_data:this.notification_data,slug:this.item_slug,employe_matricule:this.employe_matricule};this._loadings.show_loading(),this._traitement.sendNotification(n).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loadings.hide_loading(),this._dialogRef.close(!0)},1e3):(a.code==302||a.code==300)&&(this._loadings.hide_loading(),this._notificationService.openSnackBarError(a))}})}};m.\u0275fac=function(a){return new(a||m)(h(A),h(ee),h(H),h(j),h(Re),h(We),h(he))},m.\u0275cmp=B({type:m,selectors:[["app-notify-dialog"]],standalone:!0,features:[P],decls:24,vars:3,consts:[["mat-dialog-title",""],[1,"text-primary","fw-bolder"],[1,"text-red","fw-bolder"],["mat-dialog-content",""],[1,"row","mt-2"],[1,"col-md-12","col-lg-12"],["appearance","outline"],["cols","3","matInput","","placeholder","Votre commentaire",3,"ngModelChange","ngModel"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-fab","","extended","","color","primary","mat-dialog-close",""],["mat-fab","","extended","","color","primary",3,"click"]],template:function(a,o){a&1&&(t(0,"h1",0),i(1,"Vous allez envoyer une notification \xE0 l'employ\xE9 "),t(2,"span",1),i(3),e(),i(4," pour le rejet de son document: "),t(5,"span",2),i(6),e(),i(7," . "),e(),t(8,"div",3)(9,"div",4)(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),i(13,"Votre commentaire"),e(),t(14,"textarea",7),M("ngModelChange",function(p){return b(o.notification_data,p)||(o.notification_data=p),p}),e()()()()(),t(15,"div",8)(16,"button",9)(17,"mat-icon"),i(18,"reply"),e(),i(19," Annuler "),e(),t(20,"button",10),v("click",function(){return o.sendNotification()}),t(21,"mat-icon"),i(22,"update"),e(),i(23," Modifier "),e()()),a&2&&(l(3),C("#",o.employe_matricule,""),l(3),C("# ",o.keyword,""),l(8),y("ngModel",o.notification_data))},dependencies:[xe,R,W,Ce,X,Z,Ue,ze,At,qe,$,O,N,J,Q,K]});let r=m;return r})();var Kn=(r,m)=>r+1,Zn=r=>({itemsPerPage:10,currentPage:r});function Xn(r,m){if(r&1&&(t(0,"div",13)(1,"ul",29)(2,"li",30),i(3),e()()()),r&2){let s=m.$implicit;l(3),C(" ",s.document," ")}}function $n(r,m){r&1&&(t(0,"div",31)(1,"div",32)(2,"b",33),i(3,"Action \xE0 faire ! "),e(),t(4,"span"),i(5,"Vous devez donner votre approbation aux documents fournirent sous-dessous !"),e(),S(6,"button",34),e()())}function eo(r,m){r&1&&(t(0,"div",31)(1,"div",35)(2,"b",33),i(3,"F\xE9licitation!"),e(),i(4," Vous avez approuver les documents fournirent ! "),S(5,"button",34),e()())}function to(r,m){if(r&1&&(t(0,"div",14),w(1,$n,7,0,"div",31)(2,eo,6,0,"div",31),e()),r&2){let s=x();l(),g(1,s.decision_validation=="is_not_validate_all"?1:-1),l(),g(2,s.decision_validation=="is_validate_all"?2:-1)}}function io(r,m){if(r&1){let s=T();t(0,"div",15)(1,"div",36)(2,"mat-form-field",37)(3,"mat-label"),i(4,"Libell\xE9 du fichier "),t(5,"code",38),i(6,"*"),e()(),t(7,"input",39),M("ngModelChange",function(a){_(s);let o=x();return b(o.libelle_fichier,a)||(o.libelle_fichier=a),f(a)}),e()()(),t(8,"div",40)(9,"input",41),v("change",function(a){_(s);let o=x();return f(o.uploadFile(a))}),e(),t(10,"label",42),i(11,"Joindre un fichier "),e()(),t(12,"div",5)(13,"button",22),v("click",function(){_(s);let a=x();return f(a.openDossiersDialog())}),t(14,"mat-icon"),i(15,"add"),e(),i(16," Enregistrer dans le dossier "),e()()()}if(r&2){let s=x();l(7),y("ngModel",s.libelle_fichier)}}function no(r,m){r&1&&(t(0,"button",51)(1,"mat-icon",58),i(2,"verified"),e()())}function oo(r,m){r&1&&(t(0,"button",52)(1,"mat-icon",59),i(2,"verified"),e()())}function ao(r,m){r&1&&(t(0,"button",53)(1,"mat-icon",61),i(2,"pending"),e()())}function ro(r,m){if(r&1){let s=T();t(0,"tr")(1,"td",5),i(2),e(),t(3,"td",5)(4,"a",43)(5,"div",44)(6,"mat-icon",45),i(7,"description"),e(),t(8,"p",46),i(9),e()()()(),t(10,"td",5)(11,"p",47),i(12),e()(),t(13,"td",5)(14,"div",48)(15,"mat-icon",45),i(16,"folder"),e(),t(17,"p",49),i(18),e()()(),t(19,"td",50),i(20),D(21,"transformDate"),e(),t(22,"td",50),i(23),D(24,"transformDate"),e(),t(25,"td",5),w(26,no,3,0,"button",51)(27,oo,3,0,"button",52)(28,ao,3,0,"button",53),e(),t(29,"td",5)(30,"button",54)(31,"mat-icon"),i(32,"more_vert"),e()(),t(33,"mat-menu",55,0)(35,"a",56)(36,"mat-icon"),i(37,"visibility"),e(),i(38," Ouvrir "),e(),t(39,"button",57),v("click",function(){let a=_(s).$implicit,o=x();return f(o.confirmedOrRejetedFile("confirmed",a))}),t(40,"mat-icon",58),i(41,"check_circle"),e(),i(42," Approuver "),e(),t(43,"button",57),v("click",function(){let a=_(s).$implicit,o=x();return f(o.confirmedOrRejetedFile("rejected",a))}),t(44,"mat-icon",59),i(45,"check_circle"),e(),i(46," Rejeter "),e(),t(47,"button",60),v("click",function(){let a=_(s).$implicit,o=x();return f(o.updateDossiersFile(a))}),t(48,"mat-icon"),i(49,"border_color"),e(),i(50," Modifier "),e(),t(51,"button",60),v("click",function(){let a=_(s).$implicit,o=x();return f(o.openDeleDialog(a.slug))}),t(52,"mat-icon"),i(53,"delete"),e(),i(54," Supprimer "),e()()()()}if(r&2){let s=m.$implicit,n=m.$index,a=I(34);l(2),E(n+1),l(2),u("href",s.file_url,ge),l(5),E(s.libelle_file),l(3),C("",s.first_name+" "+s.last_name," "),l(6),E(s.libelle_dossiers),l(2),E(k(21,14,s.created_at," d MMMM YYYY ")),l(3),E(k(24,17,s.updated_at," d MMMM YYYY ")),l(3),g(26,s.status_on==1?26:-1),l(),g(27,s.status_off==1?27:-1),l(),g(28,s.status_on==0&&s.status_off==0?28:-1),l(2),u("matMenuTriggerFor",a),l(5),u("href",s.file_url,ge),l(4),u("disabled",s.status_on==1&&s.status_off==0),l(4),u("disabled",s.status_on==0&&s.status_off==1)}}var di=(()=>{let m=class m{constructor(n,a,o,c,p,d){this._dialog=n,this._traitement=a,this._notificationService=o,this._loading=c,this._router=p,this._activeRouter=d,this.list_files=[],this.p=1,this.add_file=!1,this.libelle_fichier="",this.decision_validation=""}ngOnInit(){this.dossiers_code=this._activeRouter.snapshot.paramMap.get("dossiers_code"),this.item_slug=this._activeRouter.snapshot.paramMap.get("slug"),this._loading.show_loading(),setTimeout(()=>{this.getDossiersFileList(),this._loading.hide_loading(),this.getDocprovide()},1e3)}uploadFile(n){this.file_url=n.target.files[0]}openDossiersDialog(){let n={dossiers_code:this.dossiers_code};this._dialog.open(kt,{width:"auto",data:n}).afterClosed().subscribe({next:o=>{o&&this.getDossiersFileList()}})}updateDossiersFile(n){let a={dossiers_code:this.dossiers_code,items_data:n};this._dialog.open(kt,{width:"auto",data:a}).afterClosed().subscribe({next:c=>{c&&this.getDossiersFileList()}})}getDossiersFileList(){this._traitement.ShowFoldersFile(this.dossiers_code).subscribe({next:n=>{console.log(n),setTimeout(()=>{this.list_files=n.ducoment_data,this.list_file_lenght=this.list_files.length,this.decision_validation=n.is_decision},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getDocprovide(){this._loading.show_loading(),this._traitement.getDocProvide().subscribe({next:n=>{console.log(n),setTimeout(()=>{this.list_docprovide=n,this._loading.hide_loading()},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(n){this._dialog.open(se,{width:"auto"}).afterClosed().subscribe({next:o=>{o=="confirm"&&this.deleteDossiers(n)}})}deleteDossiers(n){this._loading.show_loading(),this._traitement.deleteDossiers(n).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getDossiersFileList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}confirmedOrRejetedFile(n,a){if(n=="confirmed"){let o={adresse_email:a.adresse_email,slug:a.slug,keywords:n};this._loading.show_loading(),this._traitement.sendNotification(o).subscribe({next:c=>{c.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(c),this._loading.hide_loading(),this.getDossiersFileList()},1e3):(c.code==302||c.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(c))}})}else if(n=="rejected"){let o={adresse_email:a.adresse_email,employe_matricule:a.matricule,item_slug:a.slug,word:a.libelle_file,keywords:n};this._dialog.open(mi,{width:"auto",data:o}).afterClosed().subscribe({next:p=>{this.getDossiersFileList()}})}else return}};m.\u0275fac=function(a){return new(a||m)(h(ne),h(ee),h(A),h(H),h(j),h(He))},m.\u0275cmp=B({type:m,selectors:[["app-employees-folder-details"]],standalone:!0,features:[P],decls:65,vars:8,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-xl-12","col-md-8","col-sm-9","col-10"],[1,"text-center"],[1,"card"],[1,"card-header"],[1,"card-title","text-yellow"],["mat-button","",1,"text-red","fw-bolder","fs-5"],[1,"card-body"],[1,"mb-2","fw-bolder"],[1,"row","mb-3"],[1,"col-4"],[1,"row"],[1,"row","gx-3","justify-content-center"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"mat-elevation-z8"],[1,"d-flex","justify-content-between"],["mat-button","",1,"fw-bolder","default__btn__lg","text-dark"],["mat-raised-button","","color","primary",1,"text-uppercase","default__btn__lg",3,"click"],[1,"table-responsive"],[1,"table","table-striped","mt-3","align-middle"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"list-group","list-group-numbered","text-start"],[1,"list-group-item"],[1,"col-12"],["role","alert",1,"alert","box-bdr-red","alert-dismissible","fade","show","text-red","fw-bolder"],[1,"fs-5"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],["role","alert",1,"alert","box-bdr-green","alert-dismissible","fade","show","text-green","fw-bolder"],[1,"col-lg-4","col-md-6","col-sm-12"],["appearance","outline"],[1,"fs-4"],["matInput","","placeholder","Libell\xE9 du fichier",3,"ngModelChange","ngModel"],[1,"col-md-6","col-lg-4"],["id","formFileLg","type","file",1,"form-control","form-control-lg",3,"change"],["for","formFileLg",1,"form-label","text-danger"],["target","_blank",3,"href"],[1,"d-flex","text-start"],[1,"me-3","text-primary"],[1,"m-0","fw-bolder","text-uppercase","fs-6"],[1,"m-b-0","fw-bolder","fs-6"],[1,"d-flex","justify-content-center"],[1,"m-0","fw-bolder","fs-6"],[1,"text-center","fw-bolder","fs-6","text-primary"],["matTooltip","Document valid\xE9","mat-icon-button",""],["matTooltip","Document rejet\xE9","mat-icon-button",""],["matTooltip","En entente de validation du document","mat-icon-button",""],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["target","_blank","mat-menu-item","",3,"href"],["mat-menu-item","",3,"click","disabled"],[1,"text-primary"],[1,"text-red"],["mat-menu-item","",3,"click"],[1,"text-blue"]],template:function(a,o){a&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"button",9)(9,"mat-icon"),i(10,"notifications"),e(),i(11," A votre attention! "),e()()(),t(12,"div",10)(13,"p",11),i(14," Liste des documents \xE0 fornir "),S(15,"br"),e(),t(16,"div",12),F(17,Xn,4,1,"div",13,Kn),e(),w(19,to,3,2,"div",14),e()()()()(),w(20,io,17,1,"div",15),e()(),t(21,"div",16)(22,"div",17)(23,"div",18)(24,"mat-card",19)(25,"mat-card-header",20)(26,"mat-card-title")(27,"button",21)(28,"mat-icon"),i(29,"list"),e(),i(30," Liste des documents "),e(),t(31,"button",22),v("click",function(){return o.openDossiersDialog()}),t(32,"mat-icon"),i(33,"add"),e(),i(34," Nouveau "),e()()(),t(35,"mat-card-content")(36,"div",23)(37,"table",24)(38,"thead")(39,"tr")(40,"th",5),i(41,"#Id"),e(),t(42,"th",5),i(43,"Libell\xE9 du dossier"),e(),t(44,"th",5),i(45,"Propri\xE9taire"),e(),t(46,"th",5),i(47,"Emplacement"),e(),t(48,"th",5),i(49,"Date de cr\xE9ation"),e(),t(50,"th",5),i(51,"Date de modification"),e(),t(52,"th",5),i(53,"Statut"),e(),t(54,"th",5),i(55,"Actions"),e()()(),t(56,"tbody"),F(57,ro,55,20,"tr",null,V),D(59,"paginate"),e()(),t(60,"div",25)(61,"pagination-controls",26),v("pageChange",function(p){return o.p=p}),e()()()()()()()(),t(62,"ngx-spinner",27)(63,"p",28),i(64," Chargement en cours... "),e()()),a&2&&(l(17),L(o.list_docprovide),l(2),g(19,o.list_file_lenght!=0?19:-1),l(),g(20,o.add_file==!0?20:-1),l(37),L(k(59,3,o.list_files,q(6,Zn,o.p))),l(5),u("fullScreen",!0))},dependencies:[U,z,R,ae,oe,re,W,te,ye,le,X,Z,$,De,St,Ct,yt,Et,Y,me,de,N,J,Q,K,ie,O]});let r=m;return r})();function lo(r,m){r&1&&S(0,"mat-progress-bar",9)}function so(r,m){r&1&&(t(0,"div",18)(1,"mat-icon",60),i(2,"notifications"),e(),i(3," Vous avez d\xE9j\xE0 donn\xE9 votre approbation \xE0 cette permission. "),e())}function mo(r,m){r&1&&(t(0,"div",19)(1,"mat-icon",12),i(2,"notifications"),e(),i(3," Vous avez d\xE9j\xE0 donn\xE9 votre approbation \xE0 cette permission. "),e())}function co(r,m){if(r&1){let s=T();t(0,"div",20)(1,"mat-radio-group",61),v("change",function(a){_(s);let o=x();return f(o.PermissionDecisionChange(a))}),t(2,"mat-radio-button",62)(3,"span",63),i(4,"Approuver"),e()(),t(5,"mat-radio-button",64)(6,"span",63),i(7,"Rejeter"),e()()()()}}function po(r,m){if(r&1){let s=T();t(0,"div",20)(1,"mat-form-field",65)(2,"mat-label"),i(3,"Laissez une note sur la d\xE9cision..."),e(),t(4,"textarea",66),M("ngModelChange",function(a){_(s);let o=x();return b(o.decision_comments,a)||(o.decision_comments=a),f(a)}),e(),t(5,"mat-hint",67)(6,"strong"),i(7,"Nombre de caract\xE8re limit\xE9 \xE0 160"),e()(),t(8,"mat-hint",68),i(9),e()()()}if(r&2){let s=x();l(4),y("ngModel",s.decision_comments),l(5),C("",s.decision_comments.length," / 160")}}function uo(r,m){if(r&1){let s=T();t(0,"div")(1,"button",69),v("click",function(){_(s);let a=x();return f(a.saveDecision())}),t(2,"mat-icon"),i(3,"save"),e(),i(4," Enregistrer votre d\xE9cision "),e()()}}function _o(r,m){if(r&1&&(t(0,"a",24),i(1," Ouvrir le fichier ici "),t(2,"mat-icon"),i(3,"visibility"),e()()),r&2){let s=x();u("href",s.justificatif,ge)}}function fo(r,m){r&1&&(t(0,"span",25),i(1,"Aucune pi\xE8ce jointe"),e())}function ho(r,m){if(r&1&&(t(0,"span",42),i(1),D(2,"date"),e()),r&2){let s=x();l(),E(k(2,1,s.date_permission,"d MMMM yyyy"))}}function go(r,m){if(r&1&&(t(0,"span",42),i(1),D(2,"date"),e()),r&2){let s=x();l(),E(k(2,1,s.permission_start,"d MMMM yyyy"))}}function vo(r,m){if(r&1&&(t(0,"span",23)(1,"span",70),i(2),e(),S(3,"br"),i(4),e()),r&2){let s=x();l(2),C(" ",s.duree_permission," "),l(2),Qe(" de ",s.permission_start," \xE0 ",s.permission_end," ")}}function xo(r,m){if(r&1&&(t(0,"span",23)(1,"span",70),i(2),e(),S(3,"br"),i(4),D(5,"date"),D(6,"date"),e()),r&2){let s=x();l(2),C(" ",s.duree_permission," "),l(2),Qe(" du ",k(5,3,s.permission_start,"d MMMM yyyy")," au ",k(6,6,s.permission_end,"d MMMM yyyy")," ")}}function So(r,m){r&1&&(t(0,"span",50),i(1,"Non justifi\xE9 "),e())}function Eo(r,m){r&1&&(t(0,"span",50),i(1,"Justifi\xE9 "),e())}function Co(r,m){r&1&&(t(0,"button",56)(1,"mat-icon"),i(2,"verified"),e(),i(3," Permission approuv\xE9e "),e())}function yo(r,m){r&1&&(t(0,"button",57)(1,"mat-icon"),i(2,"verified"),e(),i(3," Permission r\xE9jet\xE9e "),e())}function bo(r,m){r&1&&(t(0,"button",57)(1,"mat-icon"),i(2,"no_accounts"),e(),i(3," Accune action "),e())}function Mo(r,m){if(r&1&&(t(0,"div",58)(1,"mat-icon",71),i(2,"notifications"),e(),i(3),e()),r&2){let s=x();l(3),C(" ",s.comments," ")}}var pi=(()=>{let m=class m{constructor(n,a,o,c,p){this._notificationService=n,this._permission=a,this._router=o,this.data=c,this._dialogRef=p,this.item_slug="",this.permission_ref="",this.type_duration="",this.date_permission="",this.motif="",this.fonction="",this.service="",this.created_at="",this.status_on=0,this.status_off=0,this.permission_start="",this.permission_end="",this.duree_permission="",this.customer_name="",this.justificatif="",this.show_comment_box=!1,this.decision="",this.decision_comments="",this.comments="",this.loading=!1}ngOnInit(){this.data!=null&&(this.item_slug=this.data.slug),this.updateIsConsultingStatus(),this.getCurrentPermissionInfo()}getCurrentPermissionInfo(){this._permission.showPermission(this.item_slug).subscribe({next:n=>{console.log(n),this.permission_data=n,this.type_duration=n.type_duration,this.permission_ref=n.permission_ref,this.date_permission=n.date_permission,this.fonction=n.fonction,this.justificatif=n.permission_file,this.service=n.service,this.permission_start=n.permission_start,this.permission_end=n.permission_end,this.duree_permission=n.duree_permission,this.customer_name=n.first_name+" "+n.last_name,this.motif=n.motif,this.created_at=n.created_at,this.comments=n.comments,this.status_on=n.status_on,this.status_off=n.status_off},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}PermissionDecisionChange(n){let a=n.value;a=="approved"?(this.show_comment_box=!0,this.decision=a):a=="rejected"?(this.show_comment_box=!0,this.decision=a):(this.show_comment_box=!1,this.decision="")}saveDecision(){let n={decison:this.decision,decision_comments:this.decision_comments,slug:this.item_slug};console.log(n),this.loading=!0,this._permission.approvedOrRejectedPermission(n).subscribe({next:a=>{a.code==200?(this._notificationService.openSnackBarSuccess(a),setTimeout(()=>{this.loading=!1,this.getCurrentPermissionInfo(),this.show_comment_box=!1},1e3)):(a.code==300||a.code==500||a.code==302)&&(this.loading=!1,this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateIsConsultingStatus(){this._permission.updateIsConsultingStatus(this.item_slug).subscribe({next:n=>{n.code==200?this._notificationService.openSnackBarSuccess(n):n.code==300||n.code==500||n.code==302?(this.loading,this._notificationService.openSnackBarError(n)):n.code==201&&(this.loading,this._notificationService.openSnackBarInfo(n))},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}printPermission(){var n=document.querySelector("#permission_card")?.innerHTML,a=document.body.innerHTML;document.body.innerHTML=n,window.print(),document.body.innerHTML=a,location.reload()}};m.\u0275fac=function(a){return new(a||m)(h(A),h(st),h(j),h(Re),h(We))},m.\u0275cmp=B({type:m,selectors:[["app-ch-detail-permissions"]],standalone:!0,features:[P],decls:130,vars:27,consts:[["mat-dialog-title",""],["mat-fab","","extended","","color","primary","mat-dialog-close",""],["mat-dialog-content","",2,"max-height","95vh"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"row"],[1,"col-lg-5","col-md-5"],[1,"card"],["mode","indeterminate"],[1,"card-header","d-flex","justify-content-between","mb-3"],[1,"me-2"],[1,"text-red"],[1,"card-title","text-primary","fs-5","fw-bolder"],[1,"text-end"],["mat-fab","",1,"",3,"click"],[1,"card-body","text-center","position-relative","pt-4"],[1,"card-title","fs-3","mb-3","text-center"],["role","alert",1,"alert","box-bdr-green","alert-dismissible","fade","show","text-green"],["role","alert",1,"alert","box-bdr-red","alert-dismissible","fade","show","text-red"],[1,"col-md-12","col-lg-12","mb-4"],[1,"card-footer"],[1,"d-flex","justify-content-between","gap-3"],[1,"fw-bolder"],["target","_blank","mat-flat-button","",3,"href"],[1,"fw-bolder","text-danger"],[1,"col-lg-7","col-md-7"],["id","permission_card",1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","align-items-center","mb-4"],[1,"col-xl-2","col-sm-3","col-12"],["src","assets/media/logoai.png","width","100","alt","",1,"img-fluid"],[1,"col-xl-10","col-sm-9","col-12"],[1,"text-end","m-0","fw-bolder"],[1,"fw-bolder","fs-5"],[1,"col-sm-12","col-12"],[1,"text-center","mb-3"],[1,"fw-bolder","text-uppercase"],[1,"d-flex","justify-content-end","my-4"],[1,"m-0"],[1,"fw-bolder","text-red","text-uppercase"],[1,"row","gx-3","mb-2"],[1,"col-sm-12","col-12","mb-3"],[1,"col-12"],[1,"table-responsive","mb-3"],[1,"table","table-bordered"],[1,"text-center","text-uppercase"],[1,"text-center"],[1,"text-center","text-red","fw-bolder"],[1,"text-uppercase","mb-4"],[1,"fw-bolder","mb-4"],[1,"d-flex","justify-content-between"],[1,"m-0","text-start","mb-4"],[1,"fw-bolder","text-start"],["mat-fab","","extended","","color","primary"],["mat-fab","","extended","","color","warn"],["role","alert",1,"alert","alert-light","alert-dismissible","fade","show"],[1,"m-0","text-end"],[1,"text-danger"],["aria-label","Select an option",3,"change"],["value","approved"],[1,"fw-bolder","fs-4"],["value","rejected"],[1,"example-full-width"],["matInput","","maxlength","160","placeholder","Ex. permission approuv\xE9e...",3,"ngModelChange","ngModel"],["align","start"],["align","end"],["mat-fab","","extended","","color","primary",1,"w-100",3,"click"],[1,"fw-bolder","text-red"],[1,"text-danger","alert-icon"]],template:function(a,o){a&1&&(t(0,"h1",0),i(1," D\xE9tail de la permission "),t(2,"button",1)(3,"mat-icon"),i(4,"reply"),e(),i(5," Fermer "),e()(),t(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8),w(13,lo,1,0,"mat-progress-bar",9),t(14,"div",10)(15,"span",11)(16,"mat-icon",12),i(17,"notifications"),e()(),t(18,"div",13),i(19," R\xE9server au responsable du capital humain "),e(),t(20,"div",14)(21,"button",15),v("click",function(){return o.printPermission()}),t(22,"mat-icon"),i(23,"print"),e()()()(),t(24,"div",16)(25,"div",17),i(26,"D\xE9cision de la permission"),e(),t(27,"div",6),w(28,so,4,0,"div",18)(29,mo,4,0,"div",19)(30,co,8,0,"div",20)(31,po,10,2,"div",20)(32,uo,5,0,"div"),e()(),t(33,"div",21)(34,"div",22)(35,"span",23),i(36,"Pi\xE8ce justificatif"),e(),w(37,_o,4,1,"a",24)(38,fo,2,0,"span",25),e()()()(),t(39,"div",26)(40,"div",27)(41,"div",28)(42,"div",29),i(43),e()(),t(44,"div",30)(45,"div",31)(46,"div",32),S(47,"img",33),e(),t(48,"div",34)(49,"p",35)(50,"span",36),i(51,"ALERTE"),S(52,"br"),i(53," INFO "),e()()()(),t(54,"div",4)(55,"div",37)(56,"div",38)(57,"h1",39),i(58," demande de permission "),e()(),t(59,"div",40)(60,"div")(61,"p",41)(62,"span",23),i(63,"Date de la demande,"),e(),S(64,"br"),w(65,ho,3,4,"span",42)(66,go,3,4,"span",42),e()()()()(),t(67,"div",43)(68,"div",44)(69,"p",41)(70,"span",23),i(71,"Dur\xE9e de la permission,"),e(),S(72,"br"),w(73,vo,5,3,"span",23)(74,xo,7,9,"span",23),e()()(),t(75,"div",4)(76,"div",45)(77,"div",46)(78,"table",47)(79,"thead")(80,"tr")(81,"th")(82,"span",48),i(83,"Nom & Pr\xE9nom"),e()(),t(84,"th")(85,"span",48),i(86,"Fonction"),e()(),t(87,"th")(88,"span",48),i(89,"Service"),e()(),t(90,"th")(91,"span",48),i(92,"Justificatif"),e()()()(),t(93,"tbody")(94,"tr")(95,"td")(96,"span",49),i(97),e()(),t(98,"td")(99,"span",49),i(100),e()(),t(101,"td")(102,"span",49),i(103),e()(),t(104,"td"),w(105,So,2,0,"span",50)(106,Eo,2,0,"span",50),e()()()()(),t(107,"p",51),i(108,"Motif de la permission: "),e(),t(109,"p",52),i(110),e(),S(111,"br"),t(112,"div",53)(113,"div")(114,"p",54)(115,"span",55),i(116,"Approbation"),e(),S(117,"br"),w(118,Co,4,0,"button",56)(119,yo,4,0,"button",57)(120,bo,4,0,"button",57),e(),w(121,Mo,4,1,"div",58),e(),t(122,"div")(123,"p",59)(124,"span",23),i(125,"Faire \xE0 Abidjan le,"),e(),S(126,"br"),t(127,"span",42),i(128),D(129,"date"),e()()()()()()()()()()()()()()),a&2&&(l(13),g(13,o.loading==!0?13:-1),l(15),g(28,o.status_on==1?28:-1),l(),g(29,o.status_off==1?29:-1),l(),g(30,o.status_on==0&&o.status_off==0?30:-1),l(),g(31,o.show_comment_box==!0?31:-1),l(),g(32,o.show_comment_box==!0?32:-1),l(5),g(37,o.justificatif!=null?37:-1),l(),g(38,o.justificatif==null?38:-1),l(5),C("R\xE9f permission - #",o.permission_ref,""),l(22),g(65,o.type_duration=="hour"?65:-1),l(),g(66,o.type_duration=="date"?66:-1),l(7),g(73,o.type_duration=="hour"?73:-1),l(),g(74,o.type_duration=="date"?74:-1),l(23),E(o.customer_name),l(3),E(o.fonction),l(3),E(o.service),l(2),g(105,o.justificatif==null?105:-1),l(),g(106,o.justificatif!=null?106:-1),l(4),E(o.motif),l(8),g(118,o.status_on==1?118:-1),l(),g(119,o.status_off==1?119:-1),l(),g(120,o.status_on==0&&o.status_off==0?120:-1),l(),g(121,o.status_on==1||o.status_off==1?121:-1),l(7),E(k(129,24,o.created_at,"d MMMM yyyy, \xE0 HH:mm")))},dependencies:[xe,Xe,R,W,jt,Ce,X,Z,xt,Ue,ze,qe,$,nt,ot,at,O,N,J,Q,vt,K]});let r=m;return r})();var ui=r=>({itemsPerPage:20,currentPage:r}),_i=r=>["/ch.detail-permissions",r],wo=r=>["/ch.edit-permissions",r];function To(r,m){if(r&1&&(t(0,"mat-icon",15),i(1,"view_list"),e(),t(2,"span",16),i(3,"Liste des permissions"),e(),t(4,"span")(5,"button",17),i(6),e()()),r&2){let s=x();l(6),C(" ",s.permission_counter," ")}}function Do(r,m){r&1&&(t(0,"button",22)(1,"mat-icon",29),i(2,"verified"),e()())}function ko(r,m){r&1&&(t(0,"button",23)(1,"mat-icon",30),i(2,"verified"),e()())}function Io(r,m){r&1&&(t(0,"button",24)(1,"mat-icon",31),i(2,"unpublished"),e()())}function Bo(r,m){if(r&1){let s=T();t(0,"tr")(1,"td"),i(2),e(),t(3,"td",18)(4,"a",19),i(5),e()(),t(6,"td")(7,"p"),i(8),e()(),t(9,"td")(10,"p"),i(11),D(12,"transformText"),e()(),t(13,"td")(14,"p"),i(15),D(16,"transformText"),e()(),t(17,"td")(18,"button",20)(19,"mat-icon"),i(20,"check_circle"),e()()(),t(21,"td",21),w(22,Do,3,0,"button",22)(23,ko,3,0,"button",23)(24,Io,3,0,"button",24),e(),t(25,"td",25)(26,"p"),i(27),D(28,"transformDate"),e()(),t(29,"td",25)(30,"button",26)(31,"mat-icon"),i(32,"more_vert"),e()(),t(33,"mat-menu",27,0)(35,"button",28),v("click",function(){let a=_(s).$implicit,o=x();return f(o.consultePermission(a))}),t(36,"mat-icon"),i(37,"visibility"),e(),i(38," Consulter "),e()()()()}if(r&2){let s=m.$implicit,n=m.$index,a=I(34);l(2),E(n+1),l(2),u("routerLink",q(21,_i,s.slug)),l(),C(" ",s.motif," "),l(3),E(s.first_name+" "+s.last_name),l(3),E(Oe(12,14,s.fonction)),l(4),E(Oe(16,16,s.service)),l(3),u("matTooltip",s.new_actions==1?"Consult\xE9e":"Nouveau"),l(),Pe(s.new_actions==1?"text-primary":"text-warning"),l(3),g(22,s.status_on==1?22:-1),l(),g(23,s.status_off==1?23:-1),l(),g(24,s.status_on==0&&s.status_off==0?24:-1),l(3),E(k(28,18,s.created_at,"d MMMM yyyy, \xE0 HH:mm")),l(3),u("matMenuTriggerFor",a)}}function Po(r,m){if(r&1&&(t(0,"mat-icon",15),i(1,"format_list_bulleted"),e(),t(2,"span",16),i(3,"Mes permissions"),e(),t(4,"span")(5,"button",17),i(6),e()()),r&2){let s=x();l(6),C(" ",s.customer_permission_counter," ")}}function Fo(r,m){r&1&&(t(0,"span",34),i(1," Approuv\xE9e "),e())}function Lo(r,m){r&1&&(t(0,"span",35),i(1," R\xE9jet\xE9e "),e())}function Vo(r,m){r&1&&(t(0,"span",36),i(1," Accune action "),e())}function jo(r,m){if(r&1){let s=T();t(0,"tr")(1,"td"),i(2),e(),t(3,"td",18)(4,"a",32),i(5),e()(),t(6,"td")(7,"p",33),i(8),e()(),t(9,"td")(10,"p",33),i(11),e()(),t(12,"td")(13,"p",33),i(14),e()(),t(15,"td")(16,"span"),i(17),e()(),t(18,"td",21),w(19,Fo,2,0,"span",34)(20,Lo,2,0,"span",35)(21,Vo,2,0,"span",36),e(),t(22,"td",25)(23,"p",33),i(24),D(25,"transformDate"),e()(),t(26,"td",25)(27,"button",26)(28,"mat-icon"),i(29,"more_vert"),e()(),t(30,"mat-menu",27,0)(32,"button",28),v("click",function(){let a=_(s).$implicit,o=x();return f(o.consultePermission(a))}),t(33,"mat-icon"),i(34,"visibility"),e(),i(35," Consulter "),e(),t(36,"button",37)(37,"mat-icon"),i(38,"border_color"),e(),i(39," Modifier "),e(),t(40,"button",28),v("click",function(){let a=_(s).$implicit,o=x();return f(o.deletePermission(a.slug))}),t(41,"mat-icon"),i(42,"delete"),e(),i(43," Supprimer "),e()()()()}if(r&2){let s=m.$implicit,n=m.$index,a=I(31);l(2),E(n+1),l(2),u("routerLink",q(18,_i,s.slug)),l(),C(" ",s.motif," "),l(3),E(s.customer_name),l(3),E(s.fonction),l(3),E(s.service),l(2),Pe(s.new_actions==1?"badge rounded-pill shade-light-green fw-bolder fs-6":"badge rounded-pill shade-light-red fw-bolder fs-6"),l(),C(" ",s.new_actions==1?"Consulter":"Nouveau"," "),l(2),g(19,s.status_on==1?19:-1),l(),g(20,s.status_off==1?20:-1),l(),g(21,s.status_on==0&&s.status_off==0?21:-1),l(3),E(k(25,15,s.created_at,"d MMMM yyyy, \xE0 HH:mm")),l(3),u("matMenuTriggerFor",a),l(9),u("routerLink",q(20,wo,s.slug))}}var fi=(()=>{let m=class m{constructor(n,a,o,c,p,d){this._dialog=n,this._permission=a,this._notificationService=o,this._loadings=c,this._router=p,this._userData=d,this.list_permissions=[],this.list_customer_permissions=[],this.permission_counter=0,this.customer_permission_counter=0,this.employe_matricule="",this.p=1}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getPermission()}getPermission(){this._loadings.show_loading(),this._permission.getPermission(this.employe_matricule).subscribe({next:n=>{setTimeout(()=>{this.list_permissions=n.permission,this.permission_counter=this.list_permissions.length,this.list_customer_permissions=n.customer_permission,this.customer_permission_counter=this.list_customer_permissions.length,this._loadings.hide_loading()},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}consultePermission(n){this._dialog.open(pi,{panelClass:"fullscreen-dialog",data:n}).afterClosed().subscribe({next:o=>{}})}deletePermission(n){this._dialog.open(se,{width:"auto"}).afterClosed().subscribe({next:o=>{o=="confirm"&&this._permission.deleteDemandePermission(n).subscribe({next:c=>{c.code==200?(this._notificationService.openSnackBarSuccess(c),this.getPermission()):c.code==404&&this._notificationService.openSnackBarError(c)},error:c=>{c.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}})}};m.\u0275fac=function(a){return new(a||m)(h(ne),h(st),h(A),h(H),h(j),h(he))},m.\u0275cmp=B({type:m,selectors:[["app-ch-employees-permissions"]],standalone:!0,features:[P],decls:72,vars:11,consts:[["beforeMenu","matMenu"],[1,"hero-body"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-body"],[1,"col-xxl-12","col-sm-12","col-12"],["mat-tab-label",""],[1,"table-responsive","mt-4"],[1,"table","table-striped","m-0"],[1,"div","text-center","mt-4"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"example-tab-icon","me-3"],[1,"fw-bolder","fs-5"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],[2,"white-space","unset !important"],[3,"routerLink"],["mat-icon-button","",3,"matTooltip"],[1,"text-center"],["matTooltip","Approuv\xE9e","mat-icon-button",""],["matTooltip","R\xE9jet\xE9e","mat-icon-button",""],["matTooltip","Aucune action","mat-icon-button",""],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"],[1,"text-primary"],[1,"text-red"],[1,"text-warning"],[1,"fw-bolder","fs-6",3,"routerLink"],[1,"fw-bolder","fs-6"],[1,"badge","rounded-pill","shade-light-green","fw-bolder","fs-6"],[1,"badge","rounded-pill","shade-light-red","fw-bolder","fs-6"],[1,"badge","rounded-pill","shade-light-dark","fw-bolder","fs-6"],["mat-menu-item","",3,"routerLink"]],template:function(a,o){a&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",3)(7,"div",7)(8,"mat-tab-group")(9,"mat-tab"),w(10,To,7,1,"ng-template",8),t(11,"div",9)(12,"table",10)(13,"thead")(14,"tr")(15,"th"),i(16,"#ID"),e(),t(17,"th"),i(18,"Motif"),e(),t(19,"th"),i(20,"Auteur"),e(),t(21,"th"),i(22,"Fonction"),e(),t(23,"th"),i(24,"Service"),e(),t(25,"th"),i(26,"Consultation"),e(),t(27,"th"),i(28,"D\xE9cision"),e(),t(29,"th"),i(30,"Date de publication"),e(),t(31,"th"),i(32,"Actions"),e()()(),t(33,"tbody"),F(34,Bo,39,23,"tr",null,V),D(36,"paginate"),e()()(),t(37,"div",11)(38,"pagination-controls",12),v("pageChange",function(p){return o.p=p}),e()()(),t(39,"mat-tab"),w(40,Po,7,1,"ng-template",8),t(41,"div",9)(42,"table",10)(43,"thead")(44,"tr")(45,"th"),i(46,"#ID"),e(),t(47,"th"),i(48,"Motif"),e(),t(49,"th"),i(50,"Auteur"),e(),t(51,"th"),i(52,"Fonction"),e(),t(53,"th"),i(54,"Service"),e(),t(55,"th"),i(56,"Consultation"),e(),t(57,"th"),i(58,"D\xE9cision"),e(),t(59,"th"),i(60,"Date de publication"),e(),t(61,"th"),i(62,"Actions"),e()()(),t(63,"tbody"),F(64,jo,44,22,"tr",null,V),D(66,"paginate"),e()()(),t(67,"div",11)(68,"pagination-controls",12),v("pageChange",function(p){return o.p=p}),e()()()()()()()()()()()(),t(69,"ngx-spinner",13)(70,"p",14),i(71," Chargement en cours... "),e()()),a&2&&(l(34),L(k(36,1,o.list_permissions,q(7,ui,o.p))),l(30),L(k(66,4,o.list_customer_permissions,q(9,ui,o.p))),l(5),u("fullScreen",!0))},dependencies:[U,z,R,ae,oe,re,W,ye,le,et,tt,it,De,Y,me,de,N,ie,mt,O,Se]});let r=m;return r})();var hi=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=B({type:m,selectors:[["app-ch-edit-conges"]],standalone:!0,features:[P],decls:2,vars:0,template:function(a,o){a&1&&(t(0,"p"),i(1,"ch-edit-conges works!"),e())}});let r=m;return r})();function Wo(r,m){if(r&1){let s=T();t(0,"div",30)(1,"mat-form-field",16)(2,"mat-label"),i(3,"Date de la permission"),e(),t(4,"input",38),M("ngModelChange",function(a){_(s);let o=x();return b(o.date_permission,a)||(o.date_permission=a),f(a)}),e(),S(5,"mat-datepicker-toggle",39)(6,"mat-datepicker",null,0),e()()}if(r&2){let s=I(7),n=x();l(4),y("ngModel",n.date_permission),u("matDatepicker",s),l(),u("for",s)}}function Ro(r,m){if(r&1){let s=T();t(0,"div",31)(1,"mat-form-field",16)(2,"span",40),i(3," Heure d\xE9but "),e(),t(4,"input",41),M("ngModelChange",function(a){_(s);let o=x();return b(o.hour_start,a)||(o.hour_start=a),f(a)}),e(),S(5,"ngx-mat-timepicker",null,1),t(7,"mat-icon",42),v("click",function(){_(s);let a=I(6);return f(a.open())}),i(8," watch_later "),e()()()}if(r&2){let s=I(6),n=x();l(4),u("ngxMatTimepicker",s),y("ngModel",n.hour_start),u("format",24)}}function Ao(r,m){if(r&1){let s=T();t(0,"div",31)(1,"mat-form-field",16)(2,"span",40),i(3," Heure fin "),e(),t(4,"input",41),M("ngModelChange",function(a){_(s);let o=x();return b(o.hour_end,a)||(o.hour_end=a),f(a)}),e(),S(5,"ngx-mat-timepicker",null,2),t(7,"mat-icon",42),v("click",function(){_(s);let a=I(6);return f(a.open())}),i(8," watch_later "),e()()()}if(r&2){let s=I(6),n=x();l(4),u("ngxMatTimepicker",s),y("ngModel",n.hour_end),u("format",24)}}function No(r,m){if(r&1){let s=T();t(0,"div",32)(1,"mat-form-field",16)(2,"mat-label"),i(3,"Date d\xE9but de la permission"),e(),t(4,"input",38),M("ngModelChange",function(a){_(s);let o=x();return b(o.date_start,a)||(o.date_start=a),f(a)}),e(),S(5,"mat-datepicker-toggle",39)(6,"mat-datepicker",null,3),e()()}if(r&2){let s=I(7),n=x();l(4),y("ngModel",n.date_start),u("matDatepicker",s),l(),u("for",s)}}function Oo(r,m){if(r&1){let s=T();t(0,"div",32)(1,"mat-form-field",16)(2,"mat-label"),i(3,"Date fin de la permission"),e(),t(4,"input",43),M("ngModelChange",function(a){_(s);let o=x();return b(o.date_end,a)||(o.date_end=a),f(a)}),e(),S(5,"mat-datepicker-toggle",39)(6,"mat-datepicker",null,4),e()()}if(r&2){let s=I(7),n=x();l(4),y("ngModel",n.date_end),u("matDatepicker",s),l(),u("for",s)}}function Ho(r,m){if(r&1){let s=T();t(0,"div",33)(1,"h1",25),i(2,"Joindre une pi\xE8ce justificative"),e(),t(3,"mat-radio-group",26),v("change",function(a){_(s);let o=x();return f(o.radioChange(a))}),t(4,"mat-radio-button",44),i(5,"OUI"),e(),t(6,"mat-radio-button",45),i(7,"NON"),e()()()}}function Uo(r,m){if(r&1){let s=T();t(0,"div",34)(1,"div",33)(2,"label",46),i(3,"Joindre une pi\xE8ce "),t(4,"code"),i(5,"*"),e()(),t(6,"input",47),v("change",function(a){_(s);let o=x();return f(o.uploadFile(a))}),e()()()}}function zo(r,m){if(r&1){let s=T();t(0,"div",35)(1,"div",48)(2,"button",49),v("click",function(){_(s);let a=x();return f(a.updatePermission())}),t(3,"mat-icon"),i(4,"save"),e(),i(5," Sauvegarder la modification "),e()()()}}var gi=(()=>{let m=class m{constructor(n,a,o,c,p,d,Ie){this._dialog=n,this._permission=a,this._notificationService=o,this._loading=c,this._router=p,this._activatedRoute=d,this._userData=Ie,this.user_name="",this.user_fonction="",this.user_service="",this.motif="",this.old_assignment_file="",this.is_choose="",this.old_date="",this.selectedDureeOption="",this.duration_is_hour=!1,this.date_permission=new Date,this.duration_is_date=!1,this.old_date_stard=new Date,this.date_end=new Date,this.permission_ref="",this.type_duration="",this.fonction="",this.service="",this.permission_start="",this.permission_end="",this.duree_permission=""}ngOnInit(){}PermissionDurationChange(n){let a=n.value;a=="hour"?(this.duration_is_hour=!0,this.duration_is_date=!1,this.type_duration=a):a=="date"?(this.duration_is_date=!0,this.duration_is_hour=!1,this.type_duration=a):(this.duration_is_date=!1,this.duration_is_hour=!1)}checkedPermissionDurationChange(n){n=="hour"?(this.duration_is_hour=!0,this.duration_is_date=!1,this.type_duration=this.type_duration):n=="date"?(this.duration_is_date=!0,this.duration_is_hour=!1,this.type_duration=this.type_duration):(this.duration_is_date=!1,this.duration_is_hour=!1)}getCurrentPermissionInfo(){let n=this._activatedRoute.snapshot.paramMap.get("slug");this._permission.editDemandePermission(n).subscribe({next:a=>{this.user_name=a.customer_name,this.user_fonction=a.fonction,this.user_service=a.service,this.motif=a.motif,this.date_permission=new Date(a.date_permission),this.old_assignment_file=a.permission_file,this.user_id=a.customer_id,this.permission_ref=a.permission_ref,this.fonction=a.fonction,this.service=a.service,this.duree_permission=a.duree_permission,this.motif=a.motif,this.type_duration=a.type_duration,this.type_duration=="hour"&&(this.hour_start=a.permission_start,this.hour_end=a.permission_end),this.type_duration=="date"&&(this.date_start=new Date(a.permission_start),this.date_end=new Date(a.permission_end)),this.checkedPermissionDurationChange(this.type_duration)},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updatePermission(){this._loading.show_loading();let n=this._activatedRoute.snapshot.paramMap.get("slug"),a=this.calculateDifferenceBetweenTwoHours(this.hour_start,this.hour_end),o=this.calculateDifferenceBetweenDates(this.date_start,this.date_end);console.log(a,o);let c=new FormData;c.append("customer_name",this.user_name),c.append("fonction",this.user_fonction),c.append("service",this.user_service),c.append("customer_id",this.user_id),c.append("type_duration",this.type_duration),c.append("date_permission",this.formatDate(this.date_permission).toString()),a==null?c.append("duree_permission",o):c.append("duree_permission",a),a==null?(c.append("permission_end",this.formatDate(this.date_end).toString()),c.append("permission_start",this.formatDate(this.date_start).toString())):o==null&&(c.append("permission_end",this.hour_end),c.append("permission_start",this.hour_start)),c.append("motif",this.motif),c.append("permission_file",this.assigment_file==null?"":this.assigment_file),this._permission.updateDemandePermission(n,c).subscribe({next:p=>{console.log(p),p.code==200?(this._notificationService.openSnackBarSuccess(p),setTimeout(()=>{this._loading.hide_loading(),this._router.navigateByUrl("/ch.permissions")},2e3)):(p.code==300||p.code==500||p.code==302)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(p))},error:p=>{p.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}uploadFile(n){this.assigment_file=n.target.files[0]}radioChange(n){this.is_choose=n.value}onChange_dead_line_assigment(n){this.dead_line_assigment=n.value}formatDate(n){let a=n.toLocaleString("default",{year:"numeric"}),o=n.toLocaleString("default",{month:"2-digit"}),c=n.toLocaleString("default",{day:"2-digit"});return a+"-"+o+"-"+c}changeFile(){this.old_assignment_file=null}calculateDifferenceBetweenTwoHours(n,a){if(n!=null&&a!=null){let[o,c]=n.split(":").map(Number),[p,d]=a.split(":").map(Number),Ie=p*60+d-(o*60+c),Ne=Math.floor(Ie/60),Ae=Ie%60;return Ne+"h"+(Ae==0?"00":Ae)}else return}calculateDifferenceBetweenDates(n,a){if(n!=null&&a!=null)return Math.abs(a.getTime()-n.getTime())/(1e3*3600*24)+"Jour(s)"}};m.\u0275fac=function(a){return new(a||m)(h(ne),h(st),h(A),h(H),h(j),h(He),h(he))},m.\u0275cmp=B({type:m,selectors:[["app-ch-edit-permissions"]],standalone:!0,features:[P],decls:54,vars:15,consts:[["Date_permission",""],["pickerStart",""],["pickerEnd",""],["Date_start",""],["Date_end",""],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","gx-3","justify-content-center","mb-3"],[1,"col-12"],[1,"col-lg-4","col-md-4","col-sm-12"],["appearance","outline"],["readonly","","matInput","","placeholder","Nom compl\xE8te",3,"ngModelChange","ngModel"],["readonly","","matInput","","placeholder","Votre fonction",3,"ngModelChange","ngModel"],["readonly","","matInput","","placeholder","Votre service",3,"ngModelChange","ngModel"],[1,"col-lg-12","mb-3"],["appearance","outline",1,"example-full-width"],["rows","3","matInput","","placeholder","Ex. Le motif de la permission...",3,"ngModelChange","ngModel"],[1,"row","gx-3","mb-3"],[1,"col-lg-12","col-md-12","text-center","mb-2"],[1,"text-center","mb-3"],["aria-label","Select an option",3,"change"],["value","hour",3,"checked"],["value","date",3,"checked"],[1,"row","justify-content-center"],[1,"col-lg-3","col-md-6"],[1,"col-lg-3"],[1,"col-lg-4","col-md-6"],[1,"col-lg-12","col-md-12","text-center"],[1,"row","gx-3","mb-4"],[1,"row","gx-3","mb-3","justify-content-center"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["matInput","","placeholder","00/00/0000",3,"ngModelChange","ngModel","matDatepicker"],["matIconSuffix","",3,"for"],["matPrefix","",1,"mx-2"],["matInput","","placeholder","00:00",3,"ngModelChange","ngxMatTimepicker","ngModel","format"],["matSuffix","",3,"click"],["matInput","",3,"ngModelChange","ngModel","matDatepicker"],["value","OUI"],["value","NON"],["for","formFileLg",1,"form-label"],["id","formFileLg","type","file",1,"form-control","form-control-lg",3,"change"],[1,"col-lg-8","col-md-12","text-center"],["mat-raised-button","","color","primary",1,"default__btn__lg",3,"click"]],template:function(a,o){a&1&&(t(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11),i(7,"Modification de permission"),e()(),t(8,"div",12)(9,"div",13)(10,"div",14)(11,"h1"),i(12,"Formulaire de demande de permission"),e()(),t(13,"div",15)(14,"mat-form-field",16)(15,"mat-label"),i(16,"Nom compl\xE8te"),e(),t(17,"input",17),M("ngModelChange",function(p){return b(o.user_name,p)||(o.user_name=p),p}),e()()(),t(18,"div",15)(19,"mat-form-field",16)(20,"mat-label"),i(21,"Votre fonction"),e(),t(22,"input",18),M("ngModelChange",function(p){return b(o.user_fonction,p)||(o.user_fonction=p),p}),e()()(),t(23,"div",15)(24,"mat-form-field",16)(25,"mat-label"),i(26,"Votre service"),e(),t(27,"input",19),M("ngModelChange",function(p){return b(o.user_service,p)||(o.user_service=p),p}),e()()(),t(28,"div",20)(29,"mat-form-field",21)(30,"mat-label"),i(31,"Le motif de la permission"),e(),t(32,"textarea",22),M("ngModelChange",function(p){return b(o.motif,p)||(o.motif=p),p}),e()()(),t(33,"div",23)(34,"div",24)(35,"h1",25),i(36,"Dur\xE9e de la permission"),e(),t(37,"mat-radio-group",26),v("change",function(p){return o.PermissionDurationChange(p)}),t(38,"mat-radio-button",27),i(39,"En heure"),e(),t(40,"mat-radio-button",28),i(41,"En jours"),e()()(),t(42,"div",29),w(43,Wo,8,3,"div",30)(44,Ro,9,3,"div",31)(45,Ao,9,3,"div",31)(46,No,8,3,"div",32)(47,Oo,8,3,"div",32),e(),w(48,Ho,8,0,"div",33),e(),w(49,Uo,7,0,"div",34)(50,zo,6,0,"div",35),e()()()()()()(),t(51,"ngx-spinner",36)(52,"p",37),i(53," Chargement en cours... "),e()()),a&2&&(l(17),y("ngModel",o.user_name),l(5),y("ngModel",o.user_fonction),l(5),y("ngModel",o.user_service),l(5),y("ngModel",o.motif),l(6),u("checked",o.type_duration=="hour"),l(2),u("checked",o.type_duration=="date"),l(3),g(43,o.duration_is_hour==!0?43:-1),l(),g(44,o.duration_is_hour==!0?44:-1),l(),g(45,o.duration_is_hour==!0?45:-1),l(),g(46,o.duration_is_date==!0?46:-1),l(),g(47,o.duration_is_date==!0?47:-1),l(),g(48,o.duration_is_hour==!0||o.duration_is_date==!0?48:-1),l(),g(49,o.is_choose=="OUI"?49:-1),l(),g(50,o.duration_is_hour==!0||o.duration_is_date==!0?50:-1),l(),u("fullScreen",!0))},dependencies:[U,z,R,W,te,X,Z,Rt,fe,$,Me,we,Te,ot,at,Y,dt,Mt,wt,N,J,Q,K,O]});let r=m;return r})();var qo=r=>({itemsPerPage:20,currentPage:r}),Yo=r=>["/ch.detail.employes",r];function Go(r,m){if(r&1){let s=T();t(0,"tr")(1,"td"),i(2),e(),t(3,"td")(4,"div",20)(5,"a",21),S(6,"img",22),e()()(),t(7,"td",23)(8,"p",24),i(9),e()(),t(10,"td",23)(11,"p",24),i(12),e()(),t(13,"td",23)(14,"p",24),i(15),e()(),t(16,"td",23)(17,"p",24),i(18),e()(),t(19,"td",15)(20,"p",24),i(21),D(22,"transformDate"),e()(),t(23,"td",25)(24,"button",26)(25,"mat-icon"),i(26,"more_vert"),e()(),t(27,"mat-menu",27,0)(29,"button",28),v("click",function(){let a=_(s).$implicit,o=x();return f(o.showEmploye(a.slug))}),t(30,"mat-icon"),i(31,"visibility"),e(),i(32," Consulter "),e(),t(33,"button",28),v("click",function(){let a=_(s).$implicit,o=x();return f(o.deleteEmploye(a.slug))}),t(34,"mat-icon"),i(35,"delete"),e(),i(36," Supprimer "),e()()()()}if(r&2){let s=m.$implicit,n=m.$index,a=I(28);l(2),C("#",n+1,""),l(3),u("routerLink",q(12,Yo,s.slug)),l(),u("src",s.photo,ge),l(3),C(" ",s.first_name+" "+s.last_name," "),l(3),C(" ",s.adresse_email," "),l(3),C(" ",s.code_autorisation," "),l(3),C(" ",s.code_owners," "),l(3),E(k(22,9,s.created_at,"d MMMM yyyy, \xE0 HH:mm")),l(3),u("matMenuTriggerFor",a)}}var vi=(()=>{let m=class m{constructor(n,a,o,c,p){this._traitement=n,this._notificationService=a,this._loading=o,this._router=c,this._dialog=p,this.list_employe_infos=[],this.p=1}ngOnInit(){this.getEmployesInfoList()}showEmploye(n){this._router.navigate(["/ch.detail.employes",n])}getEmployesInfoList(){this._loading.show_loading(),this._traitement.getEmployeInfoWithStatusZero().subscribe({next:n=>{console.log(n),setTimeout(()=>{this.list_employe_infos=n,this._loading.hide_loading()},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(n){this._dialog.open(se,{width:"auto"}).afterClosed().subscribe({next:o=>{o=="confirm"&&this.deleteEmploye(n)}})}deleteEmploye(n){this._loading.show_loading(),this._traitement.deleteEmployes(n).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getEmployesInfoList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(h(ee),h(A),h(H),h(j),h(ne))},m.\u0275cmp=B({type:m,selectors:[["app-ch-employees-info-personnelle"]],standalone:!0,features:[P],decls:43,vars:6,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"card-header"],["mat-button","",1,"text-uppercase","text-white","default__btn__lg"],[1,"text-white"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","m-0"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"d-flex","align-items-center"],[3,"routerLink"],["alt","Employe photo",1,"img-2x","rounded-5","me-3",3,"src"],[1,"text-center",2,"white-space","unset !important"],[1,"fw-600"],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"]],template:function(a,o){a&1&&(t(0,"div",1)(1,"div",2)(2,"div",3),S(3,"div",4),e()()(),t(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9)(9,"button",10)(10,"mat-icon",11),i(11,"list"),e(),i(12," Liste des informations des employ\xE9s "),e()(),t(13,"div",12)(14,"div",13)(15,"table",14)(16,"thead")(17,"tr")(18,"th",15),i(19,"#ID"),e(),t(20,"th",15),i(21,"Employ\xE9"),e(),t(22,"th",15),i(23,"Nom & Pr\xE9nom"),e(),t(24,"th",15),i(25,"Adresse e-mail"),e(),t(26,"th",15),i(27,"Code d'autorisation"),e(),t(28,"th",15),i(29,"Responsable d'autorisation"),e(),t(30,"th",15),i(31,"Date de cr\xE9ation"),e(),t(32,"th",15),i(33,"Actions"),e()()(),t(34,"tbody"),F(35,Go,37,14,"tr",null,V),D(37,"paginate"),e()(),t(38,"div",16)(39,"pagination-controls",17),v("pageChange",function(p){return o.p=p}),e()()()()()()()(),t(40,"ngx-spinner",18)(41,"p",19),i(42," Chargement en cours... "),e()()),a&2&&(l(35),L(k(37,1,o.list_employe_infos,q(4,qo,o.p))),l(5),u("fullScreen",!0))},dependencies:[U,z,R,ae,oe,re,W,te,le,Y,me,de,N,ie,O,Se]});let r=m;return r})();function Jo(r,m){if(r&1&&(t(0,"mat-option",19),i(1),e()),r&2){let s=m.$implicit;u("value",s.employe_matricule),l(),C(" ",s.last_name," ")}}var Si=(()=>{let m=class m{constructor(n,a,o,c,p,d){this._traitement=n,this._router=a,this._loading=o,this._userData=c,this._notificationService=p,this._mission=d,this.config={editable:!0,spellcheck:!0,height:"20rem",minHeight:"20rem",placeholder:"Entrer l'ordre de la mission ici",translate:"no",defaultParagraphSeparator:"p",defaultFontName:"Arial",toolbarHiddenButtons:[["bold"]],fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}]},this.is_switching_assigment=!0,this.is_switching_leave=!1,this.switcher_is_active=!0,this.employe_matricule="",this.fullscreen=!0,this.description="",this.lieu_mission="",this.is_choose="",this.list_employes=[],this.list_bureau=[],this.employe_selected="",this.duration_is_date=!1}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getAllBureau(),this.getAllEmployes()}radioChange(n){this.is_choose=n.value}MissionDurationChange(n){n.value==="date"?this.duration_is_date=!0:this.duration_is_date=!1}switchAction(n){n=="assigments"&&(this.is_switching_assigment=!0,this.is_switching_leave=!1,this.switcher_is_active=!0),n=="leave"&&(this.is_switching_leave=!0,this.is_switching_assigment=!1,this.switcher_is_active=!1)}onChangeListeemploye(n){this.employe_selected=n.value}getAllEmployes(){this._loading.show_loading(),this._traitement.getEmployes().subscribe({next:n=>{setTimeout(()=>{this.list_employes=n,this._loading.hide_loading()},700)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getAllBureau(){this._loading.show_loading(),this._traitement.getBureau().subscribe({next:n=>{setTimeout(()=>{this.list_bureau=n,this._loading.hide_loading()},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}saveMission(){this._loading.show_loading();let n=this.calculateDifferenceBetweenDates(this.date_start,this.date_end),a=new FormData;a.append("employe_matricule",this.employe_selected),a.append("lieu_mission",this.lieu_mission),n!=null&&a.append("duree_mission",n),n!=null&&(a.append("mission_end",this.formatDate(this.date_end).toString()),a.append("mission_start",this.formatDate(this.date_start).toString())),a.append("description",this.description),this._mission.AddMissions(a).subscribe({next:o=>{o.code==200?(this._notificationService.openSnackBarSuccess(o),setTimeout(()=>{this._loading.hide_loading(),this._router.navigateByUrl("/ch.list-misson")},2e3)):(o.code==300||o.code==500||o.code==302)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(o))},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}formatDate(n){let a=n.toLocaleString("default",{year:"numeric"}),o=n.toLocaleString("default",{month:"2-digit"}),c=n.toLocaleString("default",{day:"2-digit"});return a+"-"+o+"-"+c}calculateDifferenceBetweenDates(n,a){if(n!=null&&a!=null)return(Math.abs(a.getTime()-n.getTime())/(1e3*3600*24)).toString()+"Jour(s)"}};m.\u0275fac=function(a){return new(a||m)(h(ee),h(j),h(H),h(he),h(A),h(Ye))},m.\u0275cmp=B({type:m,selectors:[["app-ch-mission"]],standalone:!0,features:[P],decls:66,vars:11,consts:[["Date_start",""],["Date_end",""],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-body"],[1,"row","justify-content-center"],[1,"d-flex","justify-content-center"],["mat-fab","","extended","",1,"me-2",3,"color"],[1,"hero-body"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"row","gx-3","justify-content-center","mb-3"],[1,"col-12"],[1,"text-primary","fw-bolder"],[1,"col-lg-12"],["appearance","outline"],[3,"selectionChange"],[1,"fw-bolder",3,"value"],[1,"col-md-12"],[1,"fs-4"],["matInput","","placeholder","Le lieu_mission",3,"ngModelChange","ngModel"],[3,"ngModelChange","placeholder","ngModel"],[1,"row","gx-3","mb-3"],[1,"col-lg-12","col-md-12","text-center","mb-2"],[1,"text-center","mb-3"],[1,"col-lg-4","col-md-6"],["matInput","","placeholder","00/00/0000",3,"ngModelChange","ngModel","matDatepicker"],["matIconSuffix","",3,"for"],["matInput","",3,"ngModelChange","ngModel","matDatepicker"],[1,"row","gx-3","mb-3","justify-content-center"],[1,"col-lg-8","col-md-12","text-center"],["mat-fab","","extended","","color","primary",3,"click"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"]],template:function(a,o){if(a&1){let c=T();t(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"button",10)(9,"mat-icon"),i(10,"assignment_add"),e(),i(11," Formulaire d'envoi en mission "),e()()()()()()()()(),t(12,"div",11)(13,"div",4)(14,"div",12)(15,"div",6)(16,"div",7)(17,"div",13)(18,"div",14)(19,"h1",15),i(20,"Formulaire de programmation de mission"),e()(),t(21,"div",16)(22,"mat-form-field",17)(23,"mat-label"),i(24,"Emlpoy\xE9"),e(),t(25,"mat-select",18),v("selectionChange",function(d){return _(c),f(o.onChangeListeemploye(d))}),F(26,Jo,2,2,"mat-option",19,V),e()()(),t(28,"div",20)(29,"mat-form-field",17)(30,"mat-label"),i(31,"Le lieu "),S(32,"code",21),e(),t(33,"input",22),M("ngModelChange",function(d){return _(c),b(o.lieu_mission,d)||(o.lieu_mission=d),f(d)}),e()()(),t(34,"div",16)(35,"angular-editor",23),M("ngModelChange",function(d){return _(c),b(o.description,d)||(o.description=d),f(d)}),e()(),t(36,"div",24)(37,"div",25)(38,"h1",26),i(39,"Dur\xE9e de la mission"),e()(),t(40,"div",8)(41,"div",27)(42,"mat-form-field",17)(43,"mat-label"),i(44,"Date d\xE9but de la mission"),e(),t(45,"input",28),M("ngModelChange",function(d){return _(c),b(o.date_start,d)||(o.date_start=d),f(d)}),e(),S(46,"mat-datepicker-toggle",29)(47,"mat-datepicker",null,0),e()(),t(49,"div",27)(50,"mat-form-field",17)(51,"mat-label"),i(52,"Date fin de la mission"),e(),t(53,"input",30),M("ngModelChange",function(d){return _(c),b(o.date_end,d)||(o.date_end=d),f(d)}),e(),S(54,"mat-datepicker-toggle",29)(55,"mat-datepicker",null,1),e()()(),t(57,"div",31)(58,"div",32)(59,"button",33),v("click",function(){return _(c),f(o.saveMission())}),t(60,"mat-icon"),i(61,"save"),e(),i(62," Enregistrer "),e()()()()()()()()()(),t(63,"ngx-spinner",34)(64,"p",35),i(65," Chargement en cours... "),e()()}if(a&2){let c=I(48),p=I(56);l(8),u("color",o.switcher_is_active==!0?"warn":"primary"),l(18),L(o.list_employes),l(7),y("ngModel",o.lieu_mission),l(2),u("placeholder","Ordre de mission..."),y("ngModel",o.description),l(10),y("ngModel",o.date_start),u("matDatepicker",c),l(),u("for",c),l(7),y("ngModel",o.date_end),u("matDatepicker",p),l(),u("for",p),l(9),u("fullScreen",o.fullscreen)}},dependencies:[U,z,R,W,Ce,X,Z,fe,be,Ee,$,Me,we,Te,N,J,Q,K,$e,lt,rt]});let r=m;return r})();function Qo(r,m){r&1&&S(0,"mat-progress-bar",9)}function Ko(r,m){r&1&&(t(0,"button",43)(1,"mat-icon"),i(2,"done_outline"),e(),i(3," Mission approuv\xE9e "),e())}function Zo(r,m){r&1&&(t(0,"button",44)(1,"mat-icon"),i(2,"done_outline"),e(),i(3," Mission r\xE9jet\xE9e "),e())}function Xo(r,m){r&1&&(t(0,"button",44)(1,"mat-icon"),i(2,"no_accounts"),e(),i(3," Accune action "),e())}function $o(r,m){if(r&1&&(t(0,"div",45)(1,"mat-icon",52),i(2,"notifications"),e(),i(3),e()),r&2){let s=x();l(3),C(" ",s.comments," ")}}function ea(r,m){r&1&&(t(0,"div",48),S(1,"img",53),e())}var Ei=(()=>{let m=class m{constructor(n,a,o,c,p){this._notificationService=n,this._mission=a,this._router=o,this.data=c,this._dialogRef=p,this.item_slug="",this.mission_ref="",this.fonction="",this.service="",this.created_at="",this.status_on=0,this.status_off=0,this.decision_dg=0,this.duree_mission="",this.customer_name="",this.description="",this.lieu_mission="",this.is_choose="",this.list_employes=[],this.list_bureau=[],this.employe_selected="",this.duration_is_date=!1,this.show_comment_box=!1,this.decision="",this.decision_comments="",this.comments="",this.loading=!1}ngOnInit(){this.data!=null&&(this.item_slug=this.data.slug),this.updateIsConsultingStatus(),this.getCurrentMissionInfo()}getCurrentMissionInfo(){this._mission.showMission(this.item_slug).subscribe({next:n=>{console.log(n),this.mission_data=n,this.mission_ref=n.mission_ref,this.date_mission=n.date_mission,this.fonction=n.fonction,this.service=n.service,this.mission_start=n.mission_start,this.mission_end=n.mission_end,this.duree_mission=n.duree_mission,this.comments=n.comments,this.customer_name=n.first_name+" "+n.last_name,this.description=n.description,this.created_at=n.created_at,this.status_on=n.status_on,this.status_off=n.status_off,this.decision_dg=n.decision_dg},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}MissionDecisionChange(n){let a=n.value;a=="approved"?(this.show_comment_box=!0,this.decision=a):a=="rejected"?(this.show_comment_box=!0,this.decision=a):(this.show_comment_box=!1,this.decision="")}saveDecision(){let n={decison:this.decision,decision_comments:this.decision_comments,slug:this.item_slug};this.loading=!0,this._mission.approvedOrRejectedMission(n).subscribe({next:a=>{console.log(a),a.code==200?(this._notificationService.openSnackBarSuccess(a),setTimeout(()=>{this.loading=!1,this.show_comment_box=!1,this.getCurrentMissionInfo()},1e3)):(a.code==300||a.code==500||a.code==302)&&(this.loading,this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateIsConsultingStatus(){this._mission.updateIsConsultingStatus(this.item_slug).subscribe({next:n=>{n.code==200?this._notificationService.openSnackBarSuccess(n):n.code==300||n.code==500||n.code==302?(this.loading,this._notificationService.openSnackBarError(n)):n.code==201&&(this.loading,this._notificationService.openSnackBarInfo(n))},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}printMission(){var n=document.querySelector("#mission_card")?.innerHTML,a=document.body.innerHTML;document.body.innerHTML=n,window.print(),document.body.innerHTML=a,location.reload()}};m.\u0275fac=function(a){return new(a||m)(h(A),h(Ye),h(j),h(Re),h(We))},m.\u0275cmp=B({type:m,selectors:[["app-ch-detail-mission"]],standalone:!0,features:[P],decls:101,vars:25,consts:[["mat-dialog-title",""],["mat-raised-button","","color","primary","mat-dialog-close",""],["mat-dialog-content","",2,"max-height","95vh"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"row"],[1,"col-lg-5","col-md-5"],[1,"card"],["mode","indeterminate"],[1,"card-header","d-flex","justify-content-between","mb-3"],[1,"me-2"],[1,"text-red"],[1,"card-title","text-primary","fs-5","fw-bolder"],[1,"text-end"],["mat-fab","",1,"",3,"click"],[1,"col-lg-7","col-md-7"],["id","mission_card",1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","align-items-center","mb-4"],[1,"col-xl-2","col-sm-3","col-12"],["src","assets/media/logoai.png","width","100","alt","",1,"img-fluid"],[1,"col-xl-10","col-sm-9","col-12"],[1,"text-end","m-0","fw-bolder"],[1,"fw-bolder","fs-5"],[1,"col-sm-12","col-12"],[1,"d-flex","justify-content-end","my-4"],[1,"m-0"],[1,"fw-bolder"],[1,"fw-bolder","text-red","text-uppercase"],[1,"row","gx-3","mb-2"],[1,"col-sm-12","col-12","mb-3"],[1,"fw-bolder","text-red"],[1,"m-0","text-end"],[1,"col-12"],[1,"text-center","mb-3"],[1,"fw-bolder","text-uppercase"],[1,"mb-4",3,"innerHTML"],[1,"d-flex","justify-content-between"],[1,"m-0","text-start","mb-4"],[1,"fw-bolder","text-start"],["mat-fab","","extended","","color","primary"],["mat-fab","","extended","","color","warn"],["role","alert",1,"alert","alert-light","alert-dismissible","fade","show"],[1,"m-0","text-center"],[1,"fw-bolder","text-dark"],[1,"justiffy-content-center","mb-4serve"],[1,"d-flex","justify-content-center"],["href","www.alerte-info.net"],["href","direction@alerte-info.net"],[1,"text-danger","alert-icon"],["src","assets/media/signature.png","width","100","alt","",1,"img-fluid"]],template:function(a,o){a&1&&(t(0,"h1",0),i(1," D\xE9tail de la mission "),t(2,"button",1),i(3,"Fermer"),e()(),t(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),w(11,Qo,1,0,"mat-progress-bar",9),t(12,"div",10)(13,"span",11)(14,"mat-icon",12),i(15,"notifications"),e()(),t(16,"div",13),i(17," R\xE9server au directeur "),e(),t(18,"div",14)(19,"button",15),v("click",function(){return o.printMission()}),t(20,"mat-icon"),i(21,"print"),e()()()()()(),t(22,"div",16)(23,"div",17)(24,"div",18)(25,"div",19),i(26),e()(),t(27,"div",20)(28,"div",21)(29,"div",22),S(30,"img",23),e(),t(31,"div",24)(32,"p",25)(33,"span",26),i(34,"Alerte Info "),e()()()(),t(35,"div",4)(36,"div",27)(37,"div",28)(38,"div")(39,"p",29)(40,"span",30),i(41,"Date de la mission,"),e(),S(42,"br"),t(43,"span",31),i(44),D(45,"date"),e()()()()()(),t(46,"div",32)(47,"div",33)(48,"p",29)(49,"span",30),i(50,"Dur\xE9e de la mission,"),e(),S(51,"br"),t(52,"span",30)(53,"span",34),i(54),e(),S(55,"br"),i(56),D(57,"date"),D(58,"date"),e()()(),t(59,"div")(60,"p",35)(61,"span",30),i(62,"Faire \xE0 Abidjan le,"),e(),S(63,"br"),t(64,"span",31),i(65),D(66,"date"),e()()()(),t(67,"div",4)(68,"div",36)(69,"div",37)(70,"h1",38)(71,"u",30),i(72,"ORDRE DE MISSION"),e()()(),S(73,"p",39)(74,"br"),t(75,"div",40)(76,"div")(77,"p",41)(78,"span",42),i(79,"Approbation"),e(),S(80,"br"),w(81,Ko,4,0,"button",43)(82,Zo,4,0,"button",44)(83,Xo,4,0,"button",44),e(),w(84,$o,4,1,"div",45),e(),t(85,"div",28)(86,"p",46)(87,"span",47),i(88,"Le G\xE9rant et Directeur G\xE9n\xE9ral"),e(),S(89,"br"),t(90,"span",47),i(91,"LDr David YOUANT"),e(),S(92,"br"),w(93,ea,2,0,"div",48),e()()()()(),t(94,"div",49)(95,"p",46),i(96," --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- SARL: Capital 5.000.000 FCFA, Direction G\xE9n\xE9rale et Bureau d\u2019Abidjan, Bvd du Gabon Abidjan Marcory-Hibiscus Immeuble La Madone 2e Etage, Escaliers A et B T\xE9l (225) 27 21 26 19 40 \u2013 27 21 26 20 22 \u2013 01 02 500 320 / 01 02 500 321 / 01 02 500 323 / BP : 3417 Abidjan 09 CC: 0731049 N/ CNPS: 147 660 RC: CIABJ 2007 B3132 \u2013 ECOBANK-CI: CI059 01031 121317993001 93 www."),t(97,"a",50),i(98,"alerte-info"),e(),S(99,"a",51),i(100," / www.direction-alerte-info "),e()()()()()()()()()()),a&2&&(l(11),g(11,o.loading==!0?11:-1),l(15),C("R\xE9f mission - #",o.mission_ref," "),l(18),E(k(45,13,o.mission_start,"dd MMMM yyyy")),l(10),C(" ",o.duree_mission," "),l(2),Qe(" du ",k(57,16,o.mission_start,"dd MMMM yyyy")," au ",k(58,19,o.mission_end,"dd MMMM yyyy")," "),l(9),E(k(66,22,o.created_at,"dd MMMM yyyy, \xE0 HH:mm")),l(8),u("innerHTML",o.description,Ze),l(8),g(81,o.decision_dg==1?81:-1),l(),g(82,o.decision_dg==1?82:-1),l(),g(83,o.decision_dg==0&&o.decision_dg==0?83:-1),l(),g(84,o.status_on==1||o.status_off==1?84:-1),l(9),g(93,o.status_on==1?93:-1))},dependencies:[xe,Xe,R,W,te,Ce,Ue,ze,qe,nt,O,N]});let r=m;return r})();var ta=r=>({itemsPerPage:20,currentPage:r}),ia=r=>["/ch.edit-mission",r];function na(r,m){r&1&&(t(0,"button",33)(1,"mat-icon",16),i(2,"verified"),e()())}function oa(r,m){r&1&&(t(0,"button",34)(1,"mat-icon",19),i(2,"verified"),e()())}function aa(r,m){r&1&&(t(0,"button",35)(1,"mat-icon",20),i(2,"unpublished"),e()())}function ra(r,m){if(r&1){let s=T();t(0,"tr")(1,"td"),i(2),e(),t(3,"td")(4,"a",29),v("click",function(){let a=_(s).$implicit,o=x();return f(o.consulteMission(a))}),S(5,"p",30),e()(),t(6,"td")(7,"p"),i(8),e()(),t(9,"td")(10,"p"),i(11),D(12,"transformText"),e()(),t(13,"td")(14,"button",31)(15,"mat-icon"),i(16,"check_circle"),e()()(),t(17,"td",32),w(18,na,3,0,"button",33)(19,oa,3,0,"button",34)(20,aa,3,0,"button",35),e(),t(21,"td",36)(22,"p"),i(23),D(24,"transformDate"),e()(),t(25,"td",36)(26,"button",37)(27,"mat-icon"),i(28,"more_vert"),e()(),t(29,"mat-menu",14,1)(31,"a",38)(32,"mat-icon"),i(33,"edit"),e(),i(34," Modifier "),e(),t(35,"button",39),v("click",function(){let a=_(s).$implicit,o=x();return f(o.consulteMission(a))}),t(36,"mat-icon"),i(37,"visibility"),e(),i(38," Consulter "),e(),t(39,"button",39),v("click",function(){let a=_(s).$implicit,o=x();return f(o.deleteMission(a.slug))}),t(40,"mat-icon"),i(41,"delete"),e(),i(42," Supprimer "),e()()()()}if(r&2){let s=m.$implicit,n=m.$index,a=I(30);l(2),C("#",n+1,""),l(3),u("innerHTML",s.description,Ze),l(3),E(s.first_name+" "+s.last_name),l(3),E(Oe(12,13,s.lieu_mission)),l(3),u("matTooltip",s.new_actions==1?"Consult\xE9e":"Nouveau"),l(),Pe(s.new_actions==1?"text-primary":"text-warning"),l(3),g(18,s.status_on==1?18:-1),l(),g(19,s.status_off==1?19:-1),l(),g(20,s.status_on==0&&s.status_off==0?20:-1),l(3),E(k(24,15,s.created_at,"d MMMM yyyy, \xE0 HH:mm")),l(3),u("matMenuTriggerFor",a),l(5),u("routerLink",q(18,ia,s.slug))}}var Ci=(()=>{let m=class m{constructor(n,a,o,c,p,d){this._dialog=n,this._mission=a,this._notificationService=o,this._loadings=c,this._router=p,this._userData=d,this.list_missions=[],this.mission_counter=0,this.employe_matricule="",this.list_customer_missions=[],this.customer_mission_counter=0,this.p=1}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getMission()}getMission(){this._loadings.show_loading(),this._mission.getMission(this.employe_matricule).subscribe({next:n=>{setTimeout(()=>{this.list_missions=n.mission,this.mission_counter=this.list_missions.length,this.list_customer_missions=n.customer_permission,this._loadings.hide_loading()},1e3)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}consulteMission(n){this._dialog.open(Ei,{data:n,panelClass:"fullscreen-dialog"}).afterClosed().subscribe({next:o=>{o&&this.getMission()}})}deleteMission(n){this._dialog.open(se,{width:"auto"}).afterClosed().subscribe({next:o=>{o=="confirm"&&this._mission.deleteMission(n).subscribe({next:c=>{c.code==200?(this._notificationService.openSnackBarSuccess(c),this.getMission()):c.code==404&&this._notificationService.openSnackBarError(c)},error:c=>{c.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}})}};m.\u0275fac=function(a){return new(a||m)(h(ne),h(Ye),h(A),h(H),h(j),h(he))},m.\u0275cmp=B({type:m,selectors:[["app-ch-list-mission"]],standalone:!0,features:[P],decls:81,vars:8,consts:[["guideInfo","matMenu"],["beforeMenu","matMenu"],[1,"hero-body"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title","fw-bolder","fs-5"],["mat-button","",1,"default__btn__lg","text-dark"],[1,"example-tab-icon"],[1,"fw-bolder","text-white","fs-5"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],["mat-mini-fab","",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item",""],[1,"text-primary"],[1,""],[1,"fw-bolder"],[1,"text-red"],[1,"text-warning"],[1,"card-body"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"table-responsive","mt-4"],[1,"table","table-striped","m-0"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["role","button",1,"taille-texte",3,"click"],[1,"text-truncate",2,"width","200px",3,"innerHTML"],["mat-icon-button","",3,"matTooltip"],[1,"text-center"],["matTooltip","Approuv\xE9e","mat-icon-button",""],["matTooltip","R\xE9jet\xE9e","mat-icon-button",""],["matTooltip","Aucune action","mat-icon-button",""],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"]],template:function(a,o){if(a&1){let c=T();t(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"button",9)(8,"mat-icon",10),i(9,"view_list"),e(),t(10,"span",11),i(11,"Liste des missions"),e()(),t(12,"button",12),i(13),e()(),t(14,"div")(15,"button",13)(16,"mat-icon"),i(17,"info"),e()(),t(18,"mat-menu",14,0)(20,"button",15)(21,"mat-icon",16),i(22,"verified"),e(),t(23,"span",17),i(24,"Indique que la mission a \xE9t\xE9"),t(25,"code",18),i(26,"valid\xE9e"),e()()(),t(27,"button",15)(28,"mat-icon",19),i(29,"verified"),e(),t(30,"span"),i(31,"Indique qu'une permission a \xE9t\xE9 "),t(32,"code",18),i(33," rejet\xE9e "),e()()(),t(34,"button",15)(35,"mat-icon",16),i(36,"check_circle"),e(),t(37,"span"),i(38,"Indique que la mission a \xE9t\xE9 "),t(39,"code",18),i(40,"consult\xE9e"),e()()(),t(41,"button",15)(42,"mat-icon",20),i(43,"check_circle"),e(),t(44,"span"),i(45,"Indique une "),t(46,"code",18),i(47,"nouvelle"),e(),i(48," mission "),e()()()()(),t(49,"div",21)(50,"div",4)(51,"div",22)(52,"div",23)(53,"table",24)(54,"thead")(55,"tr")(56,"th"),i(57,"#ID"),e(),t(58,"th"),i(59,"L'ordre de la mission"),e(),t(60,"th"),i(61,"Employ\xE9"),e(),t(62,"th"),i(63,"Lieu de la mission"),e(),t(64,"th"),i(65,"Consultation"),e(),t(66,"th"),i(67,"D\xE9cision"),e(),t(68,"th"),i(69,"Date de publication"),e(),t(70,"th"),i(71,"Actions"),e()()(),t(72,"tbody"),F(73,ra,43,20,"tr",null,V),D(75,"paginate"),e()()(),t(76,"div",25)(77,"pagination-controls",26),v("pageChange",function(d){return _(c),f(o.p=d)}),e()()()()()()()()()(),t(78,"ngx-spinner",27)(79,"p",28),i(80," Chargement en cours... "),e()()}if(a&2){let c=I(19);l(13),C(" ",o.mission_counter," "),l(2),u("matMenuTriggerFor",c),l(58),L(k(75,3,o.list_missions,q(6,ta,o.p))),l(5),u("fullScreen",!0)}},dependencies:[U,z,R,ae,oe,re,W,te,ye,le,De,Y,me,de,N,ie,mt,O,Se,xe]});let r=m;return r})();function la(r,m){if(r&1&&(t(0,"mat-option",19),i(1),e()),r&2){let s=m.$implicit;u("value",s.employe_matricule),l(),C(" ",s.last_name," ")}}var yi=(()=>{let m=class m{constructor(n,a,o,c,p,d,Ie,Ne,Ae){this._traitement=n,this._router=a,this._loading=o,this._userData=c,this._notificationService=p,this._mission=d,this._activatedRoute=Ie,this.data=Ne,this._dialogRef=Ae,this.config={editable:!0,spellcheck:!0,height:"20rem",minHeight:"20rem",placeholder:"Entrer l'ordre de la mission ici",translate:"no",defaultParagraphSeparator:"p",defaultFontName:"Arial",toolbarHiddenButtons:[["bold"]],fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}]},this.is_switching_assigment=!0,this.is_switching_leave=!1,this.switcher_is_active=!0,this.employe_matricule="",this.fullscreen=!0,this.description="",this.lieu_mission="",this.is_choose="",this.list_employes=[],this.list_bureau=[],this.employe_selected="",this.duration_is_date=!1,this.items_slug=""}ngOnInit(){this.data!=null&&(this.items_slug=this.data),this.employe_matricule=this._userData.getUserData().employe_matricule,this.getAllEmployes()}radioChange(n){this.is_choose=n.value}MissionDurationChange(n){n.value==="date"?this.duration_is_date=!0:this.duration_is_date=!1}onChangeListeemploye(n){this.employe_selected=n.value}getAllEmployes(){this._loading.show_loading(),this._traitement.getEmployes().subscribe({next:n=>{setTimeout(()=>{this.list_employes=n,this._loading.hide_loading()},700)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getCurrentMission(){this._mission.editMission(this.items_slug).subscribe({next:n=>{console.log(n),this.description=n.description,this.lieu_mission=n.lieu_mission,this.date_start=new Date(n.mission_start),this.date_end=new Date(n.mission_end)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateMission(){this._loading.show_loading();let n=this._activatedRoute.snapshot.paramMap.get("slug");this._loading.show_loading();let a=this.calculateDifferenceBetweenDates(this.date_start,this.date_end),o=new FormData;o.append("employe_matricule",this.employe_selected),o.append("lieu_mission",this.lieu_mission),o.append("duree_mission",a),o.append("mission_end",this.formatDate(this.date_end).toString()),o.append("mission_start",this.formatDate(this.date_start).toString()),o.append("description",this.description),this._mission.updateMission(n,o).subscribe({next:c=>{console.log(c),c.code==200?(this._notificationService.openSnackBarSuccess(c),setTimeout(()=>{this._loading.hide_loading(),this._router.navigateByUrl("/ch.list-misson")},2e3)):(c.code==300||c.code==500||c.code==302)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(c))},error:c=>{c.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}formatDate(n){let a=n.toLocaleString("default",{year:"numeric"}),o=n.toLocaleString("default",{month:"2-digit"}),c=n.toLocaleString("default",{day:"2-digit"});return a+"-"+o+"-"+c}calculateDifferenceBetweenDates(n,a){if(n!=null&&a!=null)return(Math.abs(a.getTime()-n.getTime())/(1e3*3600*24)).toString()+"Jour(s)"}};m.\u0275fac=function(a){return new(a||m)(h(ee),h(j),h(H),h(he),h(A),h(Ye),h(He),h(Re),h(We))},m.\u0275cmp=B({type:m,selectors:[["app-ch-edit-mission"]],standalone:!0,features:[P],decls:66,vars:11,consts:[["Date_start",""],["Date_end",""],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-body"],[1,"row","justify-content-center"],[1,"d-flex","justify-content-center"],["mat-fab","","extended","",1,"me-2",3,"color"],[1,"hero-body"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"row","gx-3","justify-content-center","mb-3"],[1,"col-12"],[1,"text-primary","fw-bolder"],[1,"col-lg-12"],["appearance","outline"],[3,"selectionChange"],[1,"fw-bolder",3,"value"],[1,"col-md-12"],[1,"fs-4"],["matInput","","placeholder","Le lieu_mission",3,"ngModelChange","ngModel"],[3,"ngModelChange","placeholder","ngModel"],[1,"row","gx-3","mb-3"],[1,"col-lg-12","col-md-12","text-center","mb-2"],[1,"text-center","mb-3"],[1,"col-lg-4","col-md-6"],["matInput","","placeholder","00/00/0000",3,"ngModelChange","ngModel","matDatepicker"],["matIconSuffix","",3,"for"],["matInput","",3,"ngModelChange","ngModel","matDatepicker"],[1,"row","gx-3","mb-3","justify-content-center"],[1,"col-lg-8","col-md-12","text-center"],["mat-fab","","extended","","color","primary",3,"click"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"]],template:function(a,o){if(a&1){let c=T();t(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"button",10)(9,"mat-icon"),i(10,"assignment_add"),e(),i(11," Formulaire d'envoi en mission "),e()()()()()()()()(),t(12,"div",11)(13,"div",4)(14,"div",12)(15,"div",6)(16,"div",7)(17,"div",13)(18,"div",14)(19,"h1",15),i(20,"Formulaire de programmation de mission"),e()(),t(21,"div",16)(22,"mat-form-field",17)(23,"mat-label"),i(24,"Emlpoy\xE9"),e(),t(25,"mat-select",18),v("selectionChange",function(d){return _(c),f(o.onChangeListeemploye(d))}),F(26,la,2,2,"mat-option",19,V),e()()(),t(28,"div",20)(29,"mat-form-field",17)(30,"mat-label"),i(31,"Le lieu "),S(32,"code",21),e(),t(33,"input",22),M("ngModelChange",function(d){return _(c),b(o.lieu_mission,d)||(o.lieu_mission=d),f(d)}),e()()(),t(34,"div",16)(35,"angular-editor",23),M("ngModelChange",function(d){return _(c),b(o.description,d)||(o.description=d),f(d)}),e()(),t(36,"div",24)(37,"div",25)(38,"h1",26),i(39,"Dur\xE9e de la mission"),e()(),t(40,"div",8)(41,"div",27)(42,"mat-form-field",17)(43,"mat-label"),i(44,"Date d\xE9but de la mission"),e(),t(45,"input",28),M("ngModelChange",function(d){return _(c),b(o.date_start,d)||(o.date_start=d),f(d)}),e(),S(46,"mat-datepicker-toggle",29)(47,"mat-datepicker",null,0),e()(),t(49,"div",27)(50,"mat-form-field",17)(51,"mat-label"),i(52,"Date fin de la mission"),e(),t(53,"input",30),M("ngModelChange",function(d){return _(c),b(o.date_end,d)||(o.date_end=d),f(d)}),e(),S(54,"mat-datepicker-toggle",29)(55,"mat-datepicker",null,1),e()()(),t(57,"div",31)(58,"div",32)(59,"button",33),v("click",function(){return _(c),f(o.updateMission())}),t(60,"mat-icon"),i(61,"save"),e(),i(62," Modifier "),e()()()()()()()()()(),t(63,"ngx-spinner",34)(64,"p",35),i(65," Chargement en cours... "),e()()}if(a&2){let c=I(48),p=I(56);l(8),u("color",o.switcher_is_active==!0?"warn":"primary"),l(18),L(o.list_employes),l(7),y("ngModel",o.lieu_mission),l(2),u("placeholder","Ordre de mission..."),y("ngModel",o.description),l(10),y("ngModel",o.date_start),u("matDatepicker",c),l(),u("for",c),l(7),y("ngModel",o.date_end),u("matDatepicker",p),l(),u("for",p),l(9),u("fullScreen",o.fullscreen)}},dependencies:[U,z,R,W,Ce,X,Z,fe,be,Ee,$,Me,we,Te,N,J,Q,K,$e,lt,rt]});let r=m;return r})();var sa=r=>({itemsPerPage:20,currentPage:r}),ma=r=>["/ch.rupture-contrat",r];function da(r,m){if(r&1){let s=T();t(0,"tr")(1,"td"),i(2),e(),t(3,"td")(4,"a",52),v("click",function(){let a=_(s).$implicit,o=x();return f(o.consulteRupture(a))}),S(5,"p",53),e()(),t(6,"td")(7,"p"),i(8),e()(),t(9,"td",54)(10,"p"),i(11),D(12,"transformDate"),e()(),t(13,"td",54)(14,"p"),i(15),D(16,"transformDate"),e()(),t(17,"td",54)(18,"button",55)(19,"mat-icon"),i(20,"more_vert"),e()(),t(21,"mat-menu",15,2)(23,"button",56),v("click",function(){let a=_(s).$implicit,o=x();return f(o.consulteRupture(a))}),t(24,"mat-icon"),i(25,"visibility"),e(),i(26," Consulter "),e(),t(27,"a",57)(28,"mat-icon"),i(29,"edit"),e(),i(30," Modifier "),e(),t(31,"button",56),v("click",function(){let a=_(s).$implicit,o=x();return f(o.deleteRupture(a.slug))}),t(32,"mat-icon"),i(33,"delete"),e(),i(34," Supprimer "),e()()()()}if(r&2){let s=m.$implicit,n=m.$index,a=I(22);l(2),C("#",n+1,""),l(3),u("innerHTML",s.rupture_motif,Ze),l(3),E(s.first_name+" "+s.last_name),l(3),E(k(12,7,s.date_rupture,"d MMMM yyyy, \xE0 HH:mm")),l(4),E(k(16,10,s.created_at,"d MMMM yyyy, \xE0 HH:mm")),l(3),u("matMenuTriggerFor",a),l(9),u("routerLink",q(13,ma,s.slug))}}function ca(r,m){if(r&1&&(t(0,"mat-option",38),i(1),e()),r&2){let s=m.$implicit;u("value",s.employe_matricule),l(),C(" ",s.last_name," ")}}function pa(r,m){if(r&1){let s=T();t(0,"button",58),v("click",function(){_(s);let a=x();return f(a.updateRupture())}),t(1,"mat-icon"),i(2,"save"),e(),i(3," Modifier "),e()}}function ua(r,m){if(r&1){let s=T();t(0,"button",58),v("click",function(){_(s);let a=x();return f(a.saveRupture())}),t(1,"mat-icon"),i(2,"save"),e(),i(3," Enregistrer "),e()}}var Bt=(()=>{let m=class m{constructor(n,a,o,c,p,d,Ie){this._dialog=n,this._rupture=a,this._notificationService=o,this._loadings=c,this._router=p,this._userData=d,this._traitement=Ie,this.config={editable:!0,spellcheck:!0,height:"20rem",minHeight:"20rem",placeholder:"Entrer l'ordre de la mission ici",translate:"no",defaultParagraphSeparator:"p",defaultFontName:"Arial",toolbarHiddenButtons:[["bold"]],fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}]},this.employe_matricule="",this.fullscreen=!0,this.rupture_motif="",this.is_choose="",this.list_employes=[],this.employe_selected="",this.list_rupture=[],this.rupture_counter=0,this.user_id="",this.p=1,this.is_update=!1,this.is_loading=!1}ngOnInit(){this.user_id=this._userData.getUserData().user_id,this.getRupture(),this.employe_matricule=this._userData.getUserData().employe_matricule,this.getAllEmployes(),this._userData!=null&&(this.is_update=!0)}radioChange(n){this.is_choose=n.value}onChangeListeemploye(n){this.employe_selected=n.value}saveRupture(){this._loadings.show_loading();let n=new FormData;n.append("employe_matricule",this.employe_selected),n.append("date_rupture",this.formatDate(this.date_rupture).toString()),n.append("rupture_motif",this.rupture_motif),this._rupture.addRupture(n).subscribe({next:a=>{console.log(a),a.code==200?(this._notificationService.openSnackBarSuccess(a),setTimeout(()=>{this._loadings.hide_loading(),window.location.reload()},2e3)):(a.code==300||a.code==500||a.code==302)&&(this._loadings.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getAllEmployes(){this._loadings.show_loading(),this._traitement.getEmployes().subscribe({next:n=>{setTimeout(()=>{this.list_employes=n,this._loadings.hide_loading()},700)},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getRupture(){this._loadings.show_loading(),this._rupture.getAllRupture().subscribe({next:n=>{console.log(n),this.list_rupture=n,this.rupture_counter=this.list_rupture.length,this._loadings.hide_loading()},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}consulteRupture(n){this._dialog.open(qt,{data:n,panelClass:"fullscreen-dialog"}).afterClosed().subscribe({next:o=>{o&&this.getRupture()}})}deleteRupture(n){this._dialog.open(se,{width:"auto"}).afterClosed().subscribe({next:o=>{o=="confirm"&&this._rupture.deleteRupture(n).subscribe({next:c=>{c.code==200?(this._notificationService.openSnackBarSuccess(c),this.getRupture()):c.code==404&&this._notificationService.openSnackBarError(c)},error:c=>{c.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}})}updateRupture(){if(this.rupture_motif==""){this._notificationService.openSnackBarSimpleError("motif aubligatoire");return}let n={rupture_motif:this.rupture_motif.toUpperCase(),date_rupture:this.date_rupture.toUpperCase()};this.is_loading=!0,this._rupture.updateRupture(n,this.item_slug).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this.is_loading=!1},1e3):(a.code==302||a.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}formatDate(n){let a=n.toLocaleString("default",{year:"numeric"}),o=n.toLocaleString("default",{month:"2-digit"}),c=n.toLocaleString("default",{day:"2-digit"});return a+"-"+o+"-"+c}};m.\u0275fac=function(a){return new(a||m)(h(ne),h(zt),h(A),h(H),h(j),h(he),h(ee))},m.\u0275cmp=B({type:m,selectors:[["app-ch-rupture-contrat"]],standalone:!0,features:[P],decls:122,vars:13,consts:[["guideInfo","matMenu"],["Date_rupture",""],["beforeMenu","matMenu"],[1,"hero-body"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-md-7"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title","fw-bolder","fs-5"],["mat-button","",1,"default__btn__lg","text-dark"],[1,"example-tab-icon"],[1,"fw-bolder","text-white","fs-5"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],["mat-mini-fab","",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item",""],[1,"text-primary"],[1,""],[1,"fw-bolder"],[1,"text-red"],[1,"text-warning"],[1,"card-body"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"table-responsive","mt-4"],[1,"table","table-striped","m-0"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],[1,"col-md-5"],[1,"hero-header"],[1,"col-xxl-12"],[1,"row","justify-content-center"],[1,"d-flex","justify-content-center"],["mat-fab","","extended","",1,"me-2"],[1,"row","gx-3","justify-content-center","mb-3"],[1,"col-lg-12"],["appearance","outline"],[3,"selectionChange"],[1,"fw-bolder",3,"value"],["for","texte",1,"fs-4","justify-content-center"],["placeholder","rupture...",3,"ngModelChange","ngModel"],[1,"row","gx-3","mb-3"],[1,"col-lg-12","col-md-12","text-center","mb-2"],[1,"text-center","mb-3"],[1,"col-lg-12","col-md-12"],["matInput","","placeholder","00/00/0000",3,"ngModelChange","ngModel","matDatepicker"],["matIconSuffix","",3,"for"],[1,"row","gx-3","mb-3","justify-content-center"],[1,"col-lg-8","col-md-12","text-center"],["mat-fab","","extended","","color","primary"],["type","ball-circus","size","large","color","#ef8f01"],[2,"color","#fff","font-size","1.2rem"],["role","button",1,"taille-texte",3,"click"],[1,"text-truncate",2,"width","200px",3,"innerHTML"],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],["mat-fab","","extended","","color","primary",3,"click"]],template:function(a,o){if(a&1){let c=T();t(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"button",10)(8,"mat-icon",11),i(9,"view_list"),e(),t(10,"span",12),i(11,"Liste des ruptures"),e()(),t(12,"button",13),i(13),e()(),t(14,"div")(15,"button",14)(16,"mat-icon"),i(17,"info"),e()(),t(18,"mat-menu",15,0)(20,"button",16)(21,"mat-icon",17),i(22,"verified"),e(),t(23,"span",18),i(24,"Indique qu'une permission a \xE9t\xE9"),t(25,"code",19),i(26,"valid\xE9e"),e()()(),t(27,"button",16)(28,"mat-icon",20),i(29,"verified"),e(),t(30,"span"),i(31,"Indique qu'une permission a \xE9t\xE9 "),t(32,"code",19),i(33," rejet\xE9e "),e()()(),t(34,"button",16)(35,"mat-icon",17),i(36,"check_circle"),e(),t(37,"span"),i(38,"Indique que la permission a \xE9t\xE9 "),t(39,"code",19),i(40,"consult\xE9e"),e()()(),t(41,"button",16)(42,"mat-icon",21),i(43,"check_circle"),e(),t(44,"span"),i(45,"Indique une "),t(46,"code",19),i(47,"nouvelle gratifications"),e(),i(48," de permission "),e()()()()(),t(49,"div",22)(50,"div",5)(51,"div",23)(52,"div",24)(53,"table",25)(54,"thead")(55,"tr")(56,"th"),i(57,"#ID"),e(),t(58,"th"),i(59,"Motif de rupture"),e(),t(60,"th"),i(61,"Emplpy\xE9"),e(),t(62,"th"),i(63,"Date de rupture"),e(),t(64,"th"),i(65,"Actions"),e()()(),t(66,"tbody"),F(67,da,35,15,"tr",null,V),D(69,"paginate"),e()()(),t(70,"div",26)(71,"pagination-controls",27),v("pageChange",function(d){return _(c),f(o.p=d)}),e()()()()()()(),t(72,"div",28)(73,"div",29)(74,"div",4)(75,"div",5)(76,"div",30)(77,"div",7)(78,"div",22)(79,"div",31)(80,"div",32)(81,"button",33)(82,"mat-icon"),i(83,"assignment_add"),e(),i(84," Formulaire de rupture "),e()()()()()()()()(),t(85,"div",3)(86,"div",5)(87,"div",23)(88,"div",7)(89,"div",22)(90,"div",34)(91,"div",35)(92,"mat-form-field",36)(93,"mat-label"),i(94,"Emlpoy\xE9"),e(),t(95,"mat-select",37),v("selectionChange",function(d){return _(c),f(o.onChangeListeemploye(d))}),F(96,ca,2,2,"mat-option",38,V),e()()(),t(98,"div",35)(99,"label",39),i(100,"Motif de la rupture"),e(),t(101,"angular-editor",40),M("ngModelChange",function(d){return _(c),b(o.rupture_motif,d)||(o.rupture_motif=d),f(d)}),e()(),t(102,"div",41)(103,"div",42)(104,"h1",43),i(105,"Date de la rupture"),e()(),t(106,"div",31)(107,"div",44)(108,"mat-form-field",36)(109,"mat-label"),i(110,"Date de la rupture"),e(),t(111,"input",45),M("ngModelChange",function(d){return _(c),b(o.date_rupture,d)||(o.date_rupture=d),f(d)}),e(),S(112,"mat-datepicker-toggle",46)(113,"mat-datepicker",null,1),e()()(),t(115,"div",47)(116,"div",48),w(117,pa,4,0,"button",49)(118,ua,4,0,"button",49),e()()()()()()()()()()()()(),t(119,"ngx-spinner",50)(120,"p",51),i(121," Chargement en cours... "),e()()}if(a&2){let c=I(19),p=I(114);l(13),C(" ",o.rupture_counter," "),l(2),u("matMenuTriggerFor",c),l(52),L(k(69,8,o.list_rupture,q(11,sa,o.p))),l(29),L(o.list_employes),l(5),y("ngModel",o.rupture_motif),l(10),y("ngModel",o.date_rupture),u("matDatepicker",p),l(),u("for",p),l(5),g(117,o.is_update==!1?117:-1),l(),g(118,o.is_update==!0?118:-1)}},dependencies:[xe,R,ae,oe,re,W,te,le,Ce,X,Z,fe,be,Ee,$,Me,we,Te,O,Se,N,J,Q,K,U,z,$e,lt,rt,Y,me,de,ie]});let r=m;return r})();var bi=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=B({type:m,selectors:[["app-ch-programme-conge"]],standalone:!0,features:[P],decls:2,vars:0,template:function(a,o){a&1&&(t(0,"p"),i(1,"ch-programme-conge works!"),e())}});let r=m;return r})();var Mi=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=B({type:m,selectors:[["app-ch-list-programme"]],standalone:!0,features:[P],decls:2,vars:0,template:function(a,o){a&1&&(t(0,"p"),i(1,"ch-list-programme works!"),e())}});let r=m;return r})();var _a=[{path:"capital-humain",component:Gt,data:{title:"Capital humain"}},{path:"ch.employees-infos",component:vi,data:{title:"Liste des information des employes"}},{path:"ch.employees",component:Jt,data:{title:"Liste employes"}},{path:"ch.detail.employes/:slug",component:Xt,data:{title:"D\xE9tail employes"}},{path:"ch.create-pointing",component:Qt,data:{title:"Nouveau pointage"}},{path:"ch.pointages",component:Kt,data:{title:"Liste pr\xE9sences"}},{path:"ch.faire-demande",component:Yt,data:{title:"Faire une demande"}},{path:"ch.conges",component:oi,data:{title:"Liste des conges"}},{path:"ch.edit-conges/:slug",component:hi,data:{title:"Modifier un cong\xE9"}},{path:"ch.permissions",component:fi,data:{title:"Liste permissions"}},{path:"ch.edit-permissions/:slug",component:gi,data:{title:"Modifier permission"}},{path:"ch.dossiers-employes",component:si,data:{title:"Liste des dossiers"}},{path:"ch.detail-dossiers/:dossiers_code/:slug",component:di,data:{title:"Detail du dossier"}},{path:"ch.missions",component:Si,data:{title:"Programmer une mission"}},{path:"ch.list-misson",component:Ci,data:{title:"Liste des missions"}},{path:"ch.programme-conge",component:bi,data:{title:"Programme des cong\xE9s"}},{path:"ch.list-programme-conge",component:Mi,data:{title:"Liste des programmes des cong\xE9s"}},{path:"ch.edit-mission/:slug",component:yi,data:{title:"Modifier une mission"}},{path:"ch.rupture-contrat",component:Bt,data:{title:"Rupture Contrat"}},{path:"ch.salary",component:ai,data:{title:"Liste salaire des emply\xE9s"}},{path:"ch.evaluations",component:ri,data:{title:"Evaluation des employes"}},{path:"ch.dotation",component:Nt,data:{title:"Dotation de materiel"}},{path:"ch.rupture-contrat",component:Bt,data:{title:"Rupture de contrat"}}],wi=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275mod=ht({type:m}),m.\u0275inj=ft({imports:[O.forChild(_a),O]});let r=m;return r})();var mm=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275mod=ht({type:m}),m.\u0275inj=ft({imports:[xe,wi]});let r=m;return r})();export{mm as CapitalHumainManagerLayoutModule};
