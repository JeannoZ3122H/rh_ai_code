import{a as Gt,b as Jt,c as Oe,d as ft}from"./chunk-KDNMVFFO.js";import{a as tt}from"./chunk-IAYGIRSF.js";import{a as me,b as ce,c as J,d as O,e as W,f as z,g as de,h as K,i as gt,j as ht,k as Zt,l as Qt,m as Kt}from"./chunk-45FSDZZ2.js";import{a as Ge}from"./chunk-OWUE2ZMH.js";import{$ as Wt,Aa as $e,Ba as ye,Ca as we,D as ee,Da as Te,E as te,Ea as ke,F as ie,G as j,Ga as ve,I as D,Ia as Xe,J as Ot,Ja as et,Ka as _t,L as Ue,La as T,M as ne,Ma as Yt,N as Ye,Oa as $t,Pa as L,Qa as B,U as oe,V as ae,W as re,Z as mt,_ as A,a as Ut,ca as $,da as ct,fa as Ke,ga as G,ia as Ne,k as Nt,ka as dt,la as pt,m as I,ma as ut,n as st,na as ge,oa as Se,pa as le,q as N,qa as be,ra as Ce,sa as he,ta as Me,u as je,va as se,xa as zt,ya as Ht,za as qt}from"./chunk-VAZIEAYM.js";import{$a as s,$b as P,Bb as q,Cb as Y,Db as t,Eb as i,Fb as S,Jb as b,Kc as Ze,Mb as u,Nc as jt,Ob as _,Tb as Pt,Ub as Vt,Uc as Qe,Vb as Rt,Wb as F,Xb as n,Xc as X,Ya as De,Yb as v,Zb as w,_b as it,ab as d,ac as V,bc as R,ca as Ft,cc as He,da as at,dc as E,fc as Z,ha as rt,hc as y,ic as Le,jc as k,na as C,oa as lt,rb as M,tb as x,tc as qe,wa as f,wb as ze,xa as g,yb as h,zb as H}from"./chunk-YXL6XVMF.js";var Xt=(()=>{let l=class l{};l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=C({type:l,selectors:[["app-gratification"]],standalone:!0,features:[E],decls:2,vars:0,template:function(e,a){e&1&&(t(0,"p"),n(1,"gratification works!"),i())}});let r=l;return r})();var Ai=["chart"];function Di(r,l){if(r&1&&(t(0,"div",21),S(1,"apx-chart",24),i()),r&2){let m=_();s(),x("series",m.chartOptions.series)("chart",m.chartOptions.chart)("yaxis",m.chartOptions.yaxis)("xaxis",m.chartOptions.xaxis)("labels",m.chartOptions.labels)("stroke",m.chartOptions.stroke)("plotOptions",m.chartOptions.plotOptions)("markers",m.chartOptions.markers)("colors",m.chartOptions.colors)("fill",m.chartOptions.fill)("tooltip",m.chartOptions.tooltip)}}function Li(r,l){if(r&1&&(t(0,"div",21),S(1,"apx-chart",25),i()),r&2){let m=_();s(),x("series",m.chartOptions2.series)("chart",m.chartOptions2.chart)("xaxis",m.chartOptions2.xaxis)("fill",m.chartOptions2.fill)("tooltip",m.chartOptions2.tooltip)("colors",m.chartOptions2.colors)}}var ei=(()=>{let l=class l{constructor(o,e,a,c){this._traitement=o,this._notificationService=e,this._router=a,this._loading=c,this.employees=0,this.employees_men=0,this.employees_women=0,this.courriers=0,this.courriers_treated=0,this.courriers_untreated=0,this.courriers_imputed_responsable=0,this.courriers_imputed_agents=0}ngOnInit(){this._loading.show_loading(),setTimeout(()=>{this.getStatistiqueData(),this.getAdminCourrierManagerStatistique(),this._loading.hide_loading()},1e3)}globalStatistique(o,e,a,c){return this.chartOptions={series:[{name:"TOTAL PUBLICATIONS",type:"column",data:o},{name:"PLUS VUES",type:"area",data:e},{name:"MOINS VUES",type:"line",data:a}],chart:{height:350,type:"line",stacked:!1},stroke:{width:[0,2,5],curve:"smooth"},plotOptions:{bar:{columnWidth:"10%"}},fill:{opacity:[.85,.25,1],gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.85,opacityTo:.55,stops:[0,100,100,100]}},labels:c,markers:{size:0,opacity:.3,colors:["#ef9100","#f2a1a8"],strokeColor:"#ffffff",strokeWidth:2,hover:{size:7}},xaxis:{type:"date"},yaxis:{title:{text:"Publications"},min:0},colors:["#1f7554","#0DB84F","#ef9100"],tooltip:{shared:!0,intersect:!1,y:{formatter:function(p){return typeof p<"u"?p.toFixed(0)+" Publications":p}}}}}globalStatistique_2(o,e,a){return this.chartOptions2={chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"stepline",width:3},series:[{name:"NBRE PERMISSIONS",data:o},{name:"NBRE CONG\xC9S",data:e}],fill:{opacity:[.85,.25,1],gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.85,opacityTo:.55,stops:[0,100,100,100]}},tooltip:{shared:!0,intersect:!1,y:{formatter:function(c){return typeof c<"u"?c.toFixed(0)+" Demandes":c}}},grid:{borderColor:"#e0e6ed",strokeDashArray:5,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:0,right:0,bottom:10,left:0}},xaxis:{categories:a},yaxis:{labels:{show:!1}},colors:["#1f7554","#ef9100"],markers:{size:0,opacity:.3,colors:["#ef9100","#f2a1a8"],strokeColor:"#ffffff",strokeWidth:2,hover:{size:7}}}}getStatistiqueData(){this._traitement.getAdminStatistique().subscribe({next:o=>{console.log(o),this.employees=o.all_employee,this.employees_men=o.all_employee_men,this.employees_women=o.all_employee_women},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getAdminCourrierManagerStatistique(){this._traitement.getAdminCourrierManagerStatistique().subscribe({next:o=>{this.globalStatistique(o.total_courriers,o.courrier_traiter,o.courrier_non_traiter,o.month),this.globalStatistique_2(o.courrier_imputed,o.courrier_not_imputed,o.month)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(L),d(B),d(I),d(z))},l.\u0275cmp=C({type:l,selectors:[["app-admin-welcome"]],viewQuery:function(e,a){if(e&1&&Pt(Ai,5),e&2){let c;Vt(c=Rt())&&(a.chart=c.first)}},standalone:!0,features:[E],decls:51,vars:6,consts:[[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-4","col-md-4","col-sm-6"],[1,"stats-tile","d-flex","align-items-center","position-relative","tile-yellow"],[1,"sale-icon","icon-box","xl","rounded-5","me-3"],[1,"analytic-icon"],[1,"sale-details"],[1,"text-light","fs-5","fw-bolder"],[1,"fw-bolder","fs-4"],[1,"tile-count","d-flex","align-items-center","justify-content-center","flex-column","fw-bold","yellow"],[1,"bi","bi-arrow-up-circle-fill","font-1x"],[1,"col-xxl-4","col-md-4","col-sm-6","col-12"],[1,"stats-tile","d-flex","align-items-center","position-relative","tile-blue"],[1,"tile-count","d-flex","align-items-center","justify-content-center","flex-column","fw-bold","blue"],[1,"stats-tile","d-flex","align-items-center","position-relative","tile-green"],[1,"tile-count","d-flex","align-items-center","justify-content-center","flex-column","fw-bold","green"],[1,"bi","bi-arrow-down-circle-fill","font-1x"],[1,"hero-body"],[1,"row","g-3","mb-3"],[1,"col-sm-12","col-lg-6"],[1,"d-flex","flex-column","p-4","rounded-2","box-bdr-yellow","stats-tile"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[3,"series","chart","yaxis","xaxis","labels","stroke","plotOptions","markers","colors","fill","tooltip"],[3,"series","chart","xaxis","fill","tooltip","colors"]],template:function(e,a){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"mat-icon",6),n(7,"peoples"),i()(),t(8,"div",7)(9,"h3",8),n(10,"Total employ\xE9 "),i(),t(11,"h3",9),n(12),i()(),t(13,"div",10),S(14,"i",11)(15,"span"),i()()(),t(16,"div",12)(17,"div",13)(18,"div",5)(19,"mat-icon",6),n(20,"peoples"),i()(),t(21,"div",7)(22,"h3",8),n(23,"Hommes "),i(),t(24,"h3",9),n(25),i()(),t(26,"div",14),S(27,"i",11)(28,"span"),i()()(),t(29,"div",12)(30,"div",15)(31,"div",5)(32,"mat-icon",6),n(33,"peoples"),i()(),t(34,"div",7)(35,"h5",8),n(36,"Femme"),i(),t(37,"h3",9),n(38),i()(),t(39,"div",16),S(40,"i",17)(41,"span"),i()()()()()(),t(42,"div",18)(43,"div",19)(44,"div",20),M(45,Di,2,11,"div",21),i(),t(46,"div",20),M(47,Li,2,6,"div",21),i()()(),t(48,"ngx-spinner",22)(49,"p",23),n(50," Chargement en cours... "),i()()),e&2&&(s(12),v(a.employees),s(13),v(a.employees_men),s(13),v(a.employees_women),s(7),h(45,a.chartOptions?45:-1),s(2),h(47,a.chartOptions2?47:-1),s(),x("fullScreen",!0))},dependencies:[J,Jt,Gt,T,j,W,O],styles:[".text-start[_ngcontent-%COMP%]{text-align:left!important;color:#fff!important}"]});let r=l;return r})();var Fi=r=>({itemsPerPage:20,currentPage:r}),Pi=r=>["/admin.detail.employes",r];function Vi(r,l){if(r&1&&(t(0,"mat-option",27),n(1),i()),r&2){let m=l.$implicit;x("value",m.id),s(),v(m.service)}}function Ri(r,l){if(r&1&&(t(0,"mat-option",27),n(1),i()),r&2){let m=l.$implicit;x("value",m.abrev),s(),v(m.status)}}function ji(r,l){r&1&&(t(0,"span",42),n(1," Responsable "),i())}function Ui(r,l){r&1&&(t(0,"span",42),n(1," Agent "),i())}function Ni(r,l){r&1&&(t(0,"button",43)(1,"mat-icon",15),n(2,"verified"),i()())}function Oi(r,l){r&1&&(t(0,"button",44)(1,"mat-icon",18),n(2,"pending"),i()())}function Wi(r,l){r&1&&(t(0,"button",45)(1,"mat-icon",15),n(2,"check_circle"),i()())}function zi(r,l){r&1&&(t(0,"button",46)(1,"mat-icon",50),n(2,"check_circle"),i()())}function Hi(r,l){if(r&1){let m=b();t(0,"button",49),u("click",function(){f(m);let e=_().$implicit,a=_();return g(a.openEmployeAccountDialog(e))}),t(1,"mat-icon"),n(2,"account_circle"),i(),n(3," Ouvrir un compte "),i()}}function qi(r,l){if(r&1){let m=b();t(0,"tr")(1,"td",35)(2,"p",36),n(3),i()(),t(4,"td")(5,"div",37)(6,"a",38),S(7,"img",39),i(),t(8,"div")(9,"p",40),n(10),i(),t(11,"p",41),n(12),i()()()(),t(13,"td",30)(14,"p",36),n(15),i()(),t(16,"td",30)(17,"p",36),n(18),y(19,"transformText"),i()(),t(20,"td",30)(21,"p",36),n(22),y(23,"transformText"),i()(),t(24,"td",30),M(25,ji,2,0,"span",42)(26,Ui,2,0,"span",42),i(),t(27,"td",30),M(28,Ni,3,0,"button",43)(29,Oi,3,0,"button",44),i(),t(30,"td",30),M(31,Wi,3,0,"button",45)(32,zi,3,0,"button",46),i(),t(33,"td",30)(34,"p",36),n(35),y(36,"transformDate"),i()(),t(37,"td",47)(38,"button",48)(39,"mat-icon"),n(40,"more_vert"),i()(),t(41,"mat-menu",13,1),M(43,Hi,4,0,"button",14),t(44,"button",49),u("click",function(){let e=f(m).$implicit,a=_();return g(a.showEmployeDetails(e.slug))}),t(45,"mat-icon"),n(46,"visibility"),i(),n(47," Consulter "),i(),t(48,"button",49),u("click",function(){let e=f(m).$implicit,a=_();return g(a.openDeleDialog(e.slug))}),t(49,"mat-icon"),n(50,"delete"),i(),n(51," Supprimer "),i()()()()}if(r&2){let m=l.$implicit,o=F(42);s(3),w(" ",m.matricule," "),s(3),x("routerLink",Z(24,Pi,m.slug)),s(),x("src",m.photo,De),s(3),w(" ",m.first_name+" "+m.last_name," "),s(2),w(" ",m.adresse_email," "),s(3),v(m.profession),s(3),v(Le(19,17,m.fonction)),s(4),v(Le(23,19,m.service)),s(3),h(25,m.is_responsible==1?25:-1),s(),h(26,m.is_agents==1?26:-1),s(2),h(28,m.status_dossiers==1?28:-1),s(),h(29,m.status_dossiers==0?29:-1),s(2),h(31,m.account_created==1?31:-1),s(),h(32,m.account_created==0?32:-1),s(3),v(k(36,21,m.created_at,"d MMMM yyyy, \xE0 HH:mm")),s(3),x("matMenuTriggerFor",o),s(5),h(43,m.account_created===0?43:-1)}}function Yi(r,l){r&1&&(t(0,"tr")(1,"td",51)(2,"h1",30),n(3,"Aucune donn\xE9es pour le moment"),i()()())}var ti=(()=>{let l=class l{constructor(o,e,a,c,p){this._dialog=o,this._traitement=e,this._notificationService=a,this._loading=c,this._router=p,this.list_employes=[],this.list_service=[],this.p=1,this.status_list=[{id:1,status:"Responsable de service",abrev:"RS"},{id:2,status:"Agent de service",abrev:"AS"}],this.status=""}ngOnInit(){this.getEmployeList(),this.getServiceList()}searchInTable(){this._loading.show_loading(),this._traitement.filterByQuery(this.search).subscribe({next:o=>{setTimeout(()=>{this.list_employes=o,this._loading.hide_loading()},500)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openEmployeAccountDialog(o){this._dialog.open(ft,{width:"auto",data:o}).afterClosed().subscribe({next:a=>{this.getEmployeList()}})}showEmployeDetails(o){this._router.navigate(["/admin.detail.employes",o])}getServiceList(){this._traitement.getService().subscribe({next:o=>{setTimeout(()=>{this.list_service=o},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}selectService(o){this.service=o.value,this._loading.show_loading(),this._traitement.filterByService(this.service).subscribe({next:e=>{setTimeout(()=>{this.list_employes=e,this._loading.hide_loading()},500)},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}selectStatus(o){this.status=o.value,this._loading.show_loading(),this._traitement.filterByStatus(this.status).subscribe({next:e=>{setTimeout(()=>{this.list_employes=e,this._loading.hide_loading()},500)},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getEmployeList(){this._loading.show_loading(),this._traitement.getEmployes().subscribe({next:o=>{setTimeout(()=>{this.list_employes=o,this._loading.hide_loading()},700)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(K,{width:"auto"}).afterClosed().subscribe({next:a=>{a=="confirm"&&this.deleteEmployes(o)}})}deleteEmployes(o){this._loading.show_loading(),this._traitement.deleteEmployes(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSimpleSuccess(e),this._loading.hide_loading(),this.getEmployeList()},1e3):(e.code==302||e.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(le),d(L),d(B),d(z),d(I))},l.\u0275cmp=C({type:l,selectors:[["app-admin-list-employees"]],standalone:!0,features:[E],decls:92,vars:9,consts:[["guideInfo","matMenu"],["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"hero-body","mb-3"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],["mat-button","",1,"text-white","fw-bolder","fs-5"],["mat-mini-fab","","matTooltip","Info","matTooltipPosition","above",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item",""],[1,"text-primary"],[1,""],[1,"fw-bolder"],[1,"text-blue"],[1,"card-body"],[1,"row","justtify-content-between","mb-3"],[1,"col-lg-4","col-md-4","col-sm-12"],["matInput","","placeholder","Rechercher par matricule, nom ou pr\xE9nom",3,"ngModelChange","ngModel"],["mat-mini-fab","","color","primary","matSuffix","",3,"click"],[1,"col-lg-4","col-md-5","col-sm-12"],[3,"selectionChange"],["value","all",1,"text-uppercase"],[3,"value"],[1,"table-responsive"],[1,"table","table-striped","m-0"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"text-center",2,"white-space","unset !important"],[1,"fw-600"],[1,"d-flex","align-items-center"],[3,"routerLink"],["alt","Employe photo",1,"img-2x","rounded-5","me-3",3,"src"],[1,"m-0","fw-600","text-primary"],[1,"m-0","fw-600","text-red"],[1,"badge","shade-dark","fw-bolder"],["matTooltip","Dossier valid\xE9","mat-icon-button",""],["matTooltip","En entente de validation de dossier","mat-icon-button",""],["matTooltip","Compte actif","mat-icon-button",""],["matTooltip","Compte inactif","mat-icon-button",""],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"text-red"],["colspan","10",1,"text-center"]],template:function(e,a){if(e&1){let c=b();t(0,"div",2)(1,"div",3)(2,"div",4),S(3,"div",5),i()()(),t(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"button",11)(10,"mat-icon"),n(11,"list"),i(),n(12," Liste des employ\xE9s "),i(),t(13,"button",12)(14,"mat-icon"),n(15,"info"),i()(),t(16,"mat-menu",13,0)(18,"button",14)(19,"mat-icon",15),n(20,"verified"),i(),t(21,"span",16),n(22,"Indique que le dossier a \xE9t\xE9 "),t(23,"code",17),n(24,"valid\xE9"),i()()(),t(25,"button",14)(26,"mat-icon",18),n(27,"pending"),i(),t(28,"span"),n(29,"Indique que le dossier est en entente d' "),t(30,"code",17),n(31,"validation"),i()()()()(),t(32,"div",19)(33,"div",20)(34,"div",21)(35,"mat-form-field")(36,"mat-label"),n(37,"Rechercher par matricule, nom ou pr\xE9nom"),i(),t(38,"input",22),R("ngModelChange",function(Q){return f(c),V(a.search,Q)||(a.search=Q),g(Q)}),i(),t(39,"button",23),u("click",function(){return f(c),g(a.searchInTable())}),t(40,"mat-icon"),n(41,"search"),i()()()(),t(42,"div",24)(43,"mat-form-field")(44,"mat-label"),n(45,"Rechercher par service"),i(),t(46,"mat-select",25),u("selectionChange",function(Q){return f(c),g(a.selectService(Q))}),t(47,"mat-option",26),n(48,"Tous les services"),i(),q(49,Vi,2,2,"mat-option",27,H),i()()(),t(51,"div",24)(52,"mat-form-field")(53,"mat-label"),n(54,"Rechercher par statut"),i(),t(55,"mat-select",25),u("selectionChange",function(Q){return f(c),g(a.selectStatus(Q))}),q(56,Ri,2,2,"mat-option",27,H),i()()()(),t(58,"div",28)(59,"table",29)(60,"thead")(61,"tr")(62,"th",30),n(63,"Matricule"),i(),t(64,"th",30),n(65,"Employ\xE9"),i(),t(66,"th",30),n(67,"Profession"),i(),t(68,"th",30),n(69,"Fonction"),i(),t(70,"th",30),n(71,"Service"),i(),t(72,"th",30),n(73,"Responsabilit\xE9"),i(),t(74,"th",30),n(75,"Dossier"),i(),t(76,"th",30),n(77,"Compte"),i(),t(78,"th",30),n(79,"Date de cr\xE9ation"),i(),t(80,"th",30),n(81,"Actions"),i()()(),t(82,"tbody"),q(83,qi,52,26,"tr",null,H),y(85,"paginate"),M(86,Yi,4,0,"tr"),i()(),t(87,"div",31)(88,"pagination-controls",32),u("pageChange",function(Q){return f(c),g(a.p=Q)}),i()()()()()()()(),t(89,"ngx-spinner",33)(90,"p",34),n(91," Chargement en cours... "),i()()}if(e&2){let c=F(17);s(13),x("matMenuTriggerFor",c),s(25),P("ngModel",a.search),s(11),Y(a.list_service),s(7),Y(a.status_list),s(27),Y(k(85,4,a.list_employes,Z(7,Fi,a.p))),s(3),h(86,a.list_employes.length==0?86:-1),s(3),x("fullScreen",!0)}},dependencies:[W,O,T,te,ee,ie,j,D,Ye,ne,G,$,Ke,Ne,je,se,$e,J,me,ce,A,oe,ae,re,de,Oe,N,st]});let r=l;return r})();function $i(r,l){r&1&&S(0,"mat-progress-bar",1)}function Gi(r,l){if(r&1){let m=b();t(0,"button",11),u("click",function(){f(m);let e=_();return g(e.updateRole())}),n(1,"Modifier"),i()}}function Ji(r,l){if(r&1){let m=b();t(0,"button",11),u("click",function(){f(m);let e=_();return g(e.saveRole())}),n(1,"Enregistrer"),i()}}var Et=(()=>{let l=class l{constructor(o,e,a,c,p){this._notificationService=o,this._router=e,this._traitement=a,this.data=c,this._dialogRef=p,this.role="",this.is_update=!1,this.is_loading=!1}ngOnInit(){this.data!=null&&(this.is_update=!0,this.role=this.data.role,this.item_slug=this.data.slug)}saveRole(){if(this.role==""){this._notificationService.openSnackBarSimpleError("Le r\xF4le est obligatoire");return}let o={role:this.role};this.is_loading=!0,this._traitement.saveRole(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateRole(){if(this.role==""){this._notificationService.openSnackBarSimpleError("Le r\xF4le est obligatoire");return}let o={role:this.role};this.is_loading=!0,this._traitement.updateRole(o,this.item_slug).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(B),d(I),d(L),d(Se),d(ge))},l.\u0275cmp=C({type:l,selectors:[["app-user-role-dialog"]],standalone:!0,features:[E],decls:17,vars:4,consts:[["mat-dialog-title",""],["mode","indeterminate"],["mat-dialog-content",""],[1,"row","mt-2"],[1,"col-md-12","col-lg-12"],["appearance","outline"],[1,"fs-4"],["matInput","","placeholder","Le r\xF4le",3,"ngModelChange","ngModel"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-raised-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","warn"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,a){e&1&&(t(0,"h1",0),n(1,"Nouvel site"),i(),M(2,$i,1,0,"mat-progress-bar",1),t(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),n(8,"Le r\xF4le "),t(9,"code",6),n(10,"*"),i()(),t(11,"input",7),R("ngModelChange",function(p){return V(a.role,p)||(a.role=p),p}),i()()()()(),t(12,"div",8)(13,"button",9),n(14,"Annuler"),i(),M(15,Gi,2,0,"button",10)(16,Ji,2,0,"button",10),i()),e&2&&(s(2),h(2,a.is_loading==!0?2:-1),s(9),P("ngModel",a.role),s(4),h(15,a.is_update==!0?15:-1),s(),h(16,a.is_update==!1?16:-1))},dependencies:[X,T,D,G,$,be,Ce,Me,he,se,ve,A,oe,ae,re]});let r=l;return r})();var Zi=r=>({itemsPerPage:10,currentPage:r});function Qi(r,l){if(r&1){let m=b();t(0,"tr")(1,"td",14),n(2),i(),t(3,"td",14)(4,"p",19),n(5),i()(),t(6,"td",14),n(7),y(8,"transformDate"),i(),t(9,"td",14)(10,"button",20)(11,"mat-icon"),n(12,"more_vert"),i()(),t(13,"mat-menu",21,0)(15,"button",22),u("click",function(){let e=f(m).$implicit,a=_();return g(a.updateRole(e))}),t(16,"mat-icon"),n(17,"border_color"),i(),n(18," Modifier "),i(),t(19,"button",22),u("click",function(){let e=f(m).$implicit,a=_();return g(a.openDeleDialog(e.slug))}),t(20,"mat-icon"),n(21,"delete"),i(),n(22," Supprimer "),i()()()()}if(r&2){let m=l.$implicit,o=l.$index,e=F(14);s(2),v(o+1),s(3),w("",m.role," "),s(2),v(k(8,4,m.created_at," d MMMM YYYY ")),s(3),x("matMenuTriggerFor",e)}}var ii=(()=>{let l=class l{constructor(o,e,a,c,p){this._dialog=o,this._traitement=e,this._notificationService=a,this._loading=c,this._router=p,this.list_role=[],this.p=1}ngOnInit(){this.getRoleList()}openRoleDialog(){this._dialog.open(Et,{width:"auto"}).afterClosed().subscribe({next:e=>{e&&this.getRoleList()}})}updateRole(o){this._dialog.open(Et,{width:"auto",data:o}).afterClosed().subscribe({next:a=>{a&&this.getRoleList()}})}getRoleList(){this._loading.show_loading(),this._traitement.getRoles().subscribe({next:o=>{setTimeout(()=>{this.list_role=o,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(K,{width:"auto"}).afterClosed().subscribe({next:a=>{a=="confirm"&&this.deleteRole(o)}})}deleteRole(o){this._loading.show_loading(),this._traitement.destroyRole(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.getRoleList(),this._loading.hide_loading()},1e3):(e.code==302||e.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(le),d(L),d(B),d(z),d(I))},l.\u0275cmp=C({type:l,selectors:[["app-user-role-list"]],standalone:!0,features:[E],decls:40,vars:6,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"mat-elevation-z8"],[1,"d-flex","justify-content-between"],["mat-button","",1,"text-uppercase","default__btn__lg"],["mat-raised-button","","color","primary",1,"text-uppercase","default__btn__lg",3,"click"],[1,"table-responsive"],[1,"table","table-striped","mt-3"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"mb-0","fw-bolder"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"]],template:function(e,a){e&1&&(t(0,"div",1)(1,"div",2)(2,"div",3),S(3,"div",4),i()()(),t(4,"div",5)(5,"div",6)(6,"div",7)(7,"mat-card",8)(8,"mat-card-header",9)(9,"mat-card-title")(10,"button",10)(11,"mat-icon"),n(12,"list"),i(),n(13," Liste des roles "),i()(),t(14,"button",11),u("click",function(){return a.openRoleDialog()}),t(15,"mat-icon"),n(16,"add"),i(),n(17," Nouvel role "),i()(),t(18,"mat-card-content")(19,"div",12)(20,"table",13)(21,"thead")(22,"tr")(23,"th",14),n(24,"#Id"),i(),t(25,"th",14),n(26,"Le role"),i(),t(27,"th",14),n(28,"Date de cr\xE9ation"),i(),t(29,"th",14),n(30,"Actions"),i()()(),t(31,"tbody"),q(32,Qi,23,7,"tr",null,H),y(34,"paginate"),i()(),t(35,"div",15)(36,"pagination-controls",16),u("pageChange",function(p){return a.p=p}),i()()()()()()()(),t(37,"ngx-spinner",17)(38,"p",18),n(39," Chargement en cours... "),i()()),e&2&&(s(32),Y(k(34,1,a.list_role,Z(4,Zi,a.p))),s(5),x("fullScreen",!0))},dependencies:[W,O,T,te,ee,ie,j,D,ne,ye,Te,ke,we,J,me,ce,A,de,N]});let r=l;return r})();function Xi(r,l){r&1&&S(0,"mat-progress-bar",9)}function en(r,l){r&1&&(t(0,"div",18)(1,"mat-icon",57),n(2,"notifications"),i(),n(3," Vous avez d\xE9j\xE0 donn\xE9 votre approbation \xE0 ce cong\xE9. "),i())}function tn(r,l){r&1&&(t(0,"div",19)(1,"mat-icon",12),n(2,"notifications"),i(),n(3," Vous avez d\xE9j\xE0 donn\xE9 votre approbation \xE0 ce cong\xE9. "),i())}function nn(r,l){if(r&1){let m=b();t(0,"div",20)(1,"mat-radio-group",58),u("change",function(e){f(m);let a=_();return g(a.congeDecisionChange(e))}),t(2,"mat-radio-button",59)(3,"span",60),n(4,"Approuver"),i()(),t(5,"mat-radio-button",61)(6,"span",60),n(7,"Rejeter"),i()()()()}}function on(r,l){if(r&1){let m=b();t(0,"div",20)(1,"mat-form-field",62)(2,"mat-label"),n(3,"Laissez une note sur la d\xE9cision..."),i(),t(4,"textarea",63),R("ngModelChange",function(e){f(m);let a=_();return V(a.decision_comments,e)||(a.decision_comments=e),g(e)}),i(),t(5,"mat-hint",64)(6,"strong"),n(7,"Nombre de caract\xE8re limit\xE9 \xE0 160"),i()(),t(8,"mat-hint",65),n(9),i()()()}if(r&2){let m=_();s(4),P("ngModel",m.decision_comments),s(5),w("",m.decision_comments.length," / 160")}}function an(r,l){if(r&1){let m=b();t(0,"div")(1,"button",66),u("click",function(){f(m);let e=_();return g(e.saveDecision())}),n(2,"Enregistrer votre d\xE9cision"),i()()}}function rn(r,l){r&1&&(t(0,"button",52)(1,"mat-icon"),n(2,"done_outline"),i(),n(3," Cong\xE9 approuv\xE9"),i())}function ln(r,l){r&1&&(t(0,"button",53)(1,"mat-icon"),n(2,"done_outline"),i(),n(3,"Cong\xE9 r\xE9jet\xE9"),i())}function sn(r,l){r&1&&(t(0,"button",54)(1,"mat-icon"),n(2,"no_accounts"),i(),n(3," Accune action "),i())}function mn(r,l){if(r&1&&(t(0,"div",55)(1,"mat-icon",67),n(2,"notifications"),i(),n(3),i()),r&2){let m=_();s(3),w(" ",m.comments," ")}}var ai=(()=>{let l=class l{constructor(o,e,a,c,p){this._conge=o,this._notificationService=e,this._router=a,this.data=c,this._dialogRef=p,this.item_slug="",this.conge_ref="",this.type_duration="",this.date_permission="",this.motif="",this.fonction="",this.service="",this.objet_demande="",this.created_at="",this.status_on=0,this.status_off=0,this.conge_start="",this.conge_end="",this.duree_conge="",this.customer_name="",this.justificatif="",this.show_comment_box=!1,this.decision="",this.decision_comments="",this.comments="",this.loading=!1,Ze(tt)}ngOnInit(){this.data!=null&&(this.item_slug=this.data.slug),this.getCurrentCongeInfo(),this.updateIsConsultingStatus()}getCurrentCongeInfo(){this._conge.showConge(this.item_slug).subscribe({next:o=>{this.conge_data=o,this.conge_ref=o.conge_ref,this.fonction=o.fonction,this.justificatif=o.conge_file,this.service=o.service,this.conge_start=o.date_depart,this.conge_end=o.date_retour,this.duree_conge=o.duree_conge,this.customer_name=o.first_name+" "+o.last_name,this.motif=o.motif,this.created_at=o.created_at,this.objet_demande=o.objet_demande,this.status_on=o.status_on,this.status_off=o.status_off,this.comments=o.comments},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}congeDecisionChange(o){let e=o.value;e=="approved"?(this.show_comment_box=!0,this.decision=e):e=="rejected"?(this.show_comment_box=!0,this.decision=e):(this.show_comment_box=!1,this.decision="")}saveDecision(){let o={decison:this.decision,decision_comments:this.decision_comments,slug:this.item_slug};this.loading=!0,this._conge.approvedOrRejectedConge(o).subscribe({next:e=>{e.code==200?(this._notificationService.openSnackBarSuccess(e),setTimeout(()=>{this.loading=!1,this.getCurrentCongeInfo(),this.show_comment_box=!1},1e3)):(e.code==300||e.code==500||e.code==302)&&(this.loading,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateIsConsultingStatus(){this._conge.updateIsConsultingStatus(this.item_slug).subscribe({next:o=>{o.code==200?this._notificationService.openSnackBarSuccess(o):o.code==300||o.code==500||o.code==302?(this.loading,this._notificationService.openSnackBarError(o)):o.code==201&&(this.loading,this._notificationService.openSnackBarInfo(o))},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}printConge(){var o=document.querySelector("#conge_card")?.innerHTML,e=document.body.innerHTML;document.body.innerHTML=o,window.print(),document.body.innerHTML=e,location.reload()}};l.\u0275fac=function(e){return new(e||l)(d(gt),d(B),d(I),d(Se),d(ge))},l.\u0275cmp=C({type:l,selectors:[["app-admin-consulte-conges"]],standalone:!0,features:[He([{provide:qe,useValue:"fr-FR"}]),E],decls:130,vars:33,consts:[["mat-dialog-title",""],["mat-raised-button","","color","primary","mat-dialog-close",""],["mat-dialog-content","",2,"max-height","95vh"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"row"],[1,"col-lg-5","col-md-5"],[1,"card"],["mode","indeterminate"],[1,"card-header","d-flex","justify-content-between","mb-3"],[1,"me-2"],[1,"text-red"],[1,"card-title","text-primary","fs-5","fw-bolder"],[1,"text-end"],["mat-fab","",1,"",3,"click"],[1,"card-body","text-center","position-relative","pt-4"],[1,"card-title","fs-3","mb-3","text-center"],["role","alert",1,"alert","box-bdr-green","alert-dismissible","fade","show","text-green"],["role","alert",1,"alert","box-bdr-red","alert-dismissible","fade","show","text-red"],[1,"col-md-12","col-lg-12","mb-4"],[1,"col-lg-7","col-md-7"],["id","conge_card",1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","align-items-center","mb-4"],[1,"col-xl-2","col-sm-3","col-12"],["src","assets/media/logoai.png","width","100","alt","",1,"img-fluid"],[1,"col-xl-10","col-sm-9","col-12"],[1,"text-end","m-0","fw-bolder"],[1,"fw-bolder","fs-5"],[1,"col-sm-12","col-12"],[1,"text-center","mb-3"],[1,"fw-bolder","text-uppercase"],[1,"d-flex","justify-content-end","my-4"],[1,"m-0"],[1,"fw-bolder"],[1,"fw-bolder","text-red","text-uppercase"],[1,"row","gx-3","mb-2"],[1,"col-sm-12","col-12","mb-3"],[1,"fw-bolder","text-red"],[1,"col-12"],[1,"table-responsive","mb-3"],[1,"table","table-bordered"],[1,"text-center","text-uppercase"],[1,"text-center"],[1,"text-uppercase","mb-4"],[1,"fw-bolder","mb-4"],[1,"d-flex","justify-content-between"],[1,"m-0","text-start","mb-3"],[1,"fw-bolder","text-start"],["mat-flat-button","","color","primary"],["mat-flat-button","","color","warn"],["mat-flat-button","","color","accent"],["role","alert",1,"alert","alert-light","alert-dismissible","fade","show"],[1,"m-0","text-end"],[1,"text-danger"],["aria-label","Select an option",3,"change"],["value","approved"],[1,"fw-bolder","fs-4"],["value","rejected"],[1,"example-full-width"],["matInput","","maxlength","160","placeholder","Ex. permission approuv\xE9e...",3,"ngModelChange","ngModel"],["align","start"],["align","end"],["mat-raised-button","","color","primary",1,"w-100",3,"click"],[1,"text-danger","alert-icon"]],template:function(e,a){e&1&&(t(0,"h1",0),n(1," D\xE9tail du cong\xE9 "),t(2,"button",1),n(3,"Fermer"),i()(),t(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),M(11,Xi,1,0,"mat-progress-bar",9),t(12,"div",10)(13,"span",11)(14,"mat-icon",12),n(15,"notifications"),i()(),t(16,"div",13),n(17," R\xE9server au directeur "),i(),t(18,"div",14)(19,"button",15),u("click",function(){return a.printConge()}),t(20,"mat-icon"),n(21,"print"),i()()()(),t(22,"div",16)(23,"div",17),n(24,"D\xE9cision du cong\xE9"),i(),t(25,"div",6),M(26,en,4,0,"div",18)(27,tn,4,0,"div",19)(28,nn,8,0,"div",20)(29,on,10,2,"div",20)(30,an,3,0,"div"),i()()()(),t(31,"div",21)(32,"div",22)(33,"div",23)(34,"div",24),n(35),i()(),t(36,"div",25)(37,"div",26)(38,"div",27),S(39,"img",28),i(),t(40,"div",29)(41,"p",30)(42,"span",31),n(43,"Alerte"),S(44,"br"),n(45," Info"),i()()()(),t(46,"div",4)(47,"div",32)(48,"div",33)(49,"h1",34),n(50," demande de conge "),i()(),t(51,"div",35)(52,"div")(53,"p",36)(54,"span",37),n(55,"Date de la demande,"),i(),S(56,"br"),t(57,"span",38),n(58),y(59,"date"),i()()()()()(),t(60,"div",39)(61,"div",40)(62,"p",36)(63,"span",37),n(64,"Dur\xE9e du conge,"),i(),S(65,"br"),t(66,"span",37)(67,"span",41),n(68),i(),S(69,"br"),n(70),y(71,"date"),y(72,"date"),i()()()(),t(73,"div",39)(74,"div",40)(75,"p",36)(76,"span",37),n(77,"Objet,"),i(),S(78,"br"),t(79,"span",38),n(80),i()()()(),t(81,"div",4)(82,"div",42)(83,"div",43)(84,"table",44)(85,"thead")(86,"tr")(87,"th")(88,"span",45),n(89,"Nom & Pr\xE9nom"),i()(),t(90,"th")(91,"span",45),n(92,"Fonction"),i()(),t(93,"th")(94,"span",45),n(95,"Service"),i()()()(),t(96,"tbody")(97,"tr")(98,"td")(99,"span",46),n(100),i()(),t(101,"td")(102,"span",46),n(103),i()(),t(104,"td")(105,"span",46),n(106),i()()()()()(),t(107,"p",47),n(108,"Motif du cong\xE9: "),i(),t(109,"p",48),n(110),i(),S(111,"br"),t(112,"div",49)(113,"div")(114,"p",50)(115,"span",51),n(116,"Approbation"),i(),S(117,"br"),M(118,rn,4,0,"button",52)(119,ln,4,0,"button",53)(120,sn,4,0,"button",54),i(),M(121,mn,4,1,"div",55),i(),t(122,"div")(123,"p",56)(124,"span",37),n(125,"Faire \xE0 Abidjan le,"),i(),S(126,"br"),t(127,"span",38),n(128),y(129,"date"),i()()()()()()()()()()()()()()),e&2&&(s(11),h(11,a.loading==!0?11:-1),s(15),h(26,a.status_on==1?26:-1),s(),h(27,a.status_off==1?27:-1),s(),h(28,a.status_on==0&&a.status_off==0?28:-1),s(),h(29,a.show_comment_box==!0?29:-1),s(),h(30,a.show_comment_box==!0?30:-1),s(5),w("R\xE9f du cong\xE9 - #",a.conge_ref,""),s(23),v(k(59,21,a.conge_start,"dd MMMM yyyy")),s(10),w(" ",a.duree_conge," "),s(2),it(" du ",k(71,24,a.conge_start,"dd MMMM yyyy")," au ",k(72,27,a.conge_end,"dd MMMM yyyy")," "),s(10),v(a.objet_demande),s(20),v(a.customer_name),s(3),v(a.fonction),s(3),v(a.service),s(4),w(" ",a.motif," "),s(8),h(118,a.status_on==1?118:-1),s(),h(119,a.status_off==1?119:-1),s(),h(120,a.status_on==0&&a.status_off==0?120:-1),s(),h(121,a.status_on==1||a.status_off==1?121:-1),s(7),v(k(129,30,a.created_at,"dd MMMM yyyy, \xE0 HH:mm")))},dependencies:[X,Qe,T,j,D,Ue,G,$,ct,be,Ce,he,se,ve,Xe,et,N,A,oe,ae,mt,re]});let r=l;return r})();var cn=r=>({itemsPerPage:20,currentPage:r});function dn(r,l){r&1&&(t(0,"button",33)(1,"mat-icon",16),n(2,"verified"),i()())}function pn(r,l){r&1&&(t(0,"button",34)(1,"mat-icon",19),n(2,"verified"),i()())}function un(r,l){r&1&&(t(0,"button",35)(1,"mat-icon",20),n(2,"unpublished"),i()())}function _n(r,l){if(r&1){let m=b();t(0,"tr")(1,"td"),n(2),i(),t(3,"td",29)(4,"a",30),u("click",function(){let e=f(m).$implicit,a=_();return g(a.consulteConge(e))}),n(5),i()(),t(6,"td")(7,"p"),n(8),i()(),t(9,"td")(10,"p"),n(11),y(12,"transformText"),i()(),t(13,"td")(14,"p"),n(15),y(16,"transformText"),i()(),t(17,"td")(18,"button",31)(19,"mat-icon"),n(20,"check_circle"),i()()(),t(21,"td",32),M(22,dn,3,0,"button",33)(23,pn,3,0,"button",34)(24,un,3,0,"button",35),i(),t(25,"td",36)(26,"p"),n(27),y(28,"transformDate"),i()(),t(29,"td",36)(30,"button",37)(31,"mat-icon"),n(32,"more_vert"),i()(),t(33,"mat-menu",14,1)(35,"button",38),u("click",function(){let e=f(m).$implicit,a=_();return g(a.consulteConge(e))}),t(36,"mat-icon"),n(37,"visibility"),i(),n(38," Consulter "),i(),t(39,"button",38),u("click",function(){let e=f(m).$implicit,a=_();return g(a.openDeleDialog(e.slug))}),t(40,"mat-icon"),n(41,"delete"),i(),n(42," Supprimer "),i()()()()}if(r&2){let m=l.$implicit,o=l.$index,e=F(34);s(2),v(o+1),s(3),w(" ",m.motif," "),s(3),v(m.first_name+" "+m.last_name),s(3),v(Le(12,13,m.fonction)),s(4),v(Le(16,15,m.service)),s(3),x("matTooltip",m.new_actions==1?"Consulter":"Nouveau"),s(),ze(m.new_actions==1?"text-primary":"text-warning"),s(3),h(22,m.status_on==1?22:-1),s(),h(23,m.status_off==1?23:-1),s(),h(24,m.status_on==0&&m.status_off==0?24:-1),s(3),v(k(28,17,m.created_at,"d MMMM yyyy, \xE0 HH:mm")),s(3),x("matMenuTriggerFor",e)}}var ri=(()=>{let l=class l{constructor(o,e,a,c,p,Q){this._dialog=o,this._conges=e,this._loading=a,this._router=c,this._userData=p,this._notificationService=Q,this.p=1,this.list_conges=[],this.list_customer_conges=[],this.conge_counter=0,this.customer_conge_counter=0,this.employe_matricule=""}ngOnInit(){this.getCongesList()}consulteConge(o){this._dialog.open(ai,{panelClass:"fullscreen-dialog",data:o}).afterClosed().subscribe({next:a=>{a&&this.getCongesList()}})}getCongesList(){this._loading.show_loading(),this._conges.getAllConge().subscribe({next:o=>{setTimeout(()=>{this.list_customer_conges=o,this.customer_conge_counter=this.list_customer_conges.length,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(K,{width:"auto"}).afterClosed().subscribe({next:a=>{a=="confirm"&&this.deleteConge(o)}})}deleteConge(o){this._loading.show_loading(),this._conges.deleteDemandeConge(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this._loading.hide_loading(),this.getCongesList()},1e3):(e.code==302||e.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(le),d(gt),d(z),d(I),d(Ge),d(B))},l.\u0275cmp=C({type:l,selectors:[["app-admin-list-conges"]],standalone:!0,features:[E],decls:82,vars:8,consts:[["guideInfo","matMenu"],["beforeMenu","matMenu"],[1,"hero-body"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title","fw-bolder","fs-5"],["mat-button","",1,"default__btn__lg","text-dark"],[1,"example-tab-icon"],[1,"fw-bolder","text-white","fs-5"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],["mat-mini-fab","",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item",""],[1,"text-primary"],[1,""],[1,"fw-bolder"],[1,"text-red"],[1,"text-warning"],[1,"card-body"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"table-responsive","mt-4"],[1,"table","table-striped","m-0"],[1,"div","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["width","400",2,"white-space","unset !important"],["role","button",3,"click"],["mat-icon-button","",3,"matTooltip"],[1,"text-center"],["matTooltip","Approuv\xE9e","mat-icon-button",""],["matTooltip","R\xE9jet\xE9e","mat-icon-button",""],["matTooltip","Aucune action","mat-icon-button",""],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(e,a){if(e&1){let c=b();t(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"button",9)(8,"mat-icon",10),n(9,"view_list"),i(),t(10,"span",11),n(11,"Liste des cong\xE9s"),i()(),t(12,"button",12),n(13),i()(),t(14,"button",13)(15,"mat-icon"),n(16,"info"),i()(),t(17,"mat-menu",14,0)(19,"button",15)(20,"mat-icon",16),n(21,"verified"),i(),t(22,"span",17),n(23,"Indique qu'un cong\xE9 a \xE9t\xE9"),t(24,"code",18),n(25,"valid\xE9"),i()()(),t(26,"button",15)(27,"mat-icon",19),n(28,"verified"),i(),t(29,"span"),n(30,"Indique qu'un cong\xE9 a \xE9t\xE9 "),t(31,"code",18),n(32," rejet\xE9 "),i()()(),t(33,"button",15)(34,"mat-icon",16),n(35,"check_circle"),i(),t(36,"span"),n(37,"Indique que le cong\xE9 a \xE9t\xE9 "),t(38,"code",18),n(39,"consult\xE9"),i()()(),t(40,"button",15)(41,"mat-icon",20),n(42,"check_circle"),i(),t(43,"span"),n(44,"Indique une "),t(45,"code",18),n(46,"nouvelle demande"),i(),n(47," de cong\xE9 "),i()()()(),t(48,"div",21)(49,"div",4)(50,"div",22)(51,"div",23)(52,"table",24)(53,"thead")(54,"tr")(55,"th"),n(56,"#ID"),i(),t(57,"th"),n(58,"Motif"),i(),t(59,"th"),n(60,"Employ\xE9"),i(),t(61,"th"),n(62,"Fonction"),i(),t(63,"th"),n(64,"Service"),i(),t(65,"th"),n(66,"Consultation"),i(),t(67,"th"),n(68,"D\xE9cision"),i(),t(69,"th"),n(70,"Date de publication"),i(),t(71,"th"),n(72,"Actions"),i()()(),t(73,"tbody"),q(74,_n,43,20,"tr",null,H),y(76,"paginate"),i()()(),t(77,"div",25)(78,"pagination-controls",26),u("pageChange",function(Q){return f(c),g(a.p=Q)}),i()()()()()()()()()(),t(79,"ngx-spinner",27)(80,"p",28),n(81," Chargement en cours... "),i()()}if(e&2){let c=F(18);s(13),w(" ",a.customer_conge_counter," "),s(),x("matMenuTriggerFor",c),s(60),Y(k(76,3,a.list_customer_conges,Z(6,cn,a.p))),s(5),x("fullScreen",!0)}},dependencies:[W,O,T,te,ee,ie,j,D,Ye,ne,$e,J,me,ce,A,de,Oe,N]});let r=l;return r})();function gn(r,l){r&1&&S(0,"mat-progress-bar",9)}function hn(r,l){r&1&&(t(0,"div",18)(1,"mat-icon",60),n(2,"notifications"),i(),n(3," Vous avez d\xE9j\xE0 donn\xE9 votre approbation \xE0 cette permission. "),i())}function vn(r,l){r&1&&(t(0,"div",19)(1,"mat-icon",12),n(2,"notifications"),i(),n(3," Vous avez d\xE9j\xE0 donn\xE9 votre approbation \xE0 cette permission. "),i())}function xn(r,l){if(r&1){let m=b();t(0,"div",20)(1,"mat-radio-group",61),u("change",function(e){f(m);let a=_();return g(a.PermissionDecisionChange(e))}),t(2,"mat-radio-button",62)(3,"span",63),n(4,"Approuver"),i()(),t(5,"mat-radio-button",64)(6,"span",63),n(7,"Rejeter"),i()()()()}}function Sn(r,l){if(r&1){let m=b();t(0,"div",20)(1,"mat-form-field",65)(2,"mat-label"),n(3,"Laissez une note sur la d\xE9cision..."),i(),t(4,"textarea",66),R("ngModelChange",function(e){f(m);let a=_();return V(a.decision_comments,e)||(a.decision_comments=e),g(e)}),i(),t(5,"mat-hint",67)(6,"strong"),n(7,"Nombre de caract\xE8re limit\xE9 \xE0 160"),i()(),t(8,"mat-hint",68),n(9),i()()()}if(r&2){let m=_();s(4),P("ngModel",m.decision_comments),s(5),w("",m.decision_comments.length," / 160")}}function bn(r,l){if(r&1){let m=b();t(0,"div")(1,"button",69),u("click",function(){f(m);let e=_();return g(e.saveDecision())}),n(2,"Enregistrer votre d\xE9cision"),i()()}}function Cn(r,l){if(r&1&&(t(0,"a",24),n(1," Ouvrir le fichier ici "),t(2,"mat-icon"),n(3,"visibility"),i()()),r&2){let m=_();x("href",m.justificatif,De)}}function En(r,l){r&1&&(t(0,"span",25),n(1,"Aucune pi\xE8ce jointe"),i())}function Mn(r,l){if(r&1&&(t(0,"span",42),n(1),y(2,"date"),i()),r&2){let m=_();s(),v(k(2,1,m.date_permission,"dd MMMM yyyy"))}}function yn(r,l){if(r&1&&(t(0,"span",42),n(1),y(2,"date"),i()),r&2){let m=_();s(),v(k(2,1,m.permission_start,"dd MMMM yyyy"))}}function wn(r,l){if(r&1&&(t(0,"span",23)(1,"span",70),n(2),i(),S(3,"br"),n(4),i()),r&2){let m=_();s(2),w(" ",m.duree_permission," "),s(2),it(" de ",m.permission_start," \xE0 ",m.permission_end," ")}}function Tn(r,l){if(r&1&&(t(0,"span",23)(1,"span",70),n(2),i(),S(3,"br"),n(4),y(5,"date"),y(6,"date"),i()),r&2){let m=_();s(2),w(" ",m.duree_permission," "),s(2),it(" du ",k(5,3,m.permission_start,"dd MMMM yyyy")," au ",k(6,6,m.permission_end,"dd MMMM yyyy")," ")}}function kn(r,l){r&1&&(t(0,"span",50),n(1,"Non justifi\xE9 "),i())}function In(r,l){r&1&&(t(0,"span",50),n(1,"Justifi\xE9 "),i())}function Bn(r,l){r&1&&(t(0,"button",56)(1,"mat-icon"),n(2,"done_outline"),i(),n(3," Permission approuv\xE9e "),i())}function An(r,l){r&1&&(t(0,"button",57)(1,"mat-icon"),n(2,"done_outline"),i(),n(3," Permission r\xE9jet\xE9e "),i())}function Dn(r,l){r&1&&(t(0,"button",57)(1,"mat-icon"),n(2,"no_accounts"),i(),n(3," Accune action "),i())}function Ln(r,l){if(r&1&&(t(0,"div",58)(1,"mat-icon",71),n(2,"notifications"),i(),n(3),i()),r&2){let m=_();s(3),w(" ",m.comments," ")}}var St=(()=>{let l=class l{constructor(o,e,a,c,p){this._notificationService=o,this._permission=e,this._router=a,this.data=c,this._dialogRef=p,this.item_slug="",this.permission_ref="",this.type_duration="",this.date_permission="",this.motif="",this.fonction="",this.service="",this.created_at="",this.status_on=0,this.status_off=0,this.permission_start="",this.permission_end="",this.duree_permission="",this.customer_name="",this.justificatif="",this.show_comment_box=!1,this.decision="",this.decision_comments="",this.comments="",this.loading=!1,Ze(tt)}ngOnInit(){this.data!=null&&(this.item_slug=this.data.slug),this.updateIsConsultingStatus(),this.getCurrentPermissionInfo()}getCurrentPermissionInfo(){this._permission.showPermission(this.item_slug).subscribe({next:o=>{this.permission_data=o,this.type_duration=o.type_duration,this.permission_ref=o.permission_ref,this.date_permission=o.date_permission,this.fonction=o.fonction,this.justificatif=o.permission_file,this.service=o.service,this.permission_start=o.permission_start,this.permission_end=o.permission_end,this.duree_permission=o.duree_permission,this.comments=o.comments,this.customer_name=o.first_name+" "+o.last_name,this.motif=o.motif,this.created_at=o.created_at,this.status_on=o.status_on,this.status_off=o.status_off},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}PermissionDecisionChange(o){let e=o.value;e=="approved"?(this.show_comment_box=!0,this.decision=e):e=="rejected"?(this.show_comment_box=!0,this.decision=e):(this.show_comment_box=!1,this.decision="")}saveDecision(){let o={decison:this.decision,decision_comments:this.decision_comments,slug:this.item_slug};this.loading=!0,this._permission.approvedOrRejectedPermission(o).subscribe({next:e=>{e.code==200?(this._notificationService.openSnackBarSuccess(e),setTimeout(()=>{this.loading=!1,this.show_comment_box=!1,this.getCurrentPermissionInfo()},1e3)):(e.code==300||e.code==500||e.code==302)&&(this.loading,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateIsConsultingStatus(){this._permission.updateIsConsultingStatus(this.item_slug).subscribe({next:o=>{o.code==200?this._notificationService.openSnackBarSuccess(o):o.code==300||o.code==500||o.code==302?(this.loading,this._notificationService.openSnackBarError(o)):o.code==201&&(this.loading,this._notificationService.openSnackBarInfo(o))},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}printPermission(){var o=document.querySelector("#permission_card")?.innerHTML,e=document.body.innerHTML;document.body.innerHTML=o,window.print(),document.body.innerHTML=e,location.reload()}};l.\u0275fac=function(e){return new(e||l)(d(B),d(ht),d(I),d(Se),d(ge))},l.\u0275cmp=C({type:l,selectors:[["app-admin-consulte-permission"]],standalone:!0,features:[He([{provide:qe,useValue:"fr-FR"}]),E],decls:128,vars:27,consts:[["mat-dialog-title",""],["mat-raised-button","","color","primary","mat-dialog-close",""],["mat-dialog-content","",2,"max-height","95vh"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"row"],[1,"col-lg-5","col-md-5"],[1,"card"],["mode","indeterminate"],[1,"card-header","d-flex","justify-content-between","mb-3"],[1,"me-2"],[1,"text-red"],[1,"card-title","text-primary","fs-5","fw-bolder"],[1,"text-end"],["mat-fab","",1,"",3,"click"],[1,"card-body","text-center","position-relative","pt-4"],[1,"card-title","fs-3","mb-3","text-center"],["role","alert",1,"alert","box-bdr-green","alert-dismissible","fade","show","text-green"],["role","alert",1,"alert","box-bdr-red","alert-dismissible","fade","show","text-red"],[1,"col-md-12","col-lg-12","mb-4"],[1,"card-footer"],[1,"d-flex","justify-content-between","gap-3"],[1,"fw-bolder"],["target","_blank","mat-flat-button","",3,"href"],[1,"fw-bolder","text-danger"],[1,"col-lg-7","col-md-7"],["id","permission_card",1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","align-items-center","mb-4"],[1,"col-xl-2","col-sm-3","col-12"],["src","assets/media/logoai.png","width","100","alt","",1,"img-fluid"],[1,"col-xl-10","col-sm-9","col-12"],[1,"text-end","m-0","fw-bolder"],[1,"fw-bolder","fs-5"],[1,"col-sm-12","col-12"],[1,"text-center","mb-3"],[1,"fw-bolder","text-uppercase"],[1,"d-flex","justify-content-end","my-4"],[1,"m-0"],[1,"fw-bolder","text-red","text-uppercase"],[1,"row","gx-3","mb-2"],[1,"col-sm-12","col-12","mb-3"],[1,"col-12"],[1,"table-responsive","mb-3"],[1,"table","table-bordered"],[1,"text-center","text-uppercase"],[1,"text-center"],[1,"text-center","text-red","fw-bolder"],[1,"text-uppercase","mb-4"],[1,"mb-4"],[1,"d-flex","justify-content-between"],[1,"m-0","text-start","mb-4"],[1,"fw-bolder","text-start"],["mat-fab","","extended","","color","primary"],["mat-fab","","extended","","color","warn"],["role","alert",1,"alert","alert-light","alert-dismissible","fade","show"],[1,"m-0","text-end"],[1,"text-danger"],["aria-label","Select an option",3,"change"],["value","approved"],[1,"fw-bolder","fs-4"],["value","rejected"],[1,"example-full-width"],["matInput","","maxlength","160","placeholder","Ex. permission approuv\xE9e...",3,"ngModelChange","ngModel"],["align","start"],["align","end"],["mat-raised-button","","color","primary",1,"w-100",3,"click"],[1,"fw-bolder","text-red"],[1,"text-danger","alert-icon"]],template:function(e,a){e&1&&(t(0,"h1",0),n(1," D\xE9tail de la permission "),t(2,"button",1),n(3,"Fermer"),i()(),t(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),M(11,gn,1,0,"mat-progress-bar",9),t(12,"div",10)(13,"span",11)(14,"mat-icon",12),n(15,"notifications"),i()(),t(16,"div",13),n(17," R\xE9server au directeur "),i(),t(18,"div",14)(19,"button",15),u("click",function(){return a.printPermission()}),t(20,"mat-icon"),n(21,"print"),i()()()(),t(22,"div",16)(23,"div",17),n(24,"D\xE9cision de la permission"),i(),t(25,"div",6),M(26,hn,4,0,"div",18)(27,vn,4,0,"div",19)(28,xn,8,0,"div",20)(29,Sn,10,2,"div",20)(30,bn,3,0,"div"),i()(),t(31,"div",21)(32,"div",22)(33,"span",23),n(34,"Pi\xE8ce justificatif"),i(),M(35,Cn,4,1,"a",24)(36,En,2,0,"span",25),i()()()(),t(37,"div",26)(38,"div",27)(39,"div",28)(40,"div",29),n(41),i()(),t(42,"div",30)(43,"div",31)(44,"div",32),S(45,"img",33),i(),t(46,"div",34)(47,"p",35)(48,"span",36),n(49,"Alerte"),S(50,"br"),n(51," Info "),i()()()(),t(52,"div",4)(53,"div",37)(54,"div",38)(55,"h1",39),n(56," demande de permission "),i()(),t(57,"div",40)(58,"div")(59,"p",41)(60,"span",23),n(61,"Date de la demande,"),i(),S(62,"br"),M(63,Mn,3,4,"span",42)(64,yn,3,4,"span",42),i()()()()(),t(65,"div",43)(66,"div",44)(67,"p",41)(68,"span",23),n(69,"Dur\xE9e de la permission,"),i(),S(70,"br"),M(71,wn,5,3,"span",23)(72,Tn,7,9,"span",23),i()()(),t(73,"div",4)(74,"div",45)(75,"div",46)(76,"table",47)(77,"thead")(78,"tr")(79,"th")(80,"span",48),n(81,"Nom & Pr\xE9nom"),i()(),t(82,"th")(83,"span",48),n(84,"Fonction"),i()(),t(85,"th")(86,"span",48),n(87,"Service"),i()(),t(88,"th")(89,"span",48),n(90,"Justificatif"),i()()()(),t(91,"tbody")(92,"tr")(93,"td")(94,"span",49),n(95),i()(),t(96,"td")(97,"span",49),n(98),i()(),t(99,"td")(100,"span",49),n(101),i()(),t(102,"td"),M(103,kn,2,0,"span",50)(104,In,2,0,"span",50),i()()()()(),t(105,"p",51),n(106,"Motif de la permission: "),i(),t(107,"p",52),n(108),i(),S(109,"br"),t(110,"div",53)(111,"div")(112,"p",54)(113,"span",55),n(114,"Approbation"),i(),S(115,"br"),M(116,Bn,4,0,"button",56)(117,An,4,0,"button",57)(118,Dn,4,0,"button",57),i(),M(119,Ln,4,1,"div",58),i(),t(120,"div")(121,"p",59)(122,"span",23),n(123,"Faire \xE0 Abidjan le,"),i(),S(124,"br"),t(125,"span",42),n(126),y(127,"date"),i()()()()()()()()()()()()()()),e&2&&(s(11),h(11,a.loading==!0?11:-1),s(15),h(26,a.status_on==1?26:-1),s(),h(27,a.status_off==1?27:-1),s(),h(28,a.status_on==0&&a.status_off==0?28:-1),s(),h(29,a.show_comment_box==!0?29:-1),s(),h(30,a.show_comment_box==!0?30:-1),s(5),h(35,a.justificatif!=null?35:-1),s(),h(36,a.justificatif==null?36:-1),s(5),w("R\xE9f permission - #",a.permission_ref,""),s(22),h(63,a.type_duration=="hour"?63:-1),s(),h(64,a.type_duration=="date"?64:-1),s(7),h(71,a.type_duration=="hour"?71:-1),s(),h(72,a.type_duration=="date"?72:-1),s(23),v(a.customer_name),s(3),v(a.fonction),s(3),v(a.service),s(2),h(103,a.justificatif==null?103:-1),s(),h(104,a.justificatif!=null?104:-1),s(4),v(a.motif),s(8),h(116,a.status_on==1?116:-1),s(),h(117,a.status_off==1?117:-1),s(),h(118,a.status_on==0&&a.status_off==0?118:-1),s(),h(119,a.status_on==1||a.status_off==1?119:-1),s(7),v(k(127,24,a.created_at,"dd MMMM yyyy, \xE0 HH:mm")))},dependencies:[X,Qe,T,j,Ot,D,Ue,G,$,ct,be,Ce,he,se,ve,Xe,et,N,A,oe,ae,mt,re]});let r=l;return r})();var Fn=r=>({itemsPerPage:20,currentPage:r});function Pn(r,l){r&1&&(t(0,"button",33)(1,"mat-icon",16),n(2,"verified"),i()())}function Vn(r,l){r&1&&(t(0,"button",34)(1,"mat-icon",19),n(2,"verified"),i()())}function Rn(r,l){r&1&&(t(0,"button",35)(1,"mat-icon",20),n(2,"unpublished"),i()())}function jn(r,l){if(r&1){let m=b();t(0,"tr")(1,"td"),n(2),i(),t(3,"td",29)(4,"a",30),u("click",function(){let e=f(m).$implicit,a=_();return g(a.consultePermission(e))}),n(5),i()(),t(6,"td")(7,"p"),n(8),i()(),t(9,"td")(10,"p"),n(11),y(12,"transformText"),i()(),t(13,"td")(14,"p"),n(15),y(16,"transformText"),i()(),t(17,"td")(18,"button",31)(19,"mat-icon"),n(20,"check_circle"),i()()(),t(21,"td",32),M(22,Pn,3,0,"button",33)(23,Vn,3,0,"button",34)(24,Rn,3,0,"button",35),i(),t(25,"td",36)(26,"p"),n(27),y(28,"transformDate"),i()(),t(29,"td",36)(30,"button",37)(31,"mat-icon"),n(32,"more_vert"),i()(),t(33,"mat-menu",14,1)(35,"button",38),u("click",function(){let e=f(m).$implicit,a=_();return g(a.consultePermission(e))}),t(36,"mat-icon"),n(37,"visibility"),i(),n(38," Consulter "),i(),t(39,"button",38),u("click",function(){let e=f(m).$implicit,a=_();return g(a.deletePermission(e.slug))}),t(40,"mat-icon"),n(41,"delete"),i(),n(42," Supprimer "),i()()()()}if(r&2){let m=l.$implicit,o=l.$index,e=F(34);s(2),w("#",o+1,""),s(3),w(" ",m.motif," "),s(3),v(m.first_name+" "+m.last_name),s(3),v(Le(12,13,m.fonction)),s(4),v(Le(16,15,m.service)),s(3),x("matTooltip",m.new_actions==1?"Consult\xE9e":"Nouveau"),s(),ze(m.new_actions==1?"text-primary":"text-warning"),s(3),h(22,m.status_on==1?22:-1),s(),h(23,m.status_off==1?23:-1),s(),h(24,m.status_on==0&&m.status_off==0?24:-1),s(3),v(k(28,17,m.created_at,"d MMMM yyyy, \xE0 HH:mm")),s(3),x("matMenuTriggerFor",e)}}var li=(()=>{let l=class l{constructor(o,e,a,c,p,Q){this._dialog=o,this._permission=e,this._notificationService=a,this._loadings=c,this._router=p,this._userData=Q,this.list_permissions=[],this.permission_counter=0,this.user_id="",this.p=1,Ze(tt)}ngOnInit(){this.user_id=this._userData.getUserData().user_id,this.getPermission()}getPermission(){this._loadings.show_loading(),this._permission.getAllPermission().subscribe({next:o=>{this.list_permissions=o,this.permission_counter=this.list_permissions.length,this._loadings.hide_loading()},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}consultePermission(o){this._dialog.open(St,{data:o,panelClass:"fullscreen-dialog"}).afterClosed().subscribe({next:a=>{a&&this.getPermission()}})}deletePermission(o){this._dialog.open(K,{width:"auto"}).afterClosed().subscribe({next:a=>{a=="confirm"&&this._permission.deleteDemandePermission(o).subscribe({next:c=>{c.code==200?(this._notificationService.openSnackBarSuccess(c),this.getPermission()):c.code==404&&this._notificationService.openSnackBarError(c)},error:c=>{c.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}})}};l.\u0275fac=function(e){return new(e||l)(d(le),d(ht),d(B),d(z),d(I),d(Ge))},l.\u0275cmp=C({type:l,selectors:[["app-admin-list-permissions"]],standalone:!0,features:[He([{provide:qe,useValue:"fr-FR"}]),E],decls:83,vars:8,consts:[["guideInfo","matMenu"],["beforeMenu","matMenu"],[1,"hero-body"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title","fw-bolder","fs-5"],["mat-button","",1,"default__btn__lg","text-dark"],[1,"example-tab-icon"],[1,"fw-bolder","text-white","fs-5"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],["mat-mini-fab","",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item",""],[1,"text-primary"],[1,""],[1,"fw-bolder"],[1,"text-red"],[1,"text-warning"],[1,"card-body"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"table-responsive","mt-4"],[1,"table","table-striped","m-0"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["width","400",2,"white-space","unset !important"],["role","button",3,"click"],["mat-icon-button","",3,"matTooltip"],[1,"text-center"],["matTooltip","Approuv\xE9e","mat-icon-button",""],["matTooltip","R\xE9jet\xE9e","mat-icon-button",""],["matTooltip","Aucune action","mat-icon-button",""],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(e,a){if(e&1){let c=b();t(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"button",9)(8,"mat-icon",10),n(9,"view_list"),i(),t(10,"span",11),n(11,"Liste des permissions"),i()(),t(12,"button",12),n(13),i()(),t(14,"div")(15,"button",13)(16,"mat-icon"),n(17,"info"),i()(),t(18,"mat-menu",14,0)(20,"button",15)(21,"mat-icon",16),n(22,"verified"),i(),t(23,"span",17),n(24,"Indique qu'une permission a \xE9t\xE9"),t(25,"code",18),n(26,"valid\xE9e"),i()()(),t(27,"button",15)(28,"mat-icon",19),n(29,"verified"),i(),t(30,"span"),n(31,"Indique qu'une permission a \xE9t\xE9 "),t(32,"code",18),n(33," rejet\xE9e "),i()()(),t(34,"button",15)(35,"mat-icon",16),n(36,"check_circle"),i(),t(37,"span"),n(38,"Indique que la permission a \xE9t\xE9 "),t(39,"code",18),n(40,"consult\xE9e"),i()()(),t(41,"button",15)(42,"mat-icon",20),n(43,"check_circle"),i(),t(44,"span"),n(45,"Indique une "),t(46,"code",18),n(47,"nouvelle demande"),i(),n(48," de permission "),i()()()()(),t(49,"div",21)(50,"div",4)(51,"div",22)(52,"div",23)(53,"table",24)(54,"thead")(55,"tr")(56,"th"),n(57,"#ID"),i(),t(58,"th"),n(59,"Motif"),i(),t(60,"th"),n(61,"Auteur"),i(),t(62,"th"),n(63,"Fonction"),i(),t(64,"th"),n(65,"Service"),i(),t(66,"th"),n(67,"Consultation"),i(),t(68,"th"),n(69,"D\xE9cision"),i(),t(70,"th"),n(71,"Date de publication"),i(),t(72,"th"),n(73,"Actions"),i()()(),t(74,"tbody"),q(75,jn,43,20,"tr",null,H),y(77,"paginate"),i()()(),t(78,"div",25)(79,"pagination-controls",26),u("pageChange",function(Q){return f(c),g(a.p=Q)}),i()()()()()()()()()(),t(80,"ngx-spinner",27)(81,"p",28),n(82," Chargement en cours... "),i()()}if(e&2){let c=F(19);s(13),w(" ",a.permission_counter," "),s(2),x("matMenuTriggerFor",c),s(60),Y(k(77,3,a.list_permissions,Z(6,Fn,a.p))),s(5),x("fullScreen",!0)}},dependencies:[W,O,T,te,ee,ie,j,D,Ye,ne,$e,J,me,ce,A,de,Oe,N]});let r=l;return r})();function Un(r,l){r&1&&S(0,"mat-progress-bar",1)}function Nn(r,l){if(r&1&&(t(0,"mat-option",17),n(1),i()),r&2){let m=l.$implicit;x("value",m.id),s(),v(m.role)}}function On(r,l){if(r&1&&(t(0,"mat-option",17),n(1),i()),r&2){let m=l.$implicit;x("value",m.type_accounts),s(),v(m.type)}}function Wn(r,l){if(r&1){let m=b();t(0,"div",4)(1,"input",18),u("change",function(e){f(m);let a=_();return g(a.uploadFile(e))}),i(),t(2,"label",19),n(3,"Choisir une image "),S(4,"code"),i()()}}function zn(r,l){if(r&1){let m=b();t(0,"div",13),S(1,"img",20),t(2,"button",21),u("click",function(){f(m);let e=_();return g(e.isUpdateImg())}),t(3,"mat-icon",22),n(4,"edit"),i(),n(5," Modifier "),i()()}if(r&2){let m=_();s(),x("src",m.old_image,De)}}function Hn(r,l){if(r&1){let m=b();t(0,"button",23),u("click",function(){f(m);let e=_();return g(e.updateUsers())}),n(1,"Modifier"),i()}}function qn(r,l){if(r&1){let m=b();t(0,"button",23),u("click",function(){f(m);let e=_();return g(e.saveUsers())}),n(1,"Enregistrer"),i()}}var wt=(()=>{let l=class l{constructor(o,e,a,c,p){this._notificationService=o,this._router=e,this._traitement=a,this.data=c,this._dialogRef=p,this.first_name="",this.last_name="",this.email="",this.password="",this.hide=!0,this.is_update=!1,this.old_image="",this.img_update=!0,this.confirm_password="",this.list_roles=[],this.list_fonction=[],this.list_service=[],this.list_type_accounts=[{id:1,type:"Administration",type_accounts:"administration"}],this.phone="",this.is_loading=!1}ngOnInit(){this.data!=null&&(this.is_update=!0,this.img_update=!1,this.first_name=this.data.first_name,this.last_name=this.data.last_name,this.email=this.data.email,this.phone=this.data.mobile,this.old_image=this.data.photo,this.item_slug=this.data.slug,this.selectedOption=this.data.role_id,this.selectedTypeAccountsOption=this.data.type_accounts),this.getRole()}selectRole(o){this.role=o.value}selectTypeAccounts(o){this.type_accounts=o.value}isUpdateImg(){this.img_update=!0}getRole(){this._traitement.getRoles().subscribe({next:o=>{this.list_roles=o},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}uploadFile(o){this.user_image=o.target.files[0]}saveUsers(){if(this.first_name==""){this._notificationService.openSnackBarSimpleError("Le nom est obligatoire");return}if(this.last_name==""){this._notificationService.openSnackBarSimpleError("Le pr\xE9nom est obligatoire");return}if(this.email==""){this._notificationService.openSnackBarSimpleError("L'adresse email est obligatoire");return}let o=new FormData;o.append("first_name",this.first_name),o.append("last_name",this.last_name),o.append("email",this.email),o.append("role",this.role),o.append("type_accounts",this.type_accounts!=null?this.selectedTypeAccountsOption:this.type_accounts),o.append("admin_photo",this.user_image!=null?this.user_image:""),this.is_loading=!0,this._traitement.saveUsers(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateUsers(){if(this.first_name==""){this._notificationService.openSnackBarSimpleError("Le nom est obligatoire");return}if(this.last_name==""){this._notificationService.openSnackBarSimpleError("Le pr\xE9nom est obligatoire");return}if(this.email==""){this._notificationService.openSnackBarSimpleError("L'adresse email est obligatoire");return}let o=new FormData;o.append("first_name",this.first_name),o.append("last_name",this.last_name),o.append("email",this.email),o.append("role",this.role==null?this.selectedOption:this.role),o.append("type_accounts",this.type_accounts==null?this.selectedTypeAccountsOption:this.type_accounts),o.append("admin_photo",this.user_image==null?"":this.user_image),this.is_loading=!0,this._traitement.updateUsers(o,this.item_slug).subscribe({next:e=>{console.log(e),e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(B),d(I),d(L),d(Se),d(ge))},l.\u0275cmp=C({type:l,selectors:[["app-create-users"]],standalone:!0,features:[E],decls:49,vars:12,consts:[["mat-dialog-title",""],["mode","indeterminate"],["mat-dialog-content",""],[1,"row","mt-2"],[1,"col-md-6","col-lg-6"],["appearance","outline"],[1,"fs-4"],["matInput","","placeholder","firstName",3,"ngModelChange","ngModel"],["matInput","","placeholder","lastName",3,"ngModelChange","ngModel"],["type","email","matInput","","placeholder","Adresse email",3,"ngModelChange","ngModel"],[3,"valueChange","selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","col-sm-6","col-lg-6"],[1,"d-flex","justify-content-center","my-2"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-raised-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","warn"],[3,"value"],["id","formFileLg","type","file",1,"form-control","form-control-lg",3,"change"],["for","formFileLg",1,"form-label"],["alt","...",1,"card-img-top","rounded-circle",2,"width","18%",3,"src"],["type","button","mat-raised-button","","color","primary",3,"click"],[1,"mat-18","mr-1"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,a){e&1&&(t(0,"h1",0),n(1,"Ajouter un nouveau compte"),i(),M(2,Un,1,0,"mat-progress-bar",1),t(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),n(8,"Nom "),t(9,"code",6),n(10,"*"),i()(),t(11,"input",7),R("ngModelChange",function(p){return V(a.first_name,p)||(a.first_name=p),p}),i()()(),t(12,"div",4)(13,"mat-form-field",5)(14,"mat-label"),n(15,"Pr\xE9nom "),t(16,"code",6),n(17,"*"),i()(),t(18,"input",8),R("ngModelChange",function(p){return V(a.last_name,p)||(a.last_name=p),p}),i()()(),t(19,"div",4)(20,"mat-form-field",5)(21,"mat-label"),n(22,"Adresse email "),t(23,"code",6),n(24,"*"),i()(),t(25,"input",9),R("ngModelChange",function(p){return V(a.email,p)||(a.email=p),p}),i()()(),t(26,"div",4)(27,"mat-form-field",5)(28,"mat-label"),n(29,"R\xF4le "),t(30,"code",6),n(31,"*"),i()(),t(32,"mat-select",10),R("valueChange",function(p){return V(a.selectedOption,p)||(a.selectedOption=p),p}),u("selectionChange",function(p){return a.selectRole(p)}),M(33,Nn,2,2,"mat-option",11),i()()(),t(34,"div",12)(35,"mat-form-field",5)(36,"mat-label"),n(37,"Type de compte"),t(38,"code",6),n(39,"*"),i()(),t(40,"mat-select",10),R("valueChange",function(p){return V(a.selectedTypeAccountsOption,p)||(a.selectedTypeAccountsOption=p),p}),u("selectionChange",function(p){return a.selectTypeAccounts(p)}),M(41,On,2,2,"mat-option",11),i()()(),M(42,Wn,5,0,"div",4)(43,zn,6,1,"div",13),i()(),t(44,"div",14)(45,"button",15),n(46,"Annuler"),i(),M(47,Hn,2,0,"button",16)(48,qn,2,0,"button",16),i()),e&2&&(s(2),h(2,a.is_loading==!0?2:-1),s(9),P("ngModel",a.first_name),s(7),P("ngModel",a.last_name),s(7),P("ngModel",a.email),s(7),P("value",a.selectedOption),s(),x("ngForOf",a.list_roles),s(7),P("value",a.selectedTypeAccountsOption),s(),x("ngForOf",a.list_type_accounts),s(),h(42,a.img_update==!0?42:-1),s(),h(43,a.img_update==!1?43:-1),s(4),h(47,a.is_update==!0?47:-1),s(),h(48,a.is_update==!1?48:-1))},dependencies:[X,jt,T,j,D,G,$,Ne,je,be,Ce,Me,he,se,ve,A,oe,ae,re]});let r=l;return r})();var si=r=>({itemsPerPage:10,currentPage:r});function Gn(r,l){r&1&&(t(0,"mat-icon",23),n(1,"admin_panel_settings"),i(),t(2,"span",24),n(3,"Comptes administrateurs"),i())}function Jn(r,l){if(r&1){let m=b();t(0,"tr")(1,"td"),n(2),i(),t(3,"td",17)(4,"div",25)(5,"div"),S(6,"img",26),i(),t(7,"div")(8,"p",27),n(9),i(),t(10,"p",28),n(11),i()()()(),t(12,"td",29),n(13),i(),t(14,"td",29)(15,"mat-slide-toggle",30),u("click",function(){let e=f(m).$implicit,a=_();return g(a.enableOrDisableAccount(e.slug))}),t(16,"span",31),n(17),i()()(),t(18,"td",29),n(19),y(20,"transformDate"),i(),t(21,"td",17)(22,"button",32)(23,"mat-icon"),n(24,"more_vert"),i()(),t(25,"mat-menu",33,0)(27,"button",34),u("click",function(){let e=f(m).$implicit,a=_();return g(a.updateUsers(e))}),t(28,"mat-icon"),n(29,"edit_square"),i(),n(30," Modifier "),i(),t(31,"button",34),u("click",function(){let e=f(m).$implicit,a=_();return g(a.openDeleDialog(e.slug))}),t(32,"mat-icon"),n(33,"delete"),i(),n(34," Supprimer "),i()()()()}if(r&2){let m=l.$implicit,o=l.$index,e=F(26);s(2),v(o+1),s(3),ze(m.connected==1?"avatar avatar-indicators avatar-online me-3":"avatar avatar-indicators avatar-offline me-3"),s(),x("src",m.photo,De),s(3),w(" ",m.first_name+" "+m.last_name," "),s(2),w(" ",m.email," "),s(2),w(" ",m.role," "),s(2),x("color",m.status==1?"accent":"warn")("checked",m.status==1),s(2),v(m.status==1?"Actif":"Inactif"),s(2),w(" ",k(20,12,m.created_at,"le dd MMMM YYYY")," "),s(3),x("matMenuTriggerFor",e)}}function Zn(r,l){r&1&&(t(0,"mat-icon",23),n(1,"shield_person"),i(),t(2,"span",24),n(3,"Comptes employ\xE9s"),i())}function Qn(r,l){if(r&1&&(t(0,"mat-option",38),n(1),i()),r&2){let m=l.$implicit;x("value",m.type_accounts),s(),w("",m.type," ")}}function Kn(r,l){if(r&1){let m=b();t(0,"tr")(1,"td"),n(2),i(),t(3,"td",17)(4,"div",25)(5,"div"),S(6,"img",26),i(),t(7,"div")(8,"p",27),n(9),i(),t(10,"p",28),n(11),i()()()(),t(12,"td",29)(13,"mat-form-field",35)(14,"mat-label"),n(15,"Type de compte"),t(16,"code",36),n(17,"*"),i()(),t(18,"mat-select",37),R("valueChange",function(e){let a=f(m).$implicit;return V(a.type_accounts,e)||(a.type_accounts=e),g(e)}),u("selectionChange",function(e){let a=f(m).$implicit,c=_();return g(c.selectTypeAccounts(a.slug,e))}),q(19,Qn,2,2,"mat-option",38,H),i()()(),t(21,"td",29),n(22),i(),t(23,"td",29)(24,"mat-slide-toggle",30),u("click",function(){let e=f(m).$implicit,a=_();return g(a.enableOrDisableEmployeeAccount(e.slug))}),t(25,"span",31),n(26),i()()(),t(27,"td",29),n(28),y(29,"transformDate"),i(),t(30,"td",17)(31,"button",32)(32,"mat-icon"),n(33,"more_vert"),i()(),t(34,"mat-menu",33,0)(36,"button",39),u("click",function(){let e=f(m).$implicit,a=_();return g(a.openUpdateEmployeeAccountDialog(e))}),t(37,"mat-icon"),n(38,"edit_square"),i(),n(39," Modifier "),i(),t(40,"button",34),u("click",function(){let e=f(m).$implicit,a=_();return g(a.openDeleteEmployeeAccountDialog(e.slug))}),t(41,"mat-icon"),n(42,"delete"),i(),n(43," Supprimer "),i()()()()}if(r&2){let m=l.$implicit,o=l.$index,e=F(35),a=_();s(2),v(o+1),s(3),ze(m.connected==1?"avatar avatar-indicators avatar-online me-3":"avatar avatar-indicators avatar-offline me-3"),s(),x("src",m.photo,De),s(3),w(" ",m.first_name+" "+m.last_name," "),s(2),w(" ",m.email," "),s(7),P("value",m.type_accounts),s(),Y(a.list_type_accounts),s(3),w(" ",m.role," "),s(2),x("color",m.status==1?"accent":"warn")("checked",m.status==1),s(2),v(m.status==1?"Actif":"Inactif"),s(2),w(" ",k(29,13,m.created_at,"le dd MMMM YYYY")," "),s(3),x("matMenuTriggerFor",e)}}var mi=(()=>{let l=class l{constructor(o,e,a,c,p){this._dialog=o,this._traitement=e,this._notificationService=a,this._loading=c,this._router=p,this.list_users_accounts=[],this.list_employees_accounts=[],this.p=1,this.list_roles=[],this.list_type_accounts=[{id:1,type:"Gestion Capital humain",type_accounts:"ressource_humaine"},{id:3,type:"Employ\xE9",type_accounts:"employe"}]}ngOnInit(){this._loading.show_loading(),this.getUserAccountsList(),this.getEmployeesAccountsList()}openUsersDialog(){this._dialog.open(wt,{width:"auto"}).afterClosed().subscribe({next:e=>{e&&this.getUserAccountsList()}})}updateUsers(o){this._dialog.open(wt,{width:"auto",data:o}).afterClosed().subscribe({next:a=>{a&&this.getUserAccountsList()}})}openDeleDialog(o){this._dialog.open(K,{width:"auto"}).afterClosed().subscribe({next:a=>{a=="confirm"&&this.deleteUsers(o)}})}deleteUsers(o){this._loading.show_loading(),this._traitement.deleteUsers(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this._loading.hide_loading(),this.getUserAccountsList()},1e3):(e.code==302||e.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getUserAccountsList(){this._loading.show_loading(),this._traitement.getUsers().subscribe({next:o=>{setTimeout(()=>{this.list_users_accounts=o,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}enableOrDisableAccount(o){this._loading.show_loading(),this._traitement.statutAction(o).subscribe({next:e=>{e.code==200?(this._notificationService.openSnackBarSuccess(e),setTimeout(()=>{this.getUserAccountsList(),this._loading.hide_loading()},2e3)):e.code==302&&this._notificationService.openSnackBarError(e)},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getEmployeesAccountsList(){this._loading.show_loading(),this._traitement.getEmployeAccount().subscribe({next:o=>{setTimeout(()=>{this.list_employees_accounts=o,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}selectTypeAccounts(o,e){this.type_accounts=e.value,this._loading.show_loading(),this._traitement.changeEmployeeTypeAccount(this.type_accounts,o).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getEmployeesAccountsList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}enableOrDisableEmployeeAccount(o){this._loading.show_loading(),this._traitement.enableOrDisableEmployeAccount(o).subscribe({next:e=>{e.code==200?(this._notificationService.openSnackBarSuccess(e),setTimeout(()=>{this.getEmployeesAccountsList(),this._loading.hide_loading()},1e3)):e.code==302&&this._notificationService.openSnackBarError(e)},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openUpdateEmployeeAccountDialog(o){this._dialog.open(ft,{width:"auto",data:o}).afterClosed().subscribe({next:a=>{a&&this.getEmployeesAccountsList()}})}openDeleteEmployeeAccountDialog(o){this._dialog.open(K,{width:"auto"}).afterClosed().subscribe({next:a=>{a=="confirm"&&this.deleteUsers(o)}})}deleteEmployeeAccount(o){this._loading.show_loading(),this._traitement.deleteEmployeAccount(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this._loading.hide_loading(),this.getEmployeesAccountsList()},1e3):(e.code==302||e.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(le),d(L),d(B),d(z),d(I))},l.\u0275cmp=C({type:l,selectors:[["app-admin-users-accounts"]],standalone:!0,features:[E],decls:74,vars:11,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"hero-body"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between","mb-3"],[1,"text-start","text-white"],["mat-fab","","extended","","color","primary",3,"click"],[1,"card-body"],["mat-tab-label",""],[1,"row","mt-4"],[1,"col-xxl-12","col-lg-12","col-md-12"],[1,"table-responsive"],[1,"table","table-bordered","table-striped","m-0"],[1,"text-center"],[1,"div","text-center","mt-4"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],[1,"row","gx-3","mt-4"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"example-tab-icon","me-3"],[1,"fw-bolder","fs-5"],[1,"d-flex","align-items-center"],["alt","avatar",1,"img-4x","rounded-5","me-3",3,"src"],[1,"m-0","fw-bolder","text-primary"],[1,"m-0","fw-bolder","text-red","text-center"],[1,"text-center","fw-bolder"],[3,"click","color","checked"],[1,"text-primary","fw-bolder"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"],["appearance","outline"],[1,"fs-4"],[3,"valueChange","selectionChange","value"],[3,"value"],["disabled","false","mat-menu-item","",3,"click"]],template:function(e,a){e&1&&(t(0,"div",1)(1,"div",2)(2,"div",3),S(3,"div",4),i()()(),t(4,"div",5)(5,"div",3)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h1",9),n(10,"Liste des comptes utilisateurs"),i(),t(11,"button",10),u("click",function(){return a.openUsersDialog()}),t(12,"mat-icon"),n(13,"add"),i(),n(14," Ajouter un compte "),i()(),t(15,"div",11)(16,"mat-tab-group")(17,"mat-tab"),M(18,Gn,4,0,"ng-template",12),t(19,"div",13)(20,"div",14)(21,"div",15)(22,"table",16)(23,"thead")(24,"tr")(25,"th"),n(26,"#"),i(),t(27,"th",17),n(28,"Utilisateur"),i(),t(29,"th",17),n(30,"R\xF4le"),i(),t(31,"th",17),n(32,"Statut"),i(),t(33,"th",17),n(34,"Date de cr\xE9ation"),i(),t(35,"th",17),n(36,"Action"),i()()(),t(37,"tbody"),q(38,Jn,35,15,"tr",null,H),y(40,"paginate"),i()()()()(),t(41,"div",18)(42,"pagination-controls",19),u("pageChange",function(p){return a.p=p}),i()()(),t(43,"mat-tab"),M(44,Zn,4,0,"ng-template",12),t(45,"div",20)(46,"div",14)(47,"div",15)(48,"table",16)(49,"thead")(50,"tr")(51,"th"),n(52,"#"),i(),t(53,"th",17),n(54,"Utilisateur"),i(),t(55,"th",17),n(56,"Type de compte"),i(),t(57,"th",17),n(58,"R\xF4le"),i(),t(59,"th",17),n(60,"Statut"),i(),t(61,"th",17),n(62,"Date de cr\xE9ation"),i(),t(63,"th",17),n(64,"Action"),i()()(),t(65,"tbody"),q(66,Kn,44,16,"tr",null,H),y(68,"paginate"),i()()()()(),t(69,"div",18)(70,"pagination-controls",19),u("pageChange",function(p){return a.p=p}),i()()()()()()()()(),t(71,"ngx-spinner",21)(72,"p",22),n(73," Chargement en cours... "),i()()),e&2&&(s(38),Y(k(40,1,a.list_users_accounts,Z(7,si,a.p))),s(28),Y(k(68,4,a.list_employees_accounts,Z(9,si,a.p))),s(5),x("fullScreen",!0))},dependencies:[W,O,T,te,ee,ie,j,ne,Ue,G,$,Ne,je,dt,pt,ut,_t,J,me,ce,A,de,N]});let r=l;return r})();var ci=(()=>{let l=class l{};l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=C({type:l,selectors:[["app-user-type-accounts-list"]],standalone:!0,features:[E],decls:2,vars:0,template:function(e,a){e&1&&(t(0,"p"),n(1,"user-type-accounts-list works!"),i())}});let r=l;return r})();var di=(()=>{let l=class l{constructor(o,e,a,c,p){this._notificationService=o,this._traitement=e,this._loadings=a,this._router=c,this._active_router=p,this.first_name="",this.last_name="",this.diplome="",this.matricule="",this.adresse_email="",this.telephone="",this.nombre_enfant_a_charge=0,this.nationalite="",this.date_naissance=new Date,this.lieu_naissance="",this.type_piece="",this.piece_number="",this.lieu_residence="",this.cnps_number="",this.is_disabled=!0,this.is_disabled_contrats=!0,this.profession="",this.date_embauche=new Date,this.salaire_categoriel=0,this.salaire_net_mensuel=0,this.old_image="",this.img_update=!0,this.list_fonction=[],this.list_service=[],this.list_categorie_pro=[],this.list_contrats=[],this.list_bureau=[],this.phone="",this.first_step=!1,this.second_step=!1,this.fird_step=!1}ngOnInit(){this.getEmployeCurrentInfo()}getEmployeCurrentInfo(){this.item_slug=this._active_router.snapshot.paramMap.get("slug"),this._loadings.show_loading(),this._traitement.showEmployes(this.item_slug).subscribe({next:o=>{this.first_name=o.employe_info_perso.first_name,this.matricule=o.employe_info_perso.matricule,this.last_name=o.employe_info_perso.last_name,this.diplome=o.employe_info_perso.diplome,this.adresse_email=o.employe_info_perso.adresse_email,this.date_naissance=o.employe_info_perso.date_naissance,this.lieu_naissance=o.employe_info_perso.lieu_naissance,this.cnps_number=o.employe_info_perso.cnps_number,this.piece_number=o.employe_info_perso.piece_number,this.nationalite=o.employe_info_perso.nationalite,this.nombre_enfant_a_charge=o.employe_info_perso.nombre_enfant_a_charge,this.lieu_residence=o.employe_info_perso.lieu_residence,this.situation_matrimoniale=o.employe_info_perso.situation_matrimoniale,this.genre=o.employe_info_perso.genre,this.type_piece=o.employe_info_perso.type_piece,this.telephone=o.employe_info_perso.telephone,this.old_image=o.employe_info_perso.photo,this.item_slug_info=o.employe_info_perso.slug,this.is_agents=o.employe_info_perso.is_agents,this.is_responsible=o.employe_info_perso.is_responsible,this.profession=o.employe_info_perso.profession,this.categorie_pro=o.employe_info_contrats.categorie_pro,this.fonction=o.employe_info_contrats.fonction,this.service=o.employe_info_contrats.service,this.service_id=o.employe_info_contrats.service_id,this.contrats=o.employe_info_contrats.contrats,this.bureau=o.employe_info_contrats.bureau,this.salaire_categoriel=o.employe_info_contrats.salaire_categoriel,this.date_embauche=o.employe_info_contrats.date_embauche,this.salaire_net_mensuel=o.employe_info_contrats.salaire_mensuel_net,this.item_slug_contrats=o.employe_info_contrats.slug,this._loadings.hide_loading()},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(B),d(L),d(z),d(I),d(Nt))},l.\u0275cmp=C({type:l,selectors:[["app-admin-employees-profil"]],standalone:!0,features:[E],decls:117,vars:30,consts:[[1,"subscribe-header"],["src","assets/images/bg.jpg","alt",`Admin &
        Dashboards`,1,"img-fluid","w-100"],[1,"subscriber-body"],[1,"row","justify-content-center","mt-5"],[1,"col-xl-10","col-lg-12"],[1,"row","align-items-end"],[1,"col-auto"],[1,"img-8xx","img-fluid","rounded-circle","border","border-primary","border-4",3,"src"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title","fs-2"],[1,"card-body"],[1,"list-group"],[1,"fs-4","list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge","shade-green","rounded-pill"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"]],template:function(e,a){e&1&&(t(0,"div",0),S(1,"img",1),i(),t(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),S(7,"img",7),i()()()(),t(8,"div",3)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11),n(13,"Information personnelle"),i()(),t(14,"div",12)(15,"ul",13)(16,"li",14),n(17," Pr\xE9nom "),t(18,"span",15),n(19),i()(),t(20,"li",14),n(21," Nom de famille "),t(22,"span",15),n(23),i()(),t(24,"li",14),n(25," Profession "),t(26,"span",15),n(27),i()(),t(28,"li",14),n(29," Intitul\xE9 du dipl\xF4me "),t(30,"span",15),n(31),i()(),t(32,"li",14),n(33," Genre "),t(34,"span",15),n(35),i()(),t(36,"li",14),n(37," Adresse email "),t(38,"span",15),n(39),i()(),t(40,"li",14),n(41," Num\xE9ro t\xE9l\xE9phone "),t(42,"span",15),n(43),i()(),t(44,"li",14),n(45," Date de naissance "),t(46,"span",15),n(47),y(48,"date"),i()(),t(49,"li",14),n(50," Lieu de naissance "),t(51,"span",15),n(52),i()(),t(53,"li",14),n(54," Lieu de r\xE9sidence "),t(55,"span",15),n(56),i()(),t(57,"li",14),n(58," Nationalit\xE9 "),t(59,"span",15),n(60),i()(),t(61,"li",14),n(62," Situation Matrimoniale "),t(63,"span",15),n(64),i()(),t(65,"li",14),n(66," Nombre d'enfants \xE0 charge "),t(67,"span",15),n(68),i()(),t(69,"li",14),n(70," Type de pi\xE8ce "),t(71,"span",15),n(72),i()(),t(73,"li",14),n(74," N\xB0 Pi\xE8ce d'identit\xE9 "),t(75,"span",15),n(76),i()(),t(77,"li",14),n(78," N\xB0 CNPS "),t(79,"span",15),n(80),i()()()()()()(),t(81,"div",3)(82,"div",8)(83,"div",9)(84,"div",10)(85,"div",11),n(86,"Information professionnelle"),i()(),t(87,"div",12)(88,"ul",13)(89,"li",14),n(90," Fonction "),t(91,"span",15),n(92),i()(),t(93,"li",14),n(94," Service "),t(95,"span",15),n(96),i()(),t(97,"li",14),n(98," Lieu de travail "),t(99,"span",15),n(100),i()(),t(101,"li",14),n(102," Contrat "),t(103,"span",15),n(104),i()(),t(105,"li",14),n(106," Date d'embauche "),t(107,"span",15),n(108),y(109,"date"),i()(),t(110,"li",14),n(111," Cat\xE9gorie professionnelle "),t(112,"span",15),n(113),i()()()()()()()(),t(114,"ngx-spinner",16)(115,"p",17),n(116," Chargement en cours... "),i()()),e&2&&(s(7),x("src",a.old_image,De),s(12),v(a.first_name),s(4),v(a.last_name),s(4),v(a.profession),s(4),v(a.diplome),s(4),v(a.genre),s(4),v(a.adresse_email),s(4),v(a.telephone),s(4),v(k(48,24,a.date_naissance,"d MMMM yyyy ")),s(5),v(a.lieu_naissance),s(4),v(a.lieu_residence),s(4),v(a.nationalite),s(4),v(a.situation_matrimoniale),s(4),v(a.nombre_enfant_a_charge),s(4),v(a.type_piece),s(4),v(a.piece_number),s(4),v(a.cnps_number),s(12),v(a.fonction),s(4),v(a.service),s(4),v(a.bureau),s(4),v(a.contrats),s(4),v(k(109,27,a.date_embauche,"d MMMM yyyy ")),s(5),v(a.categorie_pro),s(),x("fullScreen",!0))},dependencies:[X,Qe,T,N,A,W,O]});let r=l;return r})();var pi=(()=>{let l=class l{constructor(o){this._dialogRef=o}ngOnInit(){}confirm(){this._dialogRef.close("confirm")}cancel(){this._dialogRef.close("cancel")}};l.\u0275fac=function(e){return new(e||l)(d(ge))},l.\u0275cmp=C({type:l,selectors:[["app-update-action"]],standalone:!0,features:[E],decls:25,vars:0,consts:[["mat-dialog-content",""],[1,"row","mt-2","justify-content-center"],[1,"col-md-12","text-center"],["src","assets/alert.svg","width","50","alt","","srcset",""],[1,"fw-bolder"],[1,"text-danger"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-raised-button","","color","primary",3,"click"],[1,"mat-18","me-2","f-18"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,a){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),S(3,"img",3)(4,"hr"),t(5,"p",4),n(6," Attention ! Avant de modifier un "),t(7,"strong",5),n(8,"responsable"),i(),n(9," ou "),t(10,"strong",5),n(11,"agent"),i(),n(12,", pri\xE8re de rendre sa responsabilit\xE9 "),t(13,"strong",5),n(14,"Inactif"),i(),n(15,". "),i()()()(),t(16,"div",6)(17,"button",7),u("click",function(){return a.cancel()}),t(18,"mat-icon",8),n(19,"reply"),i(),n(20," Annuler "),i(),t(21,"button",9),u("click",function(){return a.confirm()}),t(22,"mat-icon",8),n(23,"done_all"),i(),n(24," Confirmer "),i()())},dependencies:[X,T,j,D,Me,he]});let r=l;return r})();var Xn=r=>({itemsPerPage:10,currentPage:r}),eo=r=>["/admin.detail.employes",r];function to(r,l){r&1&&S(0,"mat-progress-bar",5)}function io(r,l){if(r&1&&(t(0,"mat-option",11),n(1),i()),r&2){let m=l.$implicit;x("value",m.matricule),s(),w(" ",m.first_name+" "+m.last_name+" ( matricule: "+m.matricule+" )  ( service: "+m.service+" ) "," ")}}function no(r,l){if(r&1){let m=b();t(0,"div",8)(1,"mat-radio-group",23),u("change",function(e){f(m);let a=_();return g(a.radioChange(e))}),t(2,"mat-radio-button",24),n(3,"Responsable de service"),i()()()}if(r&2){let m=_();s(2),x("checked",m.is_choose=="responsable")}}function oo(r,l){if(r&1){let m=b();t(0,"button",26),u("click",function(){f(m);let e=_(2);return g(e.saveResponsableAgents())}),t(1,"mat-icon"),n(2,"save"),i(),n(3," Enregistrer "),i()}}function ao(r,l){if(r&1){let m=b();t(0,"button",26),u("click",function(){f(m);let e=_(2);return g(e.updateResponsableAgents())}),t(1,"mat-icon"),n(2,"save"),i(),n(3," Modifier "),i()}}function ro(r,l){if(r&1&&(t(0,"div",8),M(1,oo,4,0,"button",25)(2,ao,4,0,"button",25),i()),r&2){let m=_();s(),h(1,m.is_updated==!1?1:-1),s(),h(2,m.is_updated==!0?2:-1)}}function lo(r,l){if(r&1&&(t(0,"mat-icon",27),n(1,"view_list"),i(),t(2,"span",28),n(3,"Liste des responsables"),i(),t(4,"span")(5,"button",29),n(6),i()()),r&2){let m=_();s(6),w(" ",m.total_responsable," ")}}function so(r,l){if(r&1){let m=b();t(0,"tr")(1,"td",18),n(2),i(),t(3,"div",30)(4,"a",31),S(5,"img",32),i(),t(6,"div")(7,"p",33),n(8),i(),t(9,"p",34),n(10),i()()(),t(11,"td",18)(12,"p",35),n(13),i()(),t(14,"td",18)(15,"p",35),n(16),y(17,"transformText"),i()(),t(18,"td",36)(19,"mat-slide-toggle",37),u("click",function(){let e=f(m).$implicit,a=_();return g(a.enableOrDisableIsResponsible(e.employee_matricule))}),t(20,"span",38),n(21),i()()(),t(22,"td",18),n(23),y(24,"transformDate"),i(),t(25,"td",18)(26,"button",39)(27,"mat-icon"),n(28,"more_vert"),i()(),t(29,"mat-menu",40,0)(31,"button",41),u("click",function(){let e=f(m).$implicit,a=_();return g(a.updateResponsableOrAgents(e))}),t(32,"mat-icon"),n(33,"border_color"),i(),n(34," Modifier "),i(),t(35,"button",42),u("click",function(){let e=f(m).$implicit,a=_();return g(a.openDeleDialog(e.slug))}),t(36,"mat-icon"),n(37,"delete"),i(),n(38," Supprimer "),i()()()()}if(r&2){let m=l.$implicit,o=l.$index,e=F(30);s(2),v(o+1),s(2),x("routerLink",Z(17,eo,m.slug)),s(),x("src",m.photo,De),s(3),w(" ",m.first_name+" "+m.last_name," "),s(2),w(" ",m.adresse_email," "),s(3),v(m.employee_matricule),s(3),v(Le(17,12,m.service)),s(3),x("color",m.is_responsible==1?"accent":"warn")("checked",m.is_responsible==1),s(2),v(m.is_responsible==1?"Actif":"Inactif"),s(2),v(k(24,14,m.created_at," d MMMM YYYY ")),s(3),x("matMenuTriggerFor",e)}}function mo(r,l){r&1&&(t(0,"tr")(1,"td",43)(2,"h1",18),n(3,"Aucune donn\xE9es pour le moment"),i()()())}var ui=(()=>{let l=class l{constructor(o,e,a,c,p){this._dialog=o,this._traitement=e,this._notificationService=a,this._loading=c,this._router=p,this.list_responsable=[],this.list_agents=[],this.list_employees=[],this.p=1,this.total_responsable=0,this.total_agents=0,this.employee_matricule="",this.is_checked=!1,this.is_selected=!1,this.is_choose="",this.item_slug="",this._loadings=!1,this.is_updated=!1}ngOnInit(){this.getEmployeeWhereIsresponsibleAndIsAgentEqualZeroList(),this.getResponsableAgentsList()}selectResponsableAgents(o){this.employee_matricule=o.value,this.is_selected=!0}radioChange(o){this.is_choose=o.value,this.is_checked=!0}updateResponsableOrAgents(o){o.is_responsible==1||o.is_qgents==1?this._dialog.open(pi,{width:"auto"}).afterClosed().subscribe({next:a=>{a=="confirm"&&this.getResponsableAgentsList()}}):(this.getEmployeeWhereIsresponsibleAndIsAgentEqualZeroList(),this.item_slug=o.slug,this.selectedResponsableOption=o.employee_matricule,this.is_choose=o.type_responsable_agent,this.is_selected=!0,this.is_checked=!0,this.is_updated=!0)}getEmployeeWhereIsresponsibleAndIsAgentEqualZeroList(){this._loading.show_loading(),this._traitement.getEmployeeWhereIsresponsibleAndIsAgentEqualZero().subscribe({next:o=>{console.log(o),setTimeout(()=>{this.list_employees=o,this._loading.hide_loading()},500)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}saveResponsableAgents(){let o={employee_matricule:this.employee_matricule,type_responsable_agent:this.is_choose};this._loadings=!0,this._traitement.saveResponsableAgents(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSimpleSuccess(e),this._loadings=!1,this.initForm(),this.getResponsableAgentsList(),this.getEmployeeWhereIsresponsibleAndIsAgentEqualZeroList()},1e3):(e.code==302||e.code==300)&&(this._loadings=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateResponsableAgents(){let o={employee_matricule:this.employee_matricule==""?this.selectedResponsableOption:this.employee_matricule,type_responsable_agent:this.is_choose};this._loadings=!0,this._traitement.updateResponsableAgents(o,this.item_slug).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSimpleSuccess(e),this._loadings=!1,this.initForm(),this.getResponsableAgentsList(),this.getEmployeeWhereIsresponsibleAndIsAgentEqualZeroList()},1e3):(e.code==302||e.code==300)&&(this._loadings=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getResponsableAgentsList(){this._loading.show_loading(),this._traitement.getResponsableAgents().subscribe({next:o=>{setTimeout(()=>{this.list_responsable=o.responsable_list,this.total_responsable=this.list_responsable.length,this._loading.hide_loading()},3e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}enableOrDisableIsResponsible(o){this._loading.show_loading(),this._traitement.enableOrDisableIsResponsible(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSimpleSuccess(e),this._loading.hide_loading(),this.getResponsableAgentsList()},500):(e.code==302||e.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}enableOrDisableIsAgents(o){this._loading.show_loading(),this._traitement.enableOrDisableIsAgents(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSimpleSuccess(e),this._loading.hide_loading(),this.getResponsableAgentsList()},500):(e.code==302||e.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(K,{width:"auto"}).afterClosed().subscribe({next:a=>{a=="confirm"&&this.deleteResponsableAgents(o)}})}deleteResponsableAgents(o){this._loading.show_loading(),this._traitement.destroyResponsableAgents(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSimpleSuccess(e),this._loading.hide_loading(),this.getResponsableAgentsList()},1e3):(e.code==302||e.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}initForm(){this.selectedResponsableOption="",this.is_choose="",this.is_selected=!1,this.is_checked=!1,this.is_updated=!1}};l.\u0275fac=function(e){return new(e||l)(d(le),d(L),d(B),d(z),d(I))},l.\u0275cmp=C({type:l,selectors:[["app-responsable-agent-list"]],standalone:!0,features:[E],decls:54,vars:12,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],["mode","indeterminate"],[1,"mb-3"],[1,"row"],[1,"col-lg-12","col-sm-12","col-md-12"],["appearance","outline"],[3,"valueChange","selectionChange","value"],[3,"value"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],["mat-tab-label",""],[1,"table-responsive"],[1,"table","table-striped","mt-3"],[1,"text-center"],[1,"div","text-center","mt-4"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["aria-label","Select an option",3,"change"],["value","responsable",3,"checked"],["mat-fab","","extended","","color","primary"],["mat-fab","","extended","","color","primary",3,"click"],[1,"example-tab-icon","me-3"],[1,"fw-bolder","fs-5"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],[1,"d-flex","align-items-center"],[3,"routerLink"],["alt","Employe photo",1,"img-2x","rounded-5","me-3",3,"src"],[1,"m-0","fw-600","text-primary"],[1,"m-0","fw-600","text-red"],[1,"fw-600"],[1,"text-center","fw-bolder"],[3,"click","color","checked"],[1,"text-primary","fw-bolder"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"],["disabled","","mat-menu-item","",3,"click"],["colspan","10",1,"text-center"]],template:function(e,a){e&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"mat-card"),M(5,to,1,0,"mat-progress-bar",5),t(6,"mat-card-header",6)(7,"mat-card-title"),n(8),i()(),t(9,"mat-card-content")(10,"div",7)(11,"div",8)(12,"mat-form-field",9)(13,"mat-label"),n(14,"S\xE9lectionner un employ\xE9"),i(),t(15,"mat-select",10),R("valueChange",function(p){return V(a.selectedResponsableOption,p)||(a.selectedResponsableOption=p),p}),u("selectionChange",function(p){return a.selectResponsableAgents(p)}),q(16,io,2,2,"mat-option",11,H),i()()(),M(18,no,4,1,"div",8)(19,ro,3,2,"div",8),i()()()()()()(),t(20,"div",12)(21,"div",13)(22,"div",14)(23,"mat-tab-group")(24,"mat-tab"),M(25,lo,7,1,"ng-template",15),t(26,"div",16)(27,"table",17)(28,"thead")(29,"tr")(30,"th",18),n(31,"#Id"),i(),t(32,"th",18),n(33,"Le responsable "),i(),t(34,"th",18),n(35,"Matricule"),i(),t(36,"th",18),n(37,"Service"),i(),t(38,"th",18),n(39,"Responsabilit\xE9"),i(),t(40,"th",18),n(41,"Date de cr\xE9ation"),i(),t(42,"th",18),n(43,"Actions"),i()()(),t(44,"tbody"),q(45,so,39,19,"tr",null,H),y(47,"paginate"),M(48,mo,4,0,"tr"),i()()(),t(49,"div",19)(50,"pagination-controls",20),u("pageChange",function(p){return a.p=p}),i()()()()()()(),t(51,"ngx-spinner",21)(52,"p",22),n(53," Chargement en cours... "),i()()),e&2&&(s(5),h(5,a._loadings==!0?5:-1),s(3),w(" ",a.is_updated==!1?"Enregistrement de responsable":"Modification de responsable ou agent"," "),s(7),P("value",a.selectedResponsableOption),s(),Y(a.list_employees),s(2),h(18,a.is_selected==!0?18:-1),s(),h(19,a.is_checked==!0?19:-1),s(26),Y(k(47,7,a.list_responsable,Z(10,Xn,a.p))),s(3),h(48,a.list_responsable.length==0?48:-1),s(3),x("fullScreen",!0))},dependencies:[W,O,T,te,ee,ie,j,ne,Ue,G,$,Ne,je,dt,pt,ut,ye,Te,ke,we,ve,Xe,et,_t,J,me,ce,A,de,Oe,N,st]});let r=l;return r})();var _i=(()=>{let l=class l{};l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=C({type:l,selectors:[["app-evaluation-list"]],standalone:!0,features:[E],decls:2,vars:0,template:function(e,a){e&1&&(t(0,"p"),n(1,"evaluation-list works!"),i())}});let r=l;return r})();function co(r,l){r&1&&S(0,"mat-progress-bar",1)}function po(r,l){if(r&1){let m=b();t(0,"button",11),u("click",function(){f(m);let e=_();return g(e.updateBureau())}),n(1,"Modifier"),i()}}function uo(r,l){if(r&1){let m=b();t(0,"button",11),u("click",function(){f(m);let e=_();return g(e.saveBureau())}),n(1,"Enregistrer"),i()}}var Tt=(()=>{let l=class l{constructor(o,e,a,c,p){this._notificationService=o,this._traitement=e,this._router=a,this.data=c,this._dialogRef=p,this.bureau="",this.is_update=!1,this.is_loading=!1}ngOnInit(){this.data!=null&&(this.is_update=!0,this.bureau=this.data.bureau,this.item_slug=this.data.slug)}saveBureau(){if(this.bureau==""){this._notificationService.openSnackBarSimpleError("Le bureau est obligatoire");return}let o={bureau:this.bureau.toUpperCase()};this.is_loading=!0,this._traitement.saveBureau(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarSuccess(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateBureau(){if(this.bureau==""){this._notificationService.openSnackBarSimpleError("Le bureau est obligatoire");return}let o={bureau:this.bureau.toUpperCase()};this.is_loading=!0,this._traitement.updateBureau(o,this.item_slug).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(B),d(L),d(I),d(Se),d(ge))},l.\u0275cmp=C({type:l,selectors:[["app-add-bureau"]],standalone:!0,features:[E],decls:17,vars:4,consts:[["mat-dialog-title",""],["mode","indeterminate"],["mat-dialog-content",""],[1,"row","mt-2"],[1,"col-md-12","col-lg-12"],["appearance","outline"],[1,"fs-4"],["matInput","","placeholder","Le site",3,"ngModelChange","ngModel"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-raised-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","warn"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,a){e&1&&(t(0,"h1",0),n(1,"Nouvel site"),i(),M(2,co,1,0,"mat-progress-bar",1),t(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),n(8,"Le site "),t(9,"code",6),n(10,"*"),i()(),t(11,"input",7),R("ngModelChange",function(p){return V(a.bureau,p)||(a.bureau=p),p}),i()()()()(),t(12,"div",8)(13,"button",9),n(14,"Annuler"),i(),M(15,po,2,0,"button",10)(16,uo,2,0,"button",10),i()),e&2&&(s(2),h(2,a.is_loading==!0?2:-1),s(9),P("ngModel",a.bureau),s(4),h(15,a.is_update==!0?15:-1),s(),h(16,a.is_update==!1?16:-1))},dependencies:[X,T,D,G,$,be,Ce,Me,he,se,ve,A,oe,ae,re]});let r=l;return r})();var _o=r=>({itemsPerPage:10,currentPage:r});function fo(r,l){if(r&1){let m=b();t(0,"tr")(1,"td",14),n(2),i(),t(3,"td",14)(4,"p",19),n(5),i()(),t(6,"td",14),n(7),y(8,"transformDate"),i(),t(9,"td",14)(10,"button",20)(11,"mat-icon"),n(12,"more_vert"),i()(),t(13,"mat-menu",21,0)(15,"button",22),u("click",function(){let e=f(m).$implicit,a=_();return g(a.updateBureau(e))}),t(16,"mat-icon"),n(17,"border_color"),i(),n(18," Modifier "),i(),t(19,"button",22),u("click",function(){let e=f(m).$implicit,a=_();return g(a.openDeleDialog(e.slug))}),t(20,"mat-icon"),n(21,"delete"),i(),n(22," Supprimer "),i()()()()}if(r&2){let m=l.$implicit,o=l.$index,e=F(14);s(2),v(o+1),s(3),w("",m.bureau," "),s(2),v(k(8,4,m.created_at," d MMMM YYYY ")),s(3),x("matMenuTriggerFor",e)}}var fi=(()=>{let l=class l{constructor(o,e,a,c,p){this._dialog=o,this._traitement=e,this._loading=a,this._router=c,this._notificationService=p,this.list_bureau=[],this.p=1}ngOnInit(){this.getBureauList()}openBureauDialog(){this._dialog.open(Tt,{width:"auto"}).afterClosed().subscribe({next:e=>{e&&this.getBureauList()}})}updateBureau(o){this._dialog.open(Tt,{width:"auto",data:o}).afterClosed().subscribe({next:a=>{a&&this.getBureauList()}})}getBureauList(){this._loading.show_loading(),this._traitement.getBureau().subscribe({next:o=>{setTimeout(()=>{this.list_bureau=o,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(K,{width:"auto"}).afterClosed().subscribe({next:a=>{a=="confirm"&&this.deleteBureau(o)}})}deleteBureau(o){this._loading.show_loading(),this._traitement.destroyBureau(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this._loading.hide_loading(),this.getBureauList()},1e3):(e.code==302||e.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(le),d(L),d(z),d(I),d(B))},l.\u0275cmp=C({type:l,selectors:[["app-bureau-list"]],standalone:!0,features:[E],decls:40,vars:6,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"mat-elevation-z8"],[1,"d-flex","justify-content-between"],["mat-button","",1,"text-uppercase","default__btn__lg"],["mat-raised-button","","color","primary",1,"text-uppercase","default__btn__lg",3,"click"],[1,"table-responsive"],[1,"table","table-striped","mt-3"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"m-b-0"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"]],template:function(e,a){e&1&&(t(0,"div",1)(1,"div",2)(2,"div",3),S(3,"div",4),i()()(),t(4,"div",5)(5,"div",6)(6,"div",7)(7,"mat-card",8)(8,"mat-card-header",9)(9,"mat-card-title")(10,"button",10)(11,"mat-icon"),n(12,"list"),i(),n(13," Liste des sites "),i()(),t(14,"button",11),u("click",function(){return a.openBureauDialog()}),t(15,"mat-icon"),n(16,"add"),i(),n(17," Nouvel site "),i()(),t(18,"mat-card-content")(19,"div",12)(20,"table",13)(21,"thead")(22,"tr")(23,"th",14),n(24,"#Id"),i(),t(25,"th",14),n(26,"Le site"),i(),t(27,"th",14),n(28,"Date de cr\xE9ation"),i(),t(29,"th",14),n(30,"Actions"),i()()(),t(31,"tbody"),q(32,fo,23,7,"tr",null,H),y(34,"paginate"),i()(),t(35,"div",15)(36,"pagination-controls",16),u("pageChange",function(p){return a.p=p}),i()()()()()()()(),t(37,"ngx-spinner",17)(38,"p",18),n(39," Chargement en cours... "),i()()),e&2&&(s(32),Y(k(34,1,a.list_bureau,Z(4,_o,a.p))),s(5),x("fullScreen",!0))},dependencies:[W,O,T,te,ee,ie,j,D,ne,ye,Te,ke,we,J,me,ce,A,de,N]});let r=l;return r})();function go(r,l){r&1&&S(0,"mat-progress-bar",1)}function ho(r,l){if(r&1){let m=b();t(0,"button",11),u("click",function(){f(m);let e=_();return g(e.updateCategoriePro())}),n(1,"Modifier"),i()}}function vo(r,l){if(r&1){let m=b();t(0,"button",11),u("click",function(){f(m);let e=_();return g(e.saveCategoriePro())}),n(1,"Enregistrer"),i()}}var kt=(()=>{let l=class l{constructor(o,e,a,c,p){this._notificationService=o,this._traitement=e,this._router=a,this.data=c,this._dialogRef=p,this.categorie_pro="",this.is_update=!1,this.is_loading=!1}ngOnInit(){this.data!=null&&(this.is_update=!0,this.categorie_pro=this.data.categorie_pro,this.item_slug=this.data.slug)}saveCategoriePro(){if(this.categorie_pro==""){this._notificationService.openSnackBarSimpleError("Le cat\xE9gorie professionnelle est obligatoire");return}let o={categorie_pro:this.categorie_pro.toUpperCase()};this.is_loading=!0,this._traitement.saveCategorieProfessionnelle(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateCategoriePro(){if(this.categorie_pro==""){this._notificationService.openSnackBarSimpleError("La cat\xE9gorie professionnelle est obligatoire");return}let o={categorie_pro:this.categorie_pro.toUpperCase()};this.is_loading=!0,this._traitement.updateCategorieProfessionnelle(o,this.item_slug).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(B),d(L),d(I),d(Se),d(ge))},l.\u0275cmp=C({type:l,selectors:[["app-add-categorie-pro"]],standalone:!0,features:[E],decls:17,vars:4,consts:[["mat-dialog-title",""],["mode","indeterminate"],["mat-dialog-content",""],[1,"row","mt-2"],[1,"col-md-12","col-lg-12"],["appearance","outline"],[1,"fs-4"],["matInput","","placeholder","Le cat\xE9gorie",3,"ngModelChange","ngModel"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-raised-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","warn"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,a){e&1&&(t(0,"h1",0),n(1,"Nouvelle cat\xE9gorie professionnelle"),i(),M(2,go,1,0,"mat-progress-bar",1),t(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),n(8,"Le cat\xE9gorie "),t(9,"code",6),n(10,"*"),i()(),t(11,"input",7),R("ngModelChange",function(p){return V(a.categorie_pro,p)||(a.categorie_pro=p),p}),i()()()()(),t(12,"div",8)(13,"button",9),n(14,"Annuler"),i(),M(15,ho,2,0,"button",10)(16,vo,2,0,"button",10),i()),e&2&&(s(2),h(2,a.is_loading==!0?2:-1),s(9),P("ngModel",a.categorie_pro),s(4),h(15,a.is_update==!0?15:-1),s(),h(16,a.is_update==!1?16:-1))},dependencies:[X,T,D,G,$,be,Ce,Me,he,se,ve,A,oe,ae,re]});let r=l;return r})();var xo=r=>({itemsPerPage:10,currentPage:r});function So(r,l){if(r&1){let m=b();t(0,"tr")(1,"td",14),n(2),i(),t(3,"td",14)(4,"p",19),n(5),i()(),t(6,"td",20)(7,"p",19),n(8),y(9,"transformDate"),i()(),t(10,"td",14)(11,"button",21)(12,"mat-icon"),n(13,"more_vert"),i()(),t(14,"mat-menu",22,0)(16,"button",23),u("click",function(){let e=f(m).$implicit,a=_();return g(a.updateCategorieProfessionnelle(e))}),t(17,"mat-icon"),n(18,"border_color"),i(),n(19," Modifier "),i(),t(20,"button",23),u("click",function(){let e=f(m).$implicit,a=_();return g(a.openDeleDialog(e.slug))}),t(21,"mat-icon"),n(22,"delete"),i(),n(23," Supprimer "),i()()()()}if(r&2){let m=l.$implicit,o=l.$index,e=F(15);s(2),v(o+1),s(3),w("",m.categorie_pro," "),s(3),w("",k(9,4,m.created_at," d MMMM YYYY ")," "),s(3),x("matMenuTriggerFor",e)}}var gi=(()=>{let l=class l{constructor(o,e,a,c,p){this._dialog=o,this._traitement=e,this._loading=a,this._router=c,this._notificationService=p,this.list_categorie_pro=[],this.p=1}ngOnInit(){this.getCategorieProfessionnelleList()}openCategorieProfessionnelleDialog(){this._dialog.open(kt,{width:"auto"}).afterClosed().subscribe({next:e=>{e&&this.getCategorieProfessionnelleList()}})}updateCategorieProfessionnelle(o){this._dialog.open(kt,{width:"auto",data:o}).afterClosed().subscribe({next:a=>{a&&this.getCategorieProfessionnelleList()}})}getCategorieProfessionnelleList(){this._loading.show_loading(),this._traitement.getCategorieProfessionnelle().subscribe({next:o=>{setTimeout(()=>{this.list_categorie_pro=o,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(K,{width:"auto"}).afterClosed().subscribe({next:a=>{a=="confirm"&&this.deleteCategorieProfessionnelle(o)}})}deleteCategorieProfessionnelle(o){this._loading.show_loading(),this._traitement.deleteCategorieProfessionnelle(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this._loading.hide_loading(),this.getCategorieProfessionnelleList()},1e3):(e.code==302||e.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(le),d(L),d(z),d(I),d(B))},l.\u0275cmp=C({type:l,selectors:[["app-categorie-professionnelle-list"]],standalone:!0,features:[E],decls:40,vars:6,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"mat-elevation-z8"],[1,"d-flex","justify-content-between"],["mat-button","",1,"text-uppercase","default__btn__lg"],["mat-raised-button","","color","primary",1,"text-uppercase","default__btn__lg",3,"click"],[1,"table-responsive"],[1,"table","table-striped","mt-3"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"m-b-0","fw-bolder"],[1,"text-center","fw-bolder"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"]],template:function(e,a){e&1&&(t(0,"div",1)(1,"div",2)(2,"div",3),S(3,"div",4),i()()(),t(4,"div",5)(5,"div",6)(6,"div",7)(7,"mat-card",8)(8,"mat-card-header",9)(9,"mat-card-title")(10,"button",10)(11,"mat-icon"),n(12,"list"),i(),n(13," Liste des cat\xE9gories professionnelles "),i()(),t(14,"button",11),u("click",function(){return a.openCategorieProfessionnelleDialog()}),t(15,"mat-icon"),n(16,"add"),i(),n(17," Nouvel cat\xE9gorie "),i()(),t(18,"mat-card-content")(19,"div",12)(20,"table",13)(21,"thead")(22,"tr")(23,"th",14),n(24,"#Id"),i(),t(25,"th",14),n(26,"La cat\xE9gorie"),i(),t(27,"th",14),n(28,"Date de cr\xE9ation"),i(),t(29,"th",14),n(30,"Actions"),i()()(),t(31,"tbody"),q(32,So,24,7,"tr",null,H),y(34,"paginate"),i()(),t(35,"div",15)(36,"pagination-controls",16),u("pageChange",function(p){return a.p=p}),i()()()()()()()(),t(37,"ngx-spinner",17)(38,"p",18),n(39," Chargement en cours... "),i()()),e&2&&(s(32),Y(k(34,1,a.list_categorie_pro,Z(4,xo,a.p))),s(5),x("fullScreen",!0))},dependencies:[W,O,T,te,ee,ie,j,D,ne,ye,Te,ke,we,J,me,ce,A,de,N]});let r=l;return r})();function bo(r,l){r&1&&S(0,"mat-progress-bar",1)}function Co(r,l){if(r&1){let m=b();t(0,"button",11),u("click",function(){f(m);let e=_();return g(e.updateTypeContrats())}),n(1,"Modifier"),i()}}function Eo(r,l){if(r&1){let m=b();t(0,"button",11),u("click",function(){f(m);let e=_();return g(e.saveTypeContrats())}),n(1,"Enregistrer"),i()}}var It=(()=>{let l=class l{constructor(o,e,a,c,p){this._notificationService=o,this._traitement=e,this._router=a,this.data=c,this._dialogRef=p,this.contrats="",this.is_update=!1,this.is_loading=!1}ngOnInit(){this.data!=null&&(this.is_update=!0,this.contrats=this.data.contrats,this.item_slug=this.data.slug)}saveTypeContrats(){if(this.contrats==""){this._notificationService.openSnackBarSimpleError("Le type de contrat est obligatoire");return}let o={contrats:this.contrats.toUpperCase()};this.is_loading=!0,this._traitement.saveContrats(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateTypeContrats(){if(this.contrats==""){this._notificationService.openSnackBarSimpleError("Le type de contrat est obligatoire");return}let o={contrats:this.contrats.toUpperCase()};this.is_loading=!0,this._traitement.updateContrats(o,this.item_slug).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(B),d(L),d(I),d(Se),d(ge))},l.\u0275cmp=C({type:l,selectors:[["app-add-contrats"]],standalone:!0,features:[E],decls:17,vars:4,consts:[["mat-dialog-title",""],["mode","indeterminate"],["mat-dialog-content",""],[1,"row","mt-2"],[1,"col-md-12","col-lg-12"],["appearance","outline"],[1,"fs-4"],["matInput","","placeholder","Le type de contrat",3,"ngModelChange","ngModel"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-raised-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","warn"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,a){e&1&&(t(0,"h1",0),n(1,"Nouvel type de contrat"),i(),M(2,bo,1,0,"mat-progress-bar",1),t(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),n(8,"Le type de contrat "),t(9,"code",6),n(10,"*"),i()(),t(11,"input",7),R("ngModelChange",function(p){return V(a.contrats,p)||(a.contrats=p),p}),i()()()()(),t(12,"div",8)(13,"button",9),n(14,"Annuler"),i(),M(15,Co,2,0,"button",10)(16,Eo,2,0,"button",10),i()),e&2&&(s(2),h(2,a.is_loading==!0?2:-1),s(9),P("ngModel",a.contrats),s(4),h(15,a.is_update==!0?15:-1),s(),h(16,a.is_update==!1?16:-1))},dependencies:[X,T,D,G,$,be,Ce,Me,he,se,ve,A,oe,ae,re]});let r=l;return r})();var Mo=r=>({itemsPerPage:10,currentPage:r});function yo(r,l){if(r&1){let m=b();t(0,"tr")(1,"td",14),n(2),i(),t(3,"td")(4,"p",19),n(5),i()(),t(6,"td"),n(7),y(8,"transformDate"),i(),t(9,"td",14)(10,"button",20)(11,"mat-icon"),n(12,"more_vert"),i()(),t(13,"mat-menu",21,0)(15,"button",22),u("click",function(){let e=f(m).$implicit,a=_();return g(a.updateContrats(e))}),t(16,"mat-icon"),n(17,"border_color"),i(),n(18," Modifier "),i(),t(19,"button",22),u("click",function(){let e=f(m).$implicit,a=_();return g(a.openDeleDialog(e.slug))}),t(20,"mat-icon"),n(21,"delete"),i(),n(22," Supprimer "),i()()()()}if(r&2){let m=l.$implicit,o=l.$index,e=F(14);s(2),v(o+1),s(3),w("",m.contrats," "),s(2),v(k(8,4,m.created_at," d MMMM YYYY ")),s(3),x("matMenuTriggerFor",e)}}var hi=(()=>{let l=class l{constructor(o,e,a,c,p){this._dialog=o,this._traitement=e,this._loading=a,this._router=c,this._notificationService=p,this.list_contrats=[],this.p=1}ngOnInit(){this.getContratsList()}openContratsDialog(){this._dialog.open(It,{width:"auto"}).afterClosed().subscribe({next:e=>{e&&this.getContratsList()}})}updateContrats(o){this._dialog.open(It,{width:"auto",data:o}).afterClosed().subscribe({next:a=>{a&&this.getContratsList()}})}getContratsList(){this._loading.show_loading(),this._traitement.getContrats().subscribe({next:o=>{setTimeout(()=>{this.list_contrats=o,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(K,{width:"auto"}).afterClosed().subscribe({next:a=>{a=="confirm"&&this.deleteContrats(o)}})}deleteContrats(o){this._loading.show_loading(),this._traitement.destroyContrats(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this._loading.hide_loading(),this.getContratsList()},1e3):(e.code==302||e.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(le),d(L),d(z),d(I),d(B))},l.\u0275cmp=C({type:l,selectors:[["app-contrats-list"]],standalone:!0,features:[E],decls:40,vars:6,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"mat-elevation-z8"],[1,"d-flex","justify-content-between"],["mat-button","",1,"text-uppercase","default__btn__lg"],["mat-raised-button","","color","primary",1,"text-uppercase","default__btn__lg",3,"click"],[1,"table-responsive"],[1,"table","table-striped","mt-3"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"m-b-0"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"]],template:function(e,a){e&1&&(t(0,"div",1)(1,"div",2)(2,"div",3),S(3,"div",4),i()()(),t(4,"div",5)(5,"div",6)(6,"div",7)(7,"mat-card",8)(8,"mat-card-header",9)(9,"mat-card-title")(10,"button",10)(11,"mat-icon"),n(12,"list"),i(),n(13," Liste des types de contrat "),i()(),t(14,"button",11),u("click",function(){return a.openContratsDialog()}),t(15,"mat-icon"),n(16,"add"),i(),n(17," Nouvel type de contrat "),i()(),t(18,"mat-card-content")(19,"div",12)(20,"table",13)(21,"thead")(22,"tr")(23,"th",14),n(24,"#Id"),i(),t(25,"th"),n(26,"Le type de contrat"),i(),t(27,"th"),n(28,"Date de cr\xE9ation"),i(),t(29,"th",14),n(30,"Actions"),i()()(),t(31,"tbody"),q(32,yo,23,7,"tr",null,H),y(34,"paginate"),i()(),t(35,"div",15)(36,"pagination-controls",16),u("pageChange",function(p){return a.p=p}),i()()()()()()()(),t(37,"ngx-spinner",17)(38,"p",18),n(39," Chargement en cours... "),i()()),e&2&&(s(32),Y(k(34,1,a.list_contrats,Z(4,Mo,a.p))),s(5),x("fullScreen",!0))},dependencies:[W,O,T,te,ee,ie,j,D,ne,ye,Te,ke,we,J,me,ce,A,de,N]});let r=l;return r})();function wo(r,l){r&1&&S(0,"mat-progress-bar",1)}function To(r,l){if(r&1){let m=b();t(0,"button",11),u("click",function(){f(m);let e=_();return g(e.updateFonction())}),n(1,"Modifier"),i()}}function ko(r,l){if(r&1){let m=b();t(0,"button",11),u("click",function(){f(m);let e=_();return g(e.saveFonction())}),n(1,"Enregistrer"),i()}}var Bt=(()=>{let l=class l{constructor(o,e,a,c,p){this._notificationService=o,this._traitement=e,this._router=a,this.data=c,this._dialogRef=p,this.fonction="",this.is_update=!1,this.is_loading=!1}ngOnInit(){this.data!=null&&(this.is_update=!0,this.fonction=this.data.fonction,this.item_slug=this.data.slug)}saveFonction(){if(this.fonction==""){this._notificationService.openSnackBarSimpleError("La fonction est obligatoire");return}let o={fonction:this.fonction.toUpperCase()};this.is_loading=!0,this._traitement.saveFonction(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateFonction(){if(this.fonction==""){this._notificationService.openSnackBarSimpleError("La fonction est obligatoire");return}let o={fonction:this.fonction.toUpperCase()};this.is_loading=!0,this._traitement.updateFonction(o,this.item_slug).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(B),d(L),d(I),d(Se),d(ge))},l.\u0275cmp=C({type:l,selectors:[["app-add-fonction"]],standalone:!0,features:[E],decls:17,vars:4,consts:[["mat-dialog-title",""],["mode","indeterminate"],["mat-dialog-content",""],[1,"row","mt-2"],[1,"col-md-12","col-lg-12"],["appearance","outline"],[1,"fs-4"],["matInput","","placeholder","La fonction",3,"ngModelChange","ngModel"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-raised-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","warn"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,a){e&1&&(t(0,"h1",0),n(1,"Nouvelle fonction"),i(),M(2,wo,1,0,"mat-progress-bar",1),t(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),n(8,"La fonction "),t(9,"code",6),n(10,"*"),i()(),t(11,"input",7),R("ngModelChange",function(p){return V(a.fonction,p)||(a.fonction=p),p}),i()()()()(),t(12,"div",8)(13,"button",9),n(14,"Annuler"),i(),M(15,To,2,0,"button",10)(16,ko,2,0,"button",10),i()),e&2&&(s(2),h(2,a.is_loading==!0?2:-1),s(9),P("ngModel",a.fonction),s(4),h(15,a.is_update==!0?15:-1),s(),h(16,a.is_update==!1?16:-1))},dependencies:[X,T,D,G,$,be,Ce,Me,he,se,ve,A,oe,ae,re]});let r=l;return r})();var Io=r=>({itemsPerPage:10,currentPage:r});function Bo(r,l){if(r&1){let m=b();t(0,"tr")(1,"td",14),n(2),i(),t(3,"td")(4,"p",19),n(5),i()(),t(6,"td"),n(7),y(8,"transformDate"),i(),t(9,"td",14)(10,"button",20)(11,"mat-icon"),n(12,"more_vert"),i()(),t(13,"mat-menu",21,0)(15,"button",22),u("click",function(){let e=f(m).$implicit,a=_();return g(a.updateFonction(e))}),t(16,"mat-icon"),n(17,"border_color"),i(),n(18," Modifier "),i(),t(19,"button",22),u("click",function(){let e=f(m).$implicit,a=_();return g(a.openDeleDialog(e.slug))}),t(20,"mat-icon"),n(21,"delete"),i(),n(22," Supprimer "),i()()()()}if(r&2){let m=l.$implicit,o=l.$index,e=F(14);s(2),v(o+1),s(3),w("",m.fonction," "),s(2),v(k(8,4,m.created_at," d MMMM YYYY ")),s(3),x("matMenuTriggerFor",e)}}var vi=(()=>{let l=class l{constructor(o,e,a,c,p){this._dialog=o,this._traitement=e,this._loading=a,this._router=c,this._notificationService=p,this.list_fonction=[],this.p=1}ngOnInit(){this.getFonctionList()}openFonctionDialog(){this._dialog.open(Bt,{width:"auto"}).afterClosed().subscribe({next:e=>{e&&this.getFonctionList()}})}updateFonction(o){this._dialog.open(Bt,{width:"auto",data:o}).afterClosed().subscribe({next:a=>{a&&this.getFonctionList()}})}getFonctionList(){this._loading.show_loading(),this._traitement.getFonction().subscribe({next:o=>{setTimeout(()=>{this.list_fonction=o,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(K,{width:"auto"}).afterClosed().subscribe({next:a=>{a=="confirm"&&this.deleteFonction(o)}})}deleteFonction(o){this._loading.show_loading(),this._traitement.destroyFonction(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this._loading.hide_loading(),this.getFonctionList()},1e3):(e.code==302||e.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(le),d(L),d(z),d(I),d(B))},l.\u0275cmp=C({type:l,selectors:[["app-fonctions-list"]],standalone:!0,features:[E],decls:40,vars:6,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"mat-elevation-z8"],[1,"d-flex","justify-content-between"],["mat-button","",1,"text-uppercase","default__btn__lg"],["mat-raised-button","","color","primary",1,"text-uppercase","default__btn__lg",3,"click"],[1,"table-responsive"],[1,"table","table-striped","mt-3"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"m-b-0"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"]],template:function(e,a){e&1&&(t(0,"div",1)(1,"div",2)(2,"div",3),S(3,"div",4),i()()(),t(4,"div",5)(5,"div",6)(6,"div",7)(7,"mat-card",8)(8,"mat-card-header",9)(9,"mat-card-title")(10,"button",10)(11,"mat-icon"),n(12,"list"),i(),n(13," Liste des fonctions "),i()(),t(14,"button",11),u("click",function(){return a.openFonctionDialog()}),t(15,"mat-icon"),n(16,"add"),i(),n(17," Nouvelle fonction "),i()(),t(18,"mat-card-content")(19,"div",12)(20,"table",13)(21,"thead")(22,"tr")(23,"th",14),n(24,"#Id"),i(),t(25,"th"),n(26,"La fonction"),i(),t(27,"th"),n(28,"Date de cr\xE9ation"),i(),t(29,"th",14),n(30,"Actions"),i()()(),t(31,"tbody"),q(32,Bo,23,7,"tr",null,H),y(34,"paginate"),i()(),t(35,"div",15)(36,"pagination-controls",16),u("pageChange",function(p){return a.p=p}),i()()()()()()()(),t(37,"ngx-spinner",17)(38,"p",18),n(39," Chargement en cours... "),i()()),e&2&&(s(32),Y(k(34,1,a.list_fonction,Z(4,Io,a.p))),s(5),x("fullScreen",!0))},dependencies:[W,O,T,te,ee,ie,j,D,ne,ye,Te,ke,we,J,me,ce,A,de,N]});let r=l;return r})();function Ao(r,l){r&1&&S(0,"mat-progress-bar",1)}function Do(r,l){if(r&1){let m=b();t(0,"button",11),u("click",function(){f(m);let e=_();return g(e.updateService())}),n(1,"Modifier"),i()}}function Lo(r,l){if(r&1){let m=b();t(0,"button",11),u("click",function(){f(m);let e=_();return g(e.saveService())}),n(1,"Enregistrer"),i()}}var At=(()=>{let l=class l{constructor(o,e,a,c,p){this._notificationService=o,this._traitement=e,this._router=a,this.data=c,this._dialogRef=p,this.service="",this.is_update=!1,this.is_loading=!1}ngOnInit(){this.data!=null&&(this.is_update=!0,this.service=this.data.service,this.item_slug=this.data.slug)}saveService(){if(this.service==""){this._notificationService.openSnackBarSimpleError("Le service est obligatoire");return}let o={service:this.service.toUpperCase()};this.is_loading=!0,this._traitement.saveService(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateService(){if(this.service==""){this._notificationService.openSnackBarSimpleError("Le service est obligatoire");return}let o={service:this.service.toUpperCase()};this.is_loading=!0,this._traitement.updateService(o,this.item_slug).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(B),d(L),d(I),d(Se),d(ge))},l.\u0275cmp=C({type:l,selectors:[["app-add-service"]],standalone:!0,features:[E],decls:17,vars:4,consts:[["mat-dialog-title",""],["mode","indeterminate"],["mat-dialog-content",""],[1,"row","mt-2"],[1,"col-md-12","col-lg-12"],["appearance","outline"],[1,"fs-4"],["matInput","","placeholder","Le service",3,"ngModelChange","ngModel"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-raised-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","warn"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,a){e&1&&(t(0,"h1",0),n(1,"Nouvel service"),i(),M(2,Ao,1,0,"mat-progress-bar",1),t(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),n(8,"Le service "),t(9,"code",6),n(10,"*"),i()(),t(11,"input",7),R("ngModelChange",function(p){return V(a.service,p)||(a.service=p),p}),i()()()()(),t(12,"div",8)(13,"button",9),n(14,"Annuler"),i(),M(15,Do,2,0,"button",10)(16,Lo,2,0,"button",10),i()),e&2&&(s(2),h(2,a.is_loading==!0?2:-1),s(9),P("ngModel",a.service),s(4),h(15,a.is_update==!0?15:-1),s(),h(16,a.is_update==!1?16:-1))},dependencies:[X,T,D,G,$,be,Ce,Me,he,se,ve,A,oe,ae,re]});let r=l;return r})();var Fo=r=>({itemsPerPage:10,currentPage:r});function Po(r,l){if(r&1){let m=b();t(0,"tr")(1,"td",14),n(2),i(),t(3,"td")(4,"p",19),n(5),i()(),t(6,"td"),n(7),y(8,"transformDate"),i(),t(9,"td",14)(10,"button",20)(11,"mat-icon"),n(12,"more_vert"),i()(),t(13,"mat-menu",21,0)(15,"button",22),u("click",function(){let e=f(m).$implicit,a=_();return g(a.updateService(e))}),t(16,"mat-icon"),n(17,"border_color"),i(),n(18," Modifier "),i(),t(19,"button",22),u("click",function(){let e=f(m).$implicit,a=_();return g(a.openDeleDialog(e.slug))}),t(20,"mat-icon"),n(21,"delete"),i(),n(22," Supprimer "),i()()()()}if(r&2){let m=l.$implicit,o=l.$index,e=F(14);s(2),v(o+1),s(3),w("",m.service," "),s(2),v(k(8,4,m.created_at," d MMMM YYYY ")),s(3),x("matMenuTriggerFor",e)}}var xi=(()=>{let l=class l{constructor(o,e,a,c,p){this._dialog=o,this._traitement=e,this._loading=a,this._router=c,this._notificationService=p,this.list_service=[],this.p=1}ngOnInit(){this.getServiceList()}openServiceDialog(){this._dialog.open(At,{width:"auto"}).afterClosed().subscribe({next:e=>{e&&this.getServiceList()}})}updateService(o){this._dialog.open(At,{width:"auto",data:o}).afterClosed().subscribe({next:a=>{a&&this.getServiceList()}})}getServiceList(){this._loading.show_loading(),this._traitement.getService().subscribe({next:o=>{setTimeout(()=>{this.list_service=o,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(K,{width:"auto"}).afterClosed().subscribe({next:a=>{a=="confirm"&&this.deleteService(o)}})}deleteService(o){this._loading.show_loading(),this._traitement.destroyService(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this._loading.hide_loading(),this.getServiceList()},1e3):(e.code==302||e.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(le),d(L),d(z),d(I),d(B))},l.\u0275cmp=C({type:l,selectors:[["app-services-list"]],standalone:!0,features:[E],decls:40,vars:6,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"mat-elevation-z8"],[1,"d-flex","justify-content-between"],["mat-button","",1,"text-uppercase","default__btn__lg"],["mat-raised-button","","color","primary",1,"text-uppercase","default__btn__lg",3,"click"],[1,"table-responsive"],[1,"table","table-striped","mt-3"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"m-b-0"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"]],template:function(e,a){e&1&&(t(0,"div",1)(1,"div",2)(2,"div",3),S(3,"div",4),i()()(),t(4,"div",5)(5,"div",6)(6,"div",7)(7,"mat-card",8)(8,"mat-card-header",9)(9,"mat-card-title")(10,"button",10)(11,"mat-icon"),n(12,"list"),i(),n(13," Liste des services "),i()(),t(14,"button",11),u("click",function(){return a.openServiceDialog()}),t(15,"mat-icon"),n(16,"add"),i(),n(17," Nouvel service "),i()(),t(18,"mat-card-content")(19,"div",12)(20,"table",13)(21,"thead")(22,"tr")(23,"th",14),n(24,"#Id"),i(),t(25,"th"),n(26,"Le service"),i(),t(27,"th"),n(28,"Date de cr\xE9ation"),i(),t(29,"th",14),n(30,"Actions"),i()()(),t(31,"tbody"),q(32,Po,23,7,"tr",null,H),y(34,"paginate"),i()(),t(35,"div",15)(36,"pagination-controls",16),u("pageChange",function(p){return a.p=p}),i()()()()()()()(),t(37,"ngx-spinner",17)(38,"p",18),n(39," Chargement en cours... "),i()()),e&2&&(s(32),Y(k(34,1,a.list_service,Z(4,Fo,a.p))),s(5),x("fullScreen",!0))},dependencies:[W,O,T,te,ee,ie,j,D,ne,ye,Te,ke,we,J,me,ce,A,de,N]});let r=l;return r})();function Vo(r,l){r&1&&S(0,"mat-progress-bar",1)}function Ro(r,l){if(r&1){let m=b();t(0,"button",11),u("click",function(){f(m);let e=_();return g(e.updateTypeConge())}),n(1,"Modifier"),i()}}function jo(r,l){if(r&1){let m=b();t(0,"button",11),u("click",function(){f(m);let e=_();return g(e.saveTypeConge())}),n(1,"Enregistrer"),i()}}var Dt=(()=>{let l=class l{constructor(o,e,a,c,p){this._notificationService=o,this._traitement=e,this._router=a,this.data=c,this._dialogRef=p,this.type_conge="",this.is_update=!1,this.is_loading=!1}ngOnInit(){this.data!=null&&(this.is_update=!0,this.type_conge=this.data.type_conge,this.item_slug=this.data.slug)}saveTypeConge(){if(this.type_conge==""){this._notificationService.openSnackBarSimpleError("Le type de cong\xE9 est obligatoire");return}let o={type_conge:this.type_conge.toUpperCase()};this.is_loading=!0,this._traitement.saveTypeConge(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateTypeConge(){if(this.type_conge==""){this._notificationService.openSnackBarSimpleError("Le type de cong\xE9 est obligatoire");return}let o={type_conge:this.type_conge.toUpperCase()};this.is_loading=!0,this._traitement.updateTypeConge(o,this.item_slug).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this.is_loading=!1,this._dialogRef.close(!0)},1e3):(e.code==302||e.code==300)&&(this.is_loading=!1,this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(B),d(L),d(I),d(Se),d(ge))},l.\u0275cmp=C({type:l,selectors:[["app-add-type-conge"]],standalone:!0,features:[E],decls:17,vars:4,consts:[["mat-dialog-title",""],["mode","indeterminate"],["mat-dialog-content",""],[1,"row","mt-2"],[1,"col-md-12","col-lg-12"],["appearance","outline"],[1,"fs-4"],["matInput","","placeholder","Le type du cong\xE9",3,"ngModelChange","ngModel"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-raised-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","warn"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,a){e&1&&(t(0,"h1",0),n(1,"Nouvel type de cong\xE9"),i(),M(2,Vo,1,0,"mat-progress-bar",1),t(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),n(8,"Le type de cong\xE9 "),t(9,"code",6),n(10,"*"),i()(),t(11,"input",7),R("ngModelChange",function(p){return V(a.type_conge,p)||(a.type_conge=p),p}),i()()()()(),t(12,"div",8)(13,"button",9),n(14,"Annuler"),i(),M(15,Ro,2,0,"button",10)(16,jo,2,0,"button",10),i()),e&2&&(s(2),h(2,a.is_loading==!0?2:-1),s(9),P("ngModel",a.type_conge),s(4),h(15,a.is_update==!0?15:-1),s(),h(16,a.is_update==!1?16:-1))},dependencies:[X,T,D,G,$,be,Ce,Me,he,se,ve,A,oe,ae,re]});let r=l;return r})();var Uo=r=>({itemsPerPage:10,currentPage:r});function No(r,l){if(r&1){let m=b();t(0,"tr")(1,"td",14),n(2),i(),t(3,"td",14)(4,"p",19),n(5),i()(),t(6,"td",14),n(7),y(8,"transformDate"),i(),t(9,"td",14)(10,"button",20)(11,"mat-icon"),n(12,"more_vert"),i()(),t(13,"mat-menu",21,0)(15,"button",22),u("click",function(){let e=f(m).$implicit,a=_();return g(a.updateTypeConge(e))}),t(16,"mat-icon"),n(17,"border_color"),i(),n(18," Modifier "),i(),t(19,"button",22),u("click",function(){let e=f(m).$implicit,a=_();return g(a.openDeleDialog(e.slug))}),t(20,"mat-icon"),n(21,"delete"),i(),n(22," Supprimer "),i()()()()}if(r&2){let m=l.$implicit,o=l.$index,e=F(14);s(2),v(o+1),s(3),w("",m.type_conge," "),s(2),v(k(8,4,m.created_at," d MMMM YYYY ")),s(3),x("matMenuTriggerFor",e)}}var Si=(()=>{let l=class l{constructor(o,e,a,c,p){this._dialog=o,this._traitement=e,this._loading=a,this._router=c,this._notificationService=p,this.list_type_conge=[],this.p=1}ngOnInit(){this.getTypeCongeList()}openTypeCongeDialog(){this._dialog.open(Dt,{width:"auto"}).afterClosed().subscribe({next:e=>{e&&this.getTypeCongeList()}})}updateTypeConge(o){this._dialog.open(Dt,{width:"auto",data:o}).afterClosed().subscribe({next:a=>{a&&this.getTypeCongeList()}})}getTypeCongeList(){this._loading.show_loading(),this._traitement.getTypeConge().subscribe({next:o=>{setTimeout(()=>{this.list_type_conge=o,this._loading.hide_loading()},3e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(K,{width:"auto"}).afterClosed().subscribe({next:a=>{a=="confirm"&&this.deleteTypeConge(o)}})}deleteTypeConge(o){this._loading.show_loading(),this._traitement.destroyTypeConge(o).subscribe({next:e=>{e.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(e),this._loading.hide_loading(),this.getTypeCongeList()},1e3):(e.code==302||e.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(e))},error:e=>{e.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};l.\u0275fac=function(e){return new(e||l)(d(le),d(L),d(z),d(I),d(B))},l.\u0275cmp=C({type:l,selectors:[["app-type-conges-list"]],standalone:!0,features:[E],decls:40,vars:6,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"mat-elevation-z8"],[1,"d-flex","justify-content-between"],["mat-button","",1,"text-uppercase","default__btn__lg"],["mat-raised-button","","color","primary",1,"text-uppercase","default__btn__lg",3,"click"],[1,"table-responsive"],[1,"table","table-striped","mt-3"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"m-b-0"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"]],template:function(e,a){e&1&&(t(0,"div",1)(1,"div",2)(2,"div",3),S(3,"div",4),i()()(),t(4,"div",5)(5,"div",6)(6,"div",7)(7,"mat-card",8)(8,"mat-card-header",9)(9,"mat-card-title")(10,"button",10)(11,"mat-icon"),n(12,"list"),i(),n(13," Liste des types de cong\xE9s "),i()(),t(14,"button",11),u("click",function(){return a.openTypeCongeDialog()}),t(15,"mat-icon"),n(16,"add"),i(),n(17," Nouvel type de conge "),i()(),t(18,"mat-card-content")(19,"div",12)(20,"table",13)(21,"thead")(22,"tr")(23,"th",14),n(24,"#Id"),i(),t(25,"th",14),n(26,"Le type de cong\xE9"),i(),t(27,"th",14),n(28,"Date de cr\xE9ation"),i(),t(29,"th",14),n(30,"Actions"),i()()(),t(31,"tbody"),q(32,No,23,7,"tr",null,H),y(34,"paginate"),i()(),t(35,"div",15)(36,"pagination-controls",16),u("pageChange",function(p){return a.p=p}),i()()()()()()()(),t(37,"ngx-spinner",17)(38,"p",18),n(39," Chargement en cours... "),i()()),e&2&&(s(32),Y(k(34,1,a.list_type_conge,Z(4,Uo,a.p))),s(5),x("fullScreen",!0))},dependencies:[W,O,T,te,ee,ie,j,D,ne,ye,Te,ke,we,J,me,ce,A,de,N]});let r=l;return r})();function Oo(r,l){if(r&1){let m=b();t(0,"button",25),u("click",function(){f(m);let e=_();return g(e.isStarted())}),t(1,"mat-icon"),n(2,"start"),i(),n(3," D\xE9marer "),i()}}function Wo(r,l){if(r&1){let m=b();t(0,"button",25),u("click",function(){f(m);let e=_();return g(e.isStartedTopUpdated())}),t(1,"mat-icon"),n(2,"edit_square"),i(),n(3," Modifier "),i()}}function zo(r,l){if(r&1){let m=b();t(0,"button",33),u("click",function(){f(m);let e=_(2);return g(e.isCancelled())}),n(1,"Annuler"),i()}}function Ho(r,l){if(r&1){let m=b();t(0,"button",25),u("click",function(){f(m);let e=_(2);return g(e.saveConfig())}),n(1,"Enregistrer"),i()}}function qo(r,l){if(r&1){let m=b();t(0,"button",25),u("click",function(){f(m);let e=_(2);return g(e.updateConfig(e.hour_slug))}),n(1,"Modifier"),i()}}function Yo(r,l){if(r&1){let m=b();t(0,"div",20)(1,"div",26)(2,"mat-form-field",27)(3,"mat-label"),n(4,"Heure d'entr\xE9e "),t(5,"code",28),n(6,"*"),i()(),t(7,"input",29),R("ngModelChange",function(e){f(m);let a=_();return V(a.heure_initiale,e)||(a.heure_initiale=e),g(e)}),i(),S(8,"ngx-mat-timepicker",null,0),t(10,"mat-icon",30),u("click",function(){f(m);let e=F(9);return g(e.open())}),n(11," watch_later "),i()()(),t(12,"div",26)(13,"mat-form-field",27)(14,"mat-label"),n(15,"Heure d'entr\xE9e tol\xE9rable "),t(16,"code",28),n(17,"*"),i()(),t(18,"input",29),R("ngModelChange",function(e){f(m);let a=_();return V(a.heure_tolerance,e)||(a.heure_tolerance=e),g(e)}),i(),S(19,"ngx-mat-timepicker",null,1),t(21,"mat-icon",30),u("click",function(){f(m);let e=F(20);return g(e.open())}),n(22," watch_later "),i()()(),t(23,"div",26)(24,"mat-form-field",27)(25,"mat-label"),n(26,"Nombre d'heure de pause "),t(27,"code",28),n(28,"*"),i()(),t(29,"input",29),R("ngModelChange",function(e){f(m);let a=_();return V(a.break_time,e)||(a.break_time=e),g(e)}),i(),S(30,"ngx-mat-timepicker",null,2),t(32,"mat-icon",30),u("click",function(){f(m);let e=F(31);return g(e.open())}),n(33," watch_later "),i()()(),t(34,"div",26)(35,"mat-form-field",27)(36,"mat-label"),n(37,"Heure de descente "),t(38,"code",28),n(39,"*"),i()(),t(40,"input",29),R("ngModelChange",function(e){f(m);let a=_();return V(a.heure_sortie,e)||(a.heure_sortie=e),g(e)}),i(),S(41,"ngx-mat-timepicker",null,3),t(43,"mat-icon",30),u("click",function(){f(m);let e=F(42);return g(e.open())}),n(44," watch_later "),i()()(),t(45,"div",31),M(46,zo,2,0,"button",32)(47,Ho,2,0,"button",13)(48,qo,2,0,"button",13),i()()}if(r&2){let m=F(9),o=F(20),e=F(31),a=F(42),c=_();s(7),x("ngxMatTimepicker",m),P("ngModel",c.heure_initiale),x("format",24),s(11),x("ngxMatTimepicker",o),P("ngModel",c.heure_tolerance),x("format",24),s(11),x("ngxMatTimepicker",e),P("ngModel",c.break_time),x("format",24),s(11),x("ngxMatTimepicker",a),P("ngModel",c.heure_sortie),x("format",24),s(6),h(46,c.let_start==!0?46:-1),s(),h(47,c.is_updated==!1?47:-1),s(),h(48,c.is_updated==!0&&c.let_start==!0?48:-1)}}var bi=(()=>{let l=class l{constructor(o,e,a,c){this._traitement=o,this._loading=e,this._router=a,this._notificationService=c,this.heure_initiale="00:00",this.heure_tolerance="00:00",this.heure_sortie="00:00",this.break_time="00:00",this.loading=!1,this.let_start=!1,this.is_updated=!1,this.heure_entre="00:00",this.heure_tolerable="00:00",this.heure_out="00:00",this.hour_slug=""}ngOnInit(){this.getPointageConfigData()}getPointageConfigData(){this._loading.show_loading(),this._traitement.getPointageConfig().subscribe({next:o=>{setTimeout(()=>{o!=null&&(this.heure_entre=this.formatTimeToHoursMinutes(o.initial_hour),this.heure_tolerable=this.formatTimeToHoursMinutes(o.tolerable_hour),this.heure_out=this.formatTimeToHoursMinutes(o.out_hour),this.break_time=this.formatTimeToHoursMinutes(o.break_time),this.heure_initiale=this.formatTimeToHoursMinutes(o.initial_hour),this.heure_sortie=this.formatTimeToHoursMinutes(o.out_hour),this.heure_tolerance=this.formatTimeToHoursMinutes(o.tolerable_hour),this.break_time=this.formatTimeToHoursMinutes(o.break_time),this.is_updated=!0,this.hour_slug=o.slug,this.total_hour_of_work=this.formatTimeToHoursMinutes(o.total_hour_of_work)),this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}isStarted(){this.is_updated=!1,this.let_start=!0}isStartedTopUpdated(){this.let_start=!0}isCancelled(){this.let_start=!1,this.is_updated=!0}saveConfig(){if(this.heure_initiale==null){this._notificationService.openSnackBarSimpleError("L'heure initiale est obligatoire");return}if(this.heure_tolerance==null){this._notificationService.openSnackBarSimpleError("L'heure tol\xE9rable est obligatoire");return}if(this.heure_sortie==null){this._notificationService.openSnackBarSimpleError("L'heure de sortie est obligatoire");return}if(this.break_time==null){this._notificationService.openSnackBarSimpleError("Le nombre d'heure de pause est obligatoire");return}let o=this.calculateDifferenceBetweenTwoHours(this.heure_initiale,this.heure_sortie),e={initial_hour:this.heure_initiale,tolerable_hour:this.heure_tolerance,out_hour:this.heure_sortie,break_time:this.break_time,total_hour_of_work:this.calculateDifferenceBetweenTwoHours(this.break_time,o)};this.loading=!0,this._traitement.savePointageConfig(e).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this.loading=!1,this.let_start=!1,this.getPointageConfigData()},1e3):(a.code==302||a.code==300)&&(this.loading=!1,this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateConfig(o){if(this.heure_initiale==null){this._notificationService.openSnackBarSimpleError("L'heure initiale est obligatoire");return}if(this.heure_tolerance==null){this._notificationService.openSnackBarSimpleError("L'heure tol\xE9rable est obligatoire");return}if(this.heure_sortie==null){this._notificationService.openSnackBarSimpleError("L'heure de sortie est obligatoire");return}let e=this.calculateDifferenceBetweenTwoHours(this.heure_initiale,this.heure_sortie),a={initial_hour:this.heure_initiale,tolerable_hour:this.heure_tolerance,out_hour:this.heure_sortie,break_time:this.break_time,total_hour_of_work:this.calculateDifferenceBetweenTwoHours(e,this.break_time)};this.loading=!0,this._traitement.updatePointageConfig(a,o).subscribe({next:c=>{c.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(c),this.loading=!1,this.getPointageConfigData(),this.let_start=!1},1e3):(c.code==302||c.code==300)&&(this.loading=!1,this._notificationService.openSnackBarError(c))},error:c=>{c.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}formatTimeToHoursMinutes(o){let[e,a]=o.split(":");return e+":"+a}calculateDifferenceBetweenTwoHours(o,e){if(o!=null&&e!=null){let[a,c]=o.split(":").map(Number),[p,Q]=e.split(":").map(Number),Lt=p*60+Q-(a*60+c),nt=Math.floor(Lt/60),ot=Lt%60;return nt>=0&&ot>=0?(nt>=10?nt:"0"+nt)+":"+(ot>=10?ot:"0"+ot):"00:00"}else return}};l.\u0275fac=function(e){return new(e||l)(d(L),d(z),d(I),d(B))},l.\u0275cmp=C({type:l,selectors:[["app-configuration-pointage"]],standalone:!0,features:[E],decls:49,vars:9,consts:[["pickerInit",""],["pickerTolearble",""],["pickerBreakTime",""],["pickerEndTime",""],[1,"hero-header","mb-3"],[1,"container-fluid"],[1,"row","justify-content-center","mt-5","mr-5"],[1,"col-xl-12","col-md-12","col-sm-12","col-12"],[1,"text-center"],[1,"card"],[1,"card-header","d-flex","justify-content-between","mb-2"],[1,"card-title","text-yellow"],["mat-button","",1,"text-red","fw-bolder","fs-5"],["mat-raised-button","","color","primary"],[1,"card-body"],[1,"row","mb-3","justify-content-center"],[1,"col-2"],[1,"mb-3","fs-5","text-center","fw-bolder"],[1,"fs-4","text-danger"],[1,"mb-3","fs-5","fw-bolder"],[1,"row","mb-2"],[1,"hero-body"],[1,"row","mt-5","mr-5"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["mat-raised-button","","color","primary",3,"click"],[1,"col-lg-3","col-sm-6","col-12"],["appearance","outline"],[1,"fs-4"],["matInput","","placeholder","00:00",3,"ngModelChange","ngxMatTimepicker","ngModel","format"],["matSuffix","",3,"click"],[1,"d-flex","justify-content-between"],["mat-raised-button","","color","warn"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,a){e&1&&(t(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11)(8,"button",12)(9,"mat-icon"),n(10,"settings"),i(),n(11," Horaires de travail "),i()(),M(12,Oo,4,0,"button",13)(13,Wo,4,0,"button",13),i(),t(14,"div",14)(15,"div",15)(16,"div",16)(17,"p",17),n(18," Heure d'entr\xE9e normale: "),t(19,"span",18),n(20),i()()(),t(21,"div",16)(22,"p",17),n(23," Heure d'entr\xE9e tol\xE9rable: "),t(24,"span",18),n(25),i()()(),t(26,"div",16)(27,"p",19),n(28," Heure de descente: "),t(29,"span",18),n(30),i()()(),t(31,"div",16)(32,"p",19),n(33," Heure pause d\xE9jeuner: "),t(34,"span",18),n(35),i()()(),t(36,"div",16)(37,"p",19),n(38," Heure totale de travail: "),t(39,"span",18),n(40),i()()()(),M(41,Yo,49,15,"div",20),i()()()()()()(),t(42,"div",21)(43,"div",5)(44,"div",22),S(45,"div",7),i()()(),t(46,"ngx-spinner",23)(47,"p",24),n(48," Chargement en cours... "),i()()),e&2&&(s(12),h(12,a.is_updated==!1&&a.let_start==!1?12:-1),s(),h(13,a.is_updated==!0&&a.let_start==!1?13:-1),s(7),v(a.heure_entre),s(5),v(a.heure_tolerable),s(5),v(a.heure_out),s(5),v(a.break_time),s(5),v(a.total_hour_of_work),s(),h(41,a.let_start==!0?41:-1),s(5),x("fullScreen",!0))},dependencies:[W,O,T,j,D,G,$,Ke,se,J,A,oe,ae,re,N,Kt,Zt,Qt]});let r=l;return r})();var bt=(()=>{let l=class l{constructor(o,e,a){this._localStorage=o,this._api_url=e,this._http=a,this.getToken=()=>{let c=this._localStorage.getTokenToStorage();return this.headers={headers:{Authorization:"Bearer "+c}},this.headers},this.AddMissions=c=>{let p=this._api_url.apiUrl+"store_missions";return this._http.post(p,c,this.getToken())},this.editMission=c=>{let p=this._api_url.apiUrl+"edit_mission/"+c;return this._http.get(p,this.getToken())},this.showMission=c=>{let p=this._api_url.apiUrl+"edit_mission/"+c;return this._http.get(p,this.getToken())},this.updateMission=(c,p)=>{let Q=this._api_url.apiUrl+"update_mission/"+c;return this._http.post(Q,p,this.getToken())},this.deleteMission=c=>{let p=this._api_url.apiUrl+"destroy_mission/"+c;return this._http.get(p,this.getToken())},this.getCustomerMission=c=>{let p=this._api_url.apiUrl+"customers_missions/"+c;return this._http.get(p,this.getToken())},this.getMission=c=>{let p=this._api_url.apiUrl+"get_missions/"+c;return this._http.get(p,this.getToken())},this.getAllMission=()=>{let c=this._api_url.apiUrl+"get_all_missions";return this._http.get(c,this.getToken())},this.approvedOrRejectedMission=c=>{let p=this._api_url.apiUrl+"approved_or_rejected_permission";return this._http.post(p,c,this.getToken())},this.updateIsConsultingStatus=c=>{let p=this._api_url.apiUrl+"consulted_mission/"+c;return this._http.get(p,this.getToken())}}};l.\u0275fac=function(e){return new(e||l)(rt($t),rt(Yt),rt(Ut))},l.\u0275prov=Ft({token:l,factory:l.\u0275fac,providedIn:"root"});let r=l;return r})();function $o(r,l){if(r&1&&(t(0,"mat-option",22),n(1),i()),r&2){let m=l.$implicit;x("value",m.employe_matricule),s(),w(" ",m.last_name," ")}}function Go(r,l){if(r&1){let m=b();t(0,"div",14)(1,"div",17)(2,"h1",18),n(3,"Formulaire de programmation de mission"),i()(),t(4,"div",19)(5,"mat-form-field",20)(6,"mat-label"),n(7,"Emlpoy\xE9"),i(),t(8,"mat-select",21),u("selectionChange",function(e){f(m);let a=_();return g(a.onChangeListeemploye(e))}),q(9,$o,2,2,"mat-option",22,H),i()()(),t(11,"div",23)(12,"mat-form-field",20)(13,"mat-label"),n(14,"Le lieu "),S(15,"code",24),i(),t(16,"input",25),R("ngModelChange",function(e){f(m);let a=_();return V(a.lieu_mission,e)||(a.lieu_mission=e),g(e)}),i()()(),t(17,"div",19)(18,"mat-form-field",26)(19,"mat-label"),n(20,"Description"),i(),t(21,"textarea",27),R("ngModelChange",function(e){f(m);let a=_();return V(a.description,e)||(a.description=e),g(e)}),i()()(),t(22,"div",28)(23,"div",29)(24,"h1",30),n(25,"Dur\xE9e de la mission"),i()(),t(26,"div",8)(27,"div",31)(28,"mat-form-field",20)(29,"mat-label"),n(30,"Date d\xE9but de la mission"),i(),t(31,"input",32),R("ngModelChange",function(e){f(m);let a=_();return V(a.date_start,e)||(a.date_start=e),g(e)}),i(),S(32,"mat-datepicker-toggle",33)(33,"mat-datepicker",null,0),i()(),t(35,"div",31)(36,"mat-form-field",20)(37,"mat-label"),n(38,"Date fin de la mission"),i(),t(39,"input",34),R("ngModelChange",function(e){f(m);let a=_();return V(a.date_end,e)||(a.date_end=e),g(e)}),i(),S(40,"mat-datepicker-toggle",33)(41,"mat-datepicker",null,1),i()()(),t(43,"div",35)(44,"div",36)(45,"button",37),u("click",function(){f(m);let e=_();return g(e.saveMission())}),t(46,"mat-icon"),n(47,"save"),i(),n(48," Enregistrer "),i()()()()()}if(r&2){let m=F(34),o=F(42),e=_();s(9),Y(e.list_employes),s(7),P("ngModel",e.lieu_mission),s(5),P("ngModel",e.description),s(10),P("ngModel",e.date_start),x("matDatepicker",m),s(),x("for",m),s(7),P("ngModel",e.date_end),x("matDatepicker",o),s(),x("for",o)}}function Jo(r,l){if(r&1){let m=b();t(0,"div",14)(1,"div",17)(2,"h1",38),n(3,"Programmation des missions"),i()(),t(4,"div",39)(5,"mat-form-field",26)(6,"mat-label"),n(7,"Le programme"),i(),t(8,"textarea",40),R("ngModelChange",function(e){f(m);let a=_();return V(a.description,e)||(a.description=e),g(e)}),i()()(),t(9,"div",35)(10,"div",36)(11,"button",37),u("click",function(){f(m);let e=_();return g(e.saveMission())}),t(12,"mat-icon"),n(13,"save"),i(),n(14," Enregistrer "),i()()()()}if(r&2){let m=_();s(8),P("ngModel",m.description)}}var Ei=(()=>{let l=class l{constructor(o,e,a,c,p,Q){this._traitement=o,this._router=e,this._loading=a,this._userData=c,this._notificationService=p,this._mission=Q,this.is_switching_assigment=!0,this.is_switching_leave=!1,this.switcher_is_active=!0,this.employe_matricule="",this.fullscreen=!0,this.description="",this.lieu_mission="",this.is_choose="",this.list_employes=[],this.list_bureau=[],this.employe_selected="",this.date_permission=new Date,this.duration_is_date=!1}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getAllBureau(),this.getAllEmployes()}radioChange(o){this.is_choose=o.value}MissionDurationChange(o){o.value==="date"?this.duration_is_date=!0:this.duration_is_date=!1}switchAction(o){o=="assigments"&&(this.is_switching_assigment=!0,this.is_switching_leave=!1,this.switcher_is_active=!0),o=="leave"&&(this.is_switching_leave=!0,this.is_switching_assigment=!1,this.switcher_is_active=!1)}onChangeListeemploye(o){this.employe_selected=o.value}getAllEmployes(){this._loading.show_loading(),this._traitement.getEmployes().subscribe({next:o=>{setTimeout(()=>{this.list_employes=o,this._loading.hide_loading()},700)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getAllBureau(){this._loading.show_loading(),this._traitement.getBureau().subscribe({next:o=>{setTimeout(()=>{this.list_bureau=o,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}saveMission(){this._loading.show_loading();let o=this.calculateDifferenceBetweenDates(this.date_start,this.date_end);console.log(o);let e=new FormData;e.append("employe_matricule",this.employe_selected),e.append("lieu_mission",this.lieu_mission),o!=null&&e.append("duree_mission",o),o!=null&&(e.append("mission_end",this.formatDate(this.date_end).toString()),e.append("mission_start",this.formatDate(this.date_start).toString())),e.append("description",this.description),this._mission.AddMissions(e).subscribe({next:a=>{a.code==200?(this._notificationService.openSnackBarSuccess(a),setTimeout(()=>{this._loading.hide_loading()},2e3)):(a.code==300||a.code==500||a.code==302)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}formatDate(o){let e=o.toLocaleString("default",{year:"numeric"}),a=o.toLocaleString("default",{month:"2-digit"}),c=o.toLocaleString("default",{day:"2-digit"});return e+"-"+a+"-"+c}calculateDifferenceBetweenDates(o,e){if(o!=null&&e!=null)return(Math.abs(e.getTime()-o.getTime())/(1e3*3600*24)).toString()+"Jour(s)"}};l.\u0275fac=function(e){return new(e||l)(d(L),d(I),d(z),d(Ge),d(B),d(bt))},l.\u0275cmp=C({type:l,selectors:[["app-admin-mission"]],standalone:!0,features:[E],decls:26,vars:5,consts:[["Date_start",""],["Date_end",""],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-body"],[1,"row","justify-content-center"],[1,"d-flex","justify-content-center"],["mat-fab","","extended","",1,"me-2",3,"click","color"],["mat-fab","","extended","",1,"",3,"click","color"],[1,"hero-body"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"row","gx-3","justify-content-center","mb-3"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"col-12"],[1,"text-primary","fw-bolder"],[1,"col-lg-12"],["appearance","outline"],[3,"selectionChange"],[1,"fw-bolder",3,"value"],[1,"col-md-12"],[1,"fs-4"],["matInput","","placeholder","Le lieu_mission",3,"ngModelChange","ngModel"],["appearance","outline",1,"example-full-width"],["rows","3","matInput","","placeholder","description",3,"ngModelChange","ngModel"],[1,"row","gx-3","mb-3"],[1,"col-lg-12","col-md-12","text-center","mb-2"],[1,"text-center","mb-3"],[1,"col-lg-4","col-md-6"],["matInput","","placeholder","00/00/0000",3,"ngModelChange","ngModel","matDatepicker"],["matIconSuffix","",3,"for"],["matInput","",3,"ngModelChange","ngModel","matDatepicker"],[1,"row","gx-3","mb-3","justify-content-center"],[1,"col-lg-8","col-md-12","text-center"],["mat-fab","","extended","","color","primary",3,"click"],[1,"fw-bolder","text-danger"],[1,"col-lg-12","mb-3"],["rows","3","matInput","","placeholder","Ex. Le motif du cong\xE9s...",3,"ngModelChange","ngModel"]],template:function(e,a){e&1&&(t(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"button",10),u("click",function(){return a.switchAction("assigments")}),t(9,"mat-icon"),n(10,"assignment_add"),i(),n(11," Formulaire d'envoi en mission "),i(),t(12,"button",11),u("click",function(){return a.switchAction("leave")}),t(13,"mat-icon"),n(14,"assignment_add"),i(),n(15," Programme des missions "),i()()()()()()()()(),t(16,"div",12)(17,"div",4)(18,"div",13)(19,"div",6)(20,"div",7),M(21,Go,49,8,"div",14)(22,Jo,15,1,"div",14),i()()()()(),t(23,"ngx-spinner",15)(24,"p",16),n(25," Chargement en cours... "),i()()),e&2&&(s(8),x("color",a.switcher_is_active==!0?"warn":"primary"),s(4),x("color",a.switcher_is_active==!1?"warn":"primary"),s(9),h(21,a.is_switching_assigment==!0?21:-1),s(),h(22,a.is_switching_leave==!0?22:-1),s(),x("fullScreen",a.fullscreen))},dependencies:[W,O,T,j,Ue,G,$,Ke,Ne,je,se,zt,Ht,qt,A,oe,ae,re,Wt]});let r=l;return r})();var Zo=r=>({itemsPerPage:20,currentPage:r});function Qo(r,l){r&1&&(t(0,"button",33)(1,"mat-icon",16),n(2,"verified"),i()())}function Ko(r,l){r&1&&(t(0,"button",34)(1,"mat-icon",19),n(2,"verified"),i()())}function Xo(r,l){r&1&&(t(0,"button",35)(1,"mat-icon",20),n(2,"unpublished"),i()())}function ea(r,l){if(r&1){let m=b();t(0,"tr")(1,"td"),n(2),i(),t(3,"td",29)(4,"a",30),u("click",function(){let e=f(m).$implicit,a=_();return g(a.consulteMission(e))}),n(5),i()(),t(6,"td")(7,"p"),n(8),i()(),t(9,"td")(10,"p"),n(11),y(12,"transformText"),i()(),t(13,"td")(14,"button",31)(15,"mat-icon"),n(16,"check_circle"),i()()(),t(17,"td",32),M(18,Qo,3,0,"button",33)(19,Ko,3,0,"button",34)(20,Xo,3,0,"button",35),i(),t(21,"td",36)(22,"p"),n(23),y(24,"transformDate"),i()(),t(25,"td",36)(26,"button",37)(27,"mat-icon"),n(28,"more_vert"),i()(),t(29,"mat-menu",14,1)(31,"button",38),u("click",function(){let e=f(m).$implicit,a=_();return g(a.consulteMission(e))}),t(32,"mat-icon"),n(33,"visibility"),i(),n(34," Consulter "),i(),t(35,"button",38),u("click",function(){let e=f(m).$implicit,a=_();return g(a.deleteMission(e.slug))}),t(36,"mat-icon"),n(37,"delete"),i(),n(38," Supprimer "),i()()()()}if(r&2){let m=l.$implicit,o=l.$index,e=F(30);s(2),w("#",o+1,""),s(3),w(" ",m.description," "),s(3),v(m.first_name+" "+m.last_name),s(3),v(Le(12,12,m.lieu_mission)),s(3),x("matTooltip",m.new_actions==1?"Consult\xE9e":"Nouveau"),s(),ze(m.new_actions==1?"text-primary":"text-warning"),s(3),h(18,m.status_on==1?18:-1),s(),h(19,m.status_off==1?19:-1),s(),h(20,m.status_on==0&&m.status_off==0?20:-1),s(3),v(k(24,14,m.created_at,"d MMMM yyyy, \xE0 HH:mm")),s(3),x("matMenuTriggerFor",e)}}var Mi=(()=>{let l=class l{constructor(o,e,a,c,p,Q){this._dialog=o,this._mission=e,this._notificationService=a,this._loadings=c,this._router=p,this._userData=Q,this.list_missions=[],this.mission_counter=0,this.user_id="",this.p=1}ngOnInit(){this.user_id=this._userData.getUserData().user_id,this.getMission()}getMission(){this._loadings.show_loading(),this._mission.getAllMission().subscribe({next:o=>{this.list_missions=o,this.mission_counter=this.list_missions.length,this._loadings.hide_loading(),console.log(o)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}consulteMission(o){this._dialog.open(St,{data:o,panelClass:"fullscreen-dialog"}).afterClosed().subscribe({next:a=>{a&&this.getMission()}})}deleteMission(o){this._dialog.open(K,{width:"auto"}).afterClosed().subscribe({next:a=>{a=="confirm"&&this._mission.deleteMission(o).subscribe({next:c=>{c.code==200?(this._notificationService.openSnackBarSuccess(c),this.getMission()):c.code==404&&this._notificationService.openSnackBarError(c)},error:c=>{c.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}})}};l.\u0275fac=function(e){return new(e||l)(d(le),d(bt),d(B),d(z),d(I),d(Ge))},l.\u0275cmp=C({type:l,selectors:[["app-admin-mission-list"]],standalone:!0,features:[He([{provide:qe,useValue:"fr-FR"}]),E],decls:81,vars:8,consts:[["guideInfo","matMenu"],["beforeMenu","matMenu"],[1,"hero-body"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title","fw-bolder","fs-5"],["mat-button","",1,"default__btn__lg","text-dark"],[1,"example-tab-icon"],[1,"fw-bolder","text-white","fs-5"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],["mat-mini-fab","",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item",""],[1,"text-primary"],[1,""],[1,"fw-bolder"],[1,"text-red"],[1,"text-warning"],[1,"card-body"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"table-responsive","mt-4"],[1,"table","table-striped","m-0"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["width","400",2,"white-space","unset !important"],["role","button",3,"click"],["mat-icon-button","",3,"matTooltip"],[1,"text-center"],["matTooltip","Approuv\xE9e","mat-icon-button",""],["matTooltip","R\xE9jet\xE9e","mat-icon-button",""],["matTooltip","Aucune action","mat-icon-button",""],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(e,a){if(e&1){let c=b();t(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"button",9)(8,"mat-icon",10),n(9,"view_list"),i(),t(10,"span",11),n(11,"Liste des missions"),i()(),t(12,"button",12),n(13),i()(),t(14,"div")(15,"button",13)(16,"mat-icon"),n(17,"info"),i()(),t(18,"mat-menu",14,0)(20,"button",15)(21,"mat-icon",16),n(22,"verified"),i(),t(23,"span",17),n(24,"Indique qu'une permission a \xE9t\xE9"),t(25,"code",18),n(26,"valid\xE9e"),i()()(),t(27,"button",15)(28,"mat-icon",19),n(29,"verified"),i(),t(30,"span"),n(31,"Indique qu'une permission a \xE9t\xE9 "),t(32,"code",18),n(33," rejet\xE9e "),i()()(),t(34,"button",15)(35,"mat-icon",16),n(36,"check_circle"),i(),t(37,"span"),n(38,"Indique que la mission a \xE9t\xE9 "),t(39,"code",18),n(40,"consult\xE9e"),i()()(),t(41,"button",15)(42,"mat-icon",20),n(43,"check_circle"),i(),t(44,"span"),n(45,"Indique une "),t(46,"code",18),n(47,"nouvelle"),i(),n(48," mission "),i()()()()(),t(49,"div",21)(50,"div",4)(51,"div",22)(52,"div",23)(53,"table",24)(54,"thead")(55,"tr")(56,"th"),n(57,"#ID"),i(),t(58,"th"),n(59,"L'ordre de la mission"),i(),t(60,"th"),n(61,"Employ\xE9"),i(),t(62,"th"),n(63,"Lieu de la mission"),i(),t(64,"th"),n(65,"Consultation"),i(),t(66,"th"),n(67,"D\xE9cision"),i(),t(68,"th"),n(69,"Date de publication"),i(),t(70,"th"),n(71,"Actions"),i()()(),t(72,"tbody"),q(73,ea,39,17,"tr",null,H),y(75,"paginate"),i()()(),t(76,"div",25)(77,"pagination-controls",26),u("pageChange",function(Q){return f(c),g(a.p=Q)}),i()()()()()()()()()(),t(78,"ngx-spinner",27)(79,"p",28),n(80," Chargement en cours... "),i()()}if(e&2){let c=F(19);s(13),w(" ",a.mission_counter," "),s(2),x("matMenuTriggerFor",c),s(58),Y(k(75,3,a.list_missions,Z(6,Zo,a.p))),s(5),x("fullScreen",!0)}},dependencies:[W,O,T,te,ee,ie,j,D,Ye,ne,$e,J,me,ce,A,de,Oe,N]});let r=l;return r})();var yi=(()=>{let l=class l{};l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=C({type:l,selectors:[["app-statistique"]],standalone:!0,features:[E],decls:2,vars:0,template:function(e,a){e&1&&(t(0,"p"),n(1,"statistique works!"),i())}});let r=l;return r})();var wi=(()=>{let l=class l{};l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=C({type:l,selectors:[["app-augmentation"]],standalone:!0,features:[E],decls:2,vars:0,template:function(e,a){e&1&&(t(0,"p"),n(1,"augmentation works!"),i())}});let r=l;return r})();var Ti=(()=>{let l=class l{};l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=C({type:l,selectors:[["app-rupture-contrat"]],standalone:!0,features:[E],decls:2,vars:0,template:function(e,a){e&1&&(t(0,"p"),n(1,"rupture-contrat works!"),i())}});let r=l;return r})();var ki=(()=>{let l=class l{};l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=C({type:l,selectors:[["app-mis-a-disponibilite"]],standalone:!0,features:[E],decls:2,vars:0,template:function(e,a){e&1&&(t(0,"p"),n(1,"mis-a-disponibilite works!"),i())}});let r=l;return r})();var Ii=(()=>{let l=class l{};l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=C({type:l,selectors:[["app-absence-non-justifie"]],standalone:!0,features:[E],decls:2,vars:0,template:function(e,a){e&1&&(t(0,"p"),n(1,"absence-non-justifie works!"),i())}});let r=l;return r})();var ta=[{path:"admin",component:ei,data:{title:"Administration"}},{path:"admin.list-employes",component:ti,data:{title:"Liste des employes"}},{path:"admin.detail.employes/:slug",component:di,data:{title:"D\xE9tail employes"}},{path:"admin.users",component:mi,data:{title:"Liste des utilisateurs"}},{path:"admin.user-role",component:ii,data:{title:"Liste des r\xF4les"}},{path:"admin.type-accounts",component:ci,data:{title:"Liste des types de compte"}},{path:"admin.list-permissions",component:li,data:{title:"Liste des permissions"}},{path:"admin.list-conges",component:ri,data:{title:"Liste des conges"}},{path:"admin.mission-employe",component:Ei,data:{title:"Mission employe"}},{path:"admin.mission-list",component:Mi,data:{title:"Liste des missions"}},{path:"admin.list-responsable-agents",component:ui,data:{title:"Liste des responsables et agents de service"}},{path:"admin.list-evaluations",component:_i,data:{title:"Liste des evaluations"}},{path:"admin.list-bureau",component:fi,data:{title:"Liste des bureaux"}},{path:"admin.list-category-pro",component:gi,data:{title:"Liste des categories"}},{path:"admin.list-contrats",component:hi,data:{title:"Liste des contrats"}},{path:"admin.list-fonctions",component:vi,data:{title:"Liste des fonctions"}},{path:"admin.list-services",component:xi,data:{title:"Liste des services"}},{path:"admin.list-type-conge",component:Si,data:{title:"Liste des type de conges"}},{path:"admin.config-attendance",component:bi,data:{title:"Configuration des presences"}},{path:"admin.statistique",component:yi,data:{title:"Statistique de production des journalistes"}},{path:"admin.augmentation",component:wi,data:{title:"Augmentations des employe"}},{path:"admin.rupture-contrat",component:Ti,data:{title:"Rupture de contrat"}},{path:"admin.disponibilite",component:ki,data:{title:"Mis a disponibilit\xE9"}},{path:"admin.absence-no-justify",component:Ii,data:{title:"Absence non justifi\xE9"}},{path:"admin.gratification",component:Xt,data:{title:"Gratification"}}],Bi=(()=>{let l=class l{};l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=lt({type:l}),l.\u0275inj=at({imports:[N.forChild(ta),N]});let r=l;return r})();var Gm=(()=>{let l=class l{};l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=lt({type:l}),l.\u0275inj=at({imports:[X,Bi]});let r=l;return r})();export{Gm as AdminLayoutModule};
