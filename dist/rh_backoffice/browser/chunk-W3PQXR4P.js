import{a as ct}from"./chunk-S3L4DNC6.js";import{a as Ke}from"./chunk-IAYGIRSF.js";import{a as ft,b as $e,c as et}from"./chunk-LPCCEWVC.js";import{a as Fe,b as ke,c as ae,d as J,e as R,f as H,g as re,h as se,i as Ve,j as Be,k as pt,l as ut,m as _t}from"./chunk-45FSDZZ2.js";import{a as Q}from"./chunk-OWUE2ZMH.js";import{Aa as Pe,D as _e,E as fe,F as ge,G as j,I as he,Ia as mt,Ja as dt,L as K,La as L,M as ve,N as Z,Pa as O,Qa as U,U as ye,V as Se,W as Ce,X as rt,Y as lt,_ as N,ca as Ee,ea as st,fa as xe,ga as be,i as ot,ia as Me,k as at,m as A,na as $,oa as ee,pa as te,q as B,qa as ie,sa as ne,ta as oe,u as ue,va as we,xa as Te,ya as De,za as Ie}from"./chunk-VAZIEAYM.js";import{$a as r,$b as C,Bb as z,Cb as G,Db as e,Eb as t,Fb as S,Ic as tt,Jb as w,Kc as Ye,Mb as b,Nc as it,Ob as y,Oc as nt,Uc as pe,Wb as P,Xb as i,Xc as V,Ya as Re,Yb as v,Zb as T,_b as Ae,ab as g,ac as E,bc as x,cc as Ge,da as He,dc as k,fc as ce,hc as D,jc as I,na as F,oa as qe,rb as M,sb as Xe,tb as p,tc as Je,ub as Ze,wa as u,wb as ze,xa as _,yb as h,zb as q}from"./chunk-YXL6XVMF.js";var vt=(()=>{let m=class m{constructor(o,a,n,c,f,s,W){this._notificationService=o,this._traitements=a,this._loading=n,this._router=c,this._userData=f,this._permission=s,this._conge=W,this.employe_matricule="",this.list_pointage=[],this.customer_conge_counter=0,this.customer_permission_counter=0,this.list_conges=[],this.list_customer_conges=[],this.conge_counter=0,this.list_permissions=[],this.list_customer_permissions=[],this.permission_counter=0,this.p=1,this.new_date=new Date}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getStatistiqueData(),this.getCustomerAttendanceList()}formatTimeToHours(o){let[a,n]=o.split("h").map(Number);return a}getStatistiqueData(){this._loading.show_loading(),this._traitements.getCustomersAttendanceStatistique(this.employe_matricule).subscribe({next:o=>{setTimeout(()=>{this.total_worked_hours=this.additionnerListeHeures(o.total_of_mounth),this.total_weeks_hours=this.additionnerListeHeures(o.total_of_week),this.total_today_hours=this.additionnerListeHeures(o.total_of_today),this.progess_total_weeks_hours=this.formatTimeToHours(this.total_weeks_hours),this.progress_total_today_hours=this.formatTimeToHours(this.total_today_hours),this.progress_total_worked_hours=this.formatTimeToHours(this.total_worked_hours),this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getCustomerAttendanceList(){this._loading.show_loading(),this._traitements.getCustomersAttendance(this.employe_matricule).subscribe({next:o=>{setTimeout(()=>{this.list_pointage=o,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}additionnerListeHeures(o){if(o.length!=0){let a=o.reduce((s,W)=>{let[X,Ue]=W.split(":"),Rt=parseInt(X)*60,At=parseInt(Ue);return s+Rt+At},0),n=Math.floor(a/60),c=a%60;return`${n.toString().padStart(2,"0")}h:${c.toString().padStart(2,"0")}`}else return"00h00"}getCustomerCongesList(){this._loading.show_loading(),this._conge.getCustomerConge(this.employe_matricule).subscribe({next:o=>{setTimeout(()=>{console.log(o),this.list_customer_conges=o,this.customer_conge_counter=this.list_customer_conges.length,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getCustomerPermissions(){this._loading.show_loading(),this._permission.getCustomerPermission(this.employe_matricule).subscribe({next:o=>{setTimeout(()=>{this.list_customer_permissions=o,this.customer_permission_counter=this.list_customer_permissions.length,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(g(U),g(O),g(H),g(A),g(Q),g(Be),g(Ve))},m.\u0275cmp=F({type:m,selectors:[["app-employees-welcome"]],standalone:!0,features:[k],decls:38,vars:6,consts:[[1,"hero-header"],[1,"container-fluid"],[1,"hero-body"],[1,"row","gx-3"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","gutters"],[1,"col-sm-6","col-12"],[1,"mt-1"],[1,"d-flex","align-items-center","mb-4"],[1,"box-bdr-red","p-3","rounded-5","font-3xx","text-yellow"],[1,"ms-3"],[1,"fw-bolder","text-danger","fs-4"],[1,"fw-bolder","text-light"],[1,"progress","medium"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","shade-yellow"],[1,"box-bdr-green","p-3","rounded-5","font-3xx","text-green"],["role","progressbar","aria-valuenow","80","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","shade-green"]],template:function(a,n){a&1&&(e(0,"div",0),S(1,"div",1),t(),e(2,"div",2)(3,"div",1)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),i(9,"Vue d'ensemble"),t()(),e(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"span",13)(16,"mat-icon"),i(17,"schedule"),t()(),e(18,"div",14)(19,"h3",15),i(20),t(),e(21,"h2",16),i(22,"Nombre de permission"),t()()(),e(23,"div",17),S(24,"div",18),t()()(),e(25,"div",10)(26,"div",11)(27,"div",12)(28,"span",19)(29,"mat-icon"),i(30,"schedule"),t()(),e(31,"div",14)(32,"h3",15),i(33),t(),e(34,"h2",16),i(35,"Nombre de cong\xE9"),t()()(),e(36,"div",17),S(37,"div",20),t()()()()()()()()()()),a&2&&(r(20),v(n.customer_conge_counter),r(4),Ze("width",n.progress_total_today_hours+"%"),r(9),v(n.customer_conge_counter),r(4),Ze("width",n.progess_total_weeks_hours+"%"))},dependencies:[V,L,j,ae]});let l=m;return l})();function Ot(l,m){if(l&1&&(e(0,"mat-option",31),i(1),t()),l&2){let d=y().$implicit;p("value",d.genre),r(),T("",d.genre," ")}}function Ut(l,m){l&1&&M(0,Ot,2,2,"mat-option",59)}function Ht(l,m){if(l&1&&(e(0,"mat-option",31),i(1),t()),l&2){let d=m.$implicit;p("value",d.situation_matrimoniale),r(),T("",d.situation_matrimoniale," ")}}function qt(l,m){if(l&1&&(e(0,"mat-option",31),i(1),t()),l&2){let d=m.$implicit;p("value",d.piece),r(),T("",d.piece," ")}}function zt(l,m){if(l&1){let d=w();e(0,"button",60),b("click",function(){u(d);let a=y();return _(a.edited("1000ms","1000ms"))}),e(1,"mat-icon"),i(2,"edit_square"),t(),i(3," Editer "),t()}}function Gt(l,m){if(l&1){let d=w();e(0,"button",61),b("click",function(){u(d);let a=y();return _(a.cancel())}),e(1,"mat-icon"),i(2,"cancel"),t(),i(3," annuler "),t()}}function Jt(l,m){if(l&1){let d=w();e(0,"button",60),b("click",function(){u(d);let a=y();return _(a.updateEmployeInformationPersonnelle())}),e(1,"mat-icon"),i(2,"update"),t(),i(3," Modifier les informations "),t()}}var wt=(()=>{let m=class m{constructor(o,a,n,c,f,s,W){this._notificationService=o,this._traitement=a,this._router=n,this._loadings=c,this._userData=f,this._location=s,this._dialogs=W,this.user_name="",this.photo="",this.current_route="",this.code_autorisation="",this.code_owners="",this.first_name="",this.last_name="",this.diplome="",this.matricule="",this.adresse_email="",this.telephone="",this.nombre_enfant_a_charge=0,this.nationalite="",this.date_naissance=new Date,this.lieu_naissance="",this.piece_number="",this.lieu_residence="",this.cnps_number="",this.personne_a_contacter="",this.contact_personne_a_contacter="",this.nombre_personne_a_charge="",this.personne_a_charge="",this.conjoint_name="",this.contact_conjoint="",this.antecedant_medicaux="",this.is_disabled=!0,this.is_disabled_contrats=!0,this.profession="",this.date_embauche="",this.salaire_categoriel=0,this.salaire_net_mensuel=0,this.old_image="",this.img_update=!0,this.hideMoney=!0,this.money_categoriel=0,this.money_brut=0,this.list_fonction=[],this.list_service=[],this.list_genre=[{id:1,genre:"Homme"},{id:2,genre:"Femme"}],this.list_piece=[{id:1,piece:"Carte Nationale d'Identit\xE9"},{id:2,piece:"PassePort"}],this.list_situation_matrimoniale=[{id:1,situation_matrimoniale:"C\xE9libataire"},{id:2,situation_matrimoniale:"Mari\xE9(e)"},{id:3,situation_matrimoniale:"Veuf(ve)"},{id:3,situation_matrimoniale:"Divorc\xE9(e)"}],this.list_categorie_pro=[],this.list_contrats=[],this.list_bureau=[],this.phone="",this.screenWidth=window.innerWidth,window.onresize=()=>{this.screenWidth=window.innerWidth},this._router.events.subscribe(X=>{X instanceof ot&&(this.current_route=X.url)})}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getEmployeProfilInfo()}back(){this._location.back()}edited(o,a){this._dialogs.open(ct,{width:"auto",enterAnimationDuration:o,exitAnimationDuration:a}).afterClosed().subscribe({next:c=>{c.code_authorization_data.code?(this.code_autorisation=c.code_authorization_data.code,this.code_owners=c.code_authorization_data.owners,this.is_disabled=!1):this.is_disabled=!1}})}cancel(){this.is_disabled=!0}selectGenre(o){this.genre=o.value}selectPiece(o){this.piece=o.value}selectSituationMatrimoniale(o){this.situation_matrimoniale=o.value}getEmployeProfilInfo(){this._traitement.getEmployeProfilInfo(this.employe_matricule).subscribe({next:o=>{this.first_name=o.employe_info_perso.first_name,this.matricule=o.employe_info_perso.matricule,this.last_name=o.employe_info_perso.last_name,this.diplome=o.employe_info_perso.diplome,this.adresse_email=o.employe_info_perso.adresse_email,this.date_naissance=o.employe_info_perso.date_naissance,this.lieu_naissance=o.employe_info_perso.lieu_naissance,this.cnps_number=o.employe_info_perso.cnps_number,this.piece_number=o.employe_info_perso.piece_number,this.nationalite=o.employe_info_perso.nationalite,this.nombre_enfant_a_charge=o.employe_info_perso.nombre_enfant_a_charge,this.lieu_residence=o.employe_info_perso.lieu_residence,this.selectedSituationMatrimonialeOption=o.employe_info_perso.situation_matrimoniale,this.selectedGenreOption=o.employe_info_perso.genre,this.selectedPieceOption=o.employe_info_perso.type_piece,this.phone=o.employe_info_perso.phone,this.photo=o.employe_info_perso.photo,this.item_slug_info=o.employe_info_perso.slug,this.personne_a_contacter=o.employe_info_perso.personne_a_contacter,this.personne_a_charge=o.employe_info_perso.personne_a_charge,this.conjoint_name=o.employe_info_perso.conjoint_name,this.contact_conjoint=o.employe_info_perso.contact_conjoint,this.antecedant_medicaux=o.employe_info_perso.antecedant_medicaux,this.contact_personne_a_contacter=o.employe_info_perso.contact_personne_a_contacter,this.situation_matrimoniale=o.employe_info_perso.situation_matrimoniale,this.money_brut=o.employe_info_contrats.salaire_mensuel_net,this.money_categoriel=o.employe_info_contrats.salaire_categoriel,this.profession=o.employe_info_perso.profession,this.old_image=o.employe_info_perso.photo,console.log(o.employe_info_contrats),this.categorie_pro=o.employe_info_contrats.categorie_pro,this.fonction=o.employe_info_contrats.fonction,this.contrats=o.employe_info_contrats.contrats,this.bureau=o.employe_info_contrats.bureau,this.service=o.employe_info_contrats.service,this.date_embauche=o.employe_info_contrats.date_embauche,this.salaire_categoriel=o.employe_info_contrats.salaire_categoriel,this.salaire_net_mensuel=o.employe_info_contrats.salaire_mensuel_net,this.item_slug_contrats=o.employe_info_contrats.slug},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateEmployeInformationPersonnelle(){if(this.first_name==""){this._notificationService.openSnackBarSimpleError("Le nom est obligatoire");return}if(this.last_name==""){this._notificationService.openSnackBarSimpleError("Le pr\xE9nom est obligatoire");return}if(this.diplome==""){this._notificationService.openSnackBarSimpleError("Le dipl\xF4me est obligatoire");return}if(this.adresse_email==""){this._notificationService.openSnackBarSimpleError("L'adresse email est obligatoire");return}if(this.date_naissance==""){this._notificationService.openSnackBarSimpleError("La date de naissance est obligatoire");return}if(this.lieu_naissance==""){this._notificationService.openSnackBarSimpleError("Le lieu de naissance est obligatoire");return}if(this.lieu_residence==""){this._notificationService.openSnackBarSimpleError("Le lieu de residence est obligatoire");return}if(this.phone==""){this._notificationService.openSnackBarSimpleError("Le t\xE9l\xE9phone est obligatoire");return}if(this.nationalite==""){this._notificationService.openSnackBarSimpleError("La nationalit\xE9 est obligatoire");return}if(this.profession==""){this._notificationService.openSnackBarSimpleError("La profession est obligatoire");return}if(this.piece_number==""){this._notificationService.openSnackBarSimpleError("Le num\xE9ro de la pi\xE8ce est obligatoire");return}let o={first_name:this.first_name,last_name:this.last_name,diplome:this.diplome,profession:this.profession,adresse_email:this.adresse_email,phone:this.phone,genre:this.genre==null?this.selectedGenreOption:this.genre,situation_matrimoniale:this.situation_matrimoniale==null?this.selectedSituationMatrimonialeOption:this.situation_matrimoniale,date_naissance:this.date_naissance,lieu_naissance:this.lieu_naissance,lieu_residence:this.lieu_residence,code_autorisation:this.code_autorisation,code_owners:this.code_owners,nationalite:this.nationalite,type_piece:this.piece==null?this.selectedPieceOption:this.piece,piece_number:this.piece_number,cnps_number:this.cnps_number,nombre_enfant_a_charge:this.nombre_enfant_a_charge,personne_a_contacter:this.personne_a_contacter,personne_a_charge:this.personne_a_charge,conjoint_name:this.conjoint_name,contact_conjoint:this.contact_conjoint,antecedant_medicaux:this.antecedant_medicaux,contact_personne_a_contacter:this.contact_personne_a_contacter};this._loadings.show_loading(),this._traitement.updateEmployes(o,this.item_slug_info).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loadings.hide_loading(),this.is_disabled=!0},1e3):(a.code==302||a.code==300)&&(this._loadings.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(g(U),g(O),g(A),g(H),g(Q),g(tt),g(te))},m.\u0275cmp=F({type:m,selectors:[["app-employees-profil"]],standalone:!0,features:[k],decls:252,vars:72,consts:[["pickerDateNaissance",""],[1,"subscribe-header"],["src","assets/images/info.jpg","alt",`Admin &
        Dashboards`,1,"img-fluid","w-100"],[1,"subscriber-body"],[1,"row","justify-content-center","mt-5"],[1,"rounded-circle","img-fluid","img-7x",3,"src"],[1,"col-xxl-6","col-sm-12","col-6","order-xxl-1","order-xl-2","order-lg-2","order-md-2","order-sm-2"],[1,"card","tile-red"],[1,"card-body"],[1,"row"],[1,"col-lg-2","align-items-center"],["src","assets/media/money.svg","alt","","srcset","",1,"img-4xx","rounded"],[1,"col-lg-10"],["matInput","","required","",1,"fs-2","text-primary",3,"ngModelChange","ngModel","type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"m-0","fs-3","fw-bolder","text-primary"],[1,"col-lg-2"],[1,"col-xxl-12","col-sm-12","col-12","order-xxl-1","order-xl-2","order-lg-2","order-md-2","order-sm-2"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"row","gx-3","mt-3"],[1,"col-md-3","col-lg-3"],["appearance","outline"],[1,"fs-4"],["matInput","","placeholder","Pr\xE9nom",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nom de famille",3,"ngModelChange","ngModel","readonly"],[1,"col-md-3","col-sm-6","col-lg-3"],["matInput","","placeholder","Profession ",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Intitul\xE9 du dipl\xF4me",3,"ngModelChange","ngModel","readonly"],[3,"valueChange","selectionChange","disabled","value"],[3,"value"],["type","email","matInput","","placeholder","Adresse email",3,"ngModelChange","ngModel","readonly"],["type","tel","matInput","","placeholder","Num\xE9ro t\xE9l\xE9phone",3,"ngModelChange","ngModel","readonly"],["matInput","",3,"ngModelChange","ngModel","readonly","matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","placeholder","Lieu de naissance",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Lieu de r\xE9sidence",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nationalit\xE9",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Ant\xE9c\xE9dent medical",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nombre de personnes \xE0 charge",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Situation Matrimoniale",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nom du conjoint",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Contact du conjoint",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Personne \xE0 contacter",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Contact de la personne \xE0 contacter",3,"ngModelChange","ngModel","readonly"],["type","number","matInput","","placeholder","Nombre d'enfants \xE0 charge",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","N\xB0 Pi\xE8ce d'identit\xE9",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","N\xB0 CNPS",3,"ngModelChange","ngModel","readonly"],[1,"mt-3","text-center"],["mat-fab","","extended","","color","primary"],["mat-fab","","extended","","color","warn",1,"me-3"],[1,"col-xxl-12","col-sm-12","col-12","order-xxl-3","order-xl-3","order-lg-3","order-md-3","order-sm-3"],[1,"row","g-2"],[1,"list-group"],[1,"fs-4","list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge","shade-green","rounded-pill"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[3,"value",4,""],["mat-fab","","extended","","color","primary",3,"click"],["mat-fab","","extended","","color","warn",1,"me-3",3,"click"]],template:function(a,n){if(a&1){let c=w();e(0,"div",1),S(1,"img",2),t(),e(2,"div",3)(3,"div",4),S(4,"img",5),t(),e(5,"div",4)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),S(11,"img",11),t(),e(12,"div",12)(13,"mat-form-field")(14,"input",13),x("ngModelChange",function(s){return u(c),E(n.money_categoriel,s)||(n.money_categoriel=s),_(s)}),t(),e(15,"button",14),b("click",function(){return u(c),_(n.hideMoney=!n.hideMoney)}),e(16,"mat-icon"),i(17),t()()(),e(18,"h3",15),i(19,"Salaire cat\xE9goriel en FCFA"),t()()()()()(),e(20,"div",6)(21,"div",7)(22,"div",8)(23,"div",9)(24,"div",16),S(25,"img",11),t(),e(26,"div",12)(27,"mat-form-field")(28,"input",13),x("ngModelChange",function(s){return u(c),E(n.money_brut,s)||(n.money_brut=s),_(s)}),t(),e(29,"button",14),b("click",function(){return u(c),_(n.hideMoney=!n.hideMoney)}),e(30,"mat-icon"),i(31),t()()(),e(32,"h3",15),i(33,"Salaire brut en FCFA"),t()()()()()()(),e(34,"div",4)(35,"div",17)(36,"div",18)(37,"div",19)(38,"div",20),i(39,"Information personnelle"),t()(),e(40,"div",8)(41,"div",21)(42,"div",22)(43,"mat-form-field",23)(44,"mat-label"),i(45,"Pr\xE9nom "),e(46,"code",24),i(47,"*"),t()(),e(48,"input",25),x("ngModelChange",function(s){return u(c),E(n.first_name,s)||(n.first_name=s),_(s)}),t()()(),e(49,"div",22)(50,"mat-form-field",23)(51,"mat-label"),i(52,"Nom de famille "),e(53,"code",24),i(54,"*"),t()(),e(55,"input",26),x("ngModelChange",function(s){return u(c),E(n.last_name,s)||(n.last_name=s),_(s)}),t()()(),e(56,"div",27)(57,"mat-form-field",23)(58,"mat-label"),i(59,"Profession"),e(60,"code",24),i(61,"*"),t()(),e(62,"input",28),x("ngModelChange",function(s){return u(c),E(n.profession,s)||(n.profession=s),_(s)}),t()()(),e(63,"div",22)(64,"mat-form-field",23)(65,"mat-label"),i(66,"Intitul\xE9 du dipl\xF4me "),e(67,"code",24),i(68,"*"),t()(),e(69,"input",29),x("ngModelChange",function(s){return u(c),E(n.diplome,s)||(n.diplome=s),_(s)}),t()()(),e(70,"div",27)(71,"mat-form-field",23)(72,"mat-label"),i(73,"Genre"),e(74,"code",24),i(75,"*"),t()(),e(76,"mat-select",30),x("valueChange",function(s){return u(c),E(n.selectedGenreOption,s)||(n.selectedGenreOption=s),_(s)}),b("selectionChange",function(s){return u(c),_(n.selectGenre(s))}),z(77,Ut,1,0,"mat-option",31,q),t()()(),e(79,"div",27)(80,"mat-form-field",23)(81,"mat-label"),i(82,"Adresse email "),e(83,"code",24),i(84,"*"),t()(),e(85,"input",32),x("ngModelChange",function(s){return u(c),E(n.adresse_email,s)||(n.adresse_email=s),_(s)}),t()()(),e(86,"div",27)(87,"mat-form-field",23)(88,"mat-label"),i(89,"Num\xE9ro t\xE9l\xE9phone "),e(90,"code",24),i(91,"*"),t()(),e(92,"input",33),x("ngModelChange",function(s){return u(c),E(n.phone,s)||(n.phone=s),_(s)}),t()()(),e(93,"div",27)(94,"mat-form-field",23)(95,"mat-label"),i(96,"Date de naissance "),e(97,"code",24),i(98,"*"),t()(),e(99,"input",34),x("ngModelChange",function(s){return u(c),E(n.date_naissance,s)||(n.date_naissance=s),_(s)}),t(),S(100,"mat-datepicker-toggle",35)(101,"mat-datepicker",null,0),t()(),e(103,"div",27)(104,"mat-form-field",23)(105,"mat-label"),i(106,"Lieu de naissance "),e(107,"code",24),i(108,"*"),t()(),e(109,"input",36),x("ngModelChange",function(s){return u(c),E(n.lieu_naissance,s)||(n.lieu_naissance=s),_(s)}),t()()(),e(110,"div",27)(111,"mat-form-field",23)(112,"mat-label"),i(113,"Lieu de r\xE9sidence "),e(114,"code",24),i(115,"*"),t()(),e(116,"input",37),x("ngModelChange",function(s){return u(c),E(n.lieu_residence,s)||(n.lieu_residence=s),_(s)}),t()()(),e(117,"div",27)(118,"mat-form-field",23)(119,"mat-label"),i(120,"Nationalit\xE9 "),e(121,"code",24),i(122,"*"),t()(),e(123,"input",38),x("ngModelChange",function(s){return u(c),E(n.nationalite,s)||(n.nationalite=s),_(s)}),t()()(),e(124,"div",27)(125,"mat-form-field",23)(126,"mat-label"),i(127,"Ant\xE9c\xE9dent medical "),e(128,"code",24),i(129,"*"),t()(),e(130,"input",39),x("ngModelChange",function(s){return u(c),E(n.antecedant_medicaux,s)||(n.antecedant_medicaux=s),_(s)}),t()()(),e(131,"div",27)(132,"mat-form-field",23)(133,"mat-label"),i(134,"Nombre de personnes \xE0 charge "),e(135,"code",24),i(136,"*"),t()(),e(137,"input",40),x("ngModelChange",function(s){return u(c),E(n.personne_a_charge,s)||(n.personne_a_charge=s),_(s)}),t()()(),e(138,"div",27)(139,"mat-form-field",23)(140,"mat-label"),i(141,"Situation Matrimoniale "),e(142,"code",24),i(143,"*"),t()(),e(144,"input",41),x("ngModelChange",function(s){return u(c),E(n.situation_matrimoniale,s)||(n.situation_matrimoniale=s),_(s)}),t()()(),e(145,"div",27)(146,"mat-form-field",23)(147,"mat-label"),i(148,"Nom du conjoint "),e(149,"code",24),i(150,"*"),t()(),e(151,"input",42),x("ngModelChange",function(s){return u(c),E(n.conjoint_name,s)||(n.conjoint_name=s),_(s)}),t()()(),e(152,"div",27)(153,"mat-form-field",23)(154,"mat-label"),i(155,"Contact du conjoint "),e(156,"code",24),i(157,"*"),t()(),e(158,"input",43),x("ngModelChange",function(s){return u(c),E(n.contact_conjoint,s)||(n.contact_conjoint=s),_(s)}),t()()(),e(159,"div",27)(160,"mat-form-field",23)(161,"mat-label"),i(162,"Personne \xE0 contacter "),e(163,"code",24),i(164,"*"),t()(),e(165,"input",44),x("ngModelChange",function(s){return u(c),E(n.personne_a_contacter,s)||(n.personne_a_contacter=s),_(s)}),t()()(),e(166,"div",27)(167,"mat-form-field",23)(168,"mat-label"),i(169,"Contact de la personne \xE0 contacter "),e(170,"code",24),i(171,"*"),t()(),e(172,"input",45),x("ngModelChange",function(s){return u(c),E(n.contact_personne_a_contacter,s)||(n.contact_personne_a_contacter=s),_(s)}),t()()(),e(173,"div",27)(174,"mat-form-field",23)(175,"mat-label"),i(176,"Situation Matrimoniale"),e(177,"code",24),i(178,"*"),t()(),e(179,"mat-select",30),x("valueChange",function(s){return u(c),E(n.selectedSituationMatrimonialeOption,s)||(n.selectedSituationMatrimonialeOption=s),_(s)}),b("selectionChange",function(s){return u(c),_(n.selectSituationMatrimoniale(s))}),z(180,Ht,2,2,"mat-option",31,q),t()()(),e(182,"div",22)(183,"mat-form-field",23)(184,"mat-label"),i(185,"Nombre d'enfants \xE0 charge "),e(186,"code",24),i(187,"*"),t()(),e(188,"input",46),x("ngModelChange",function(s){return u(c),E(n.nombre_enfant_a_charge,s)||(n.nombre_enfant_a_charge=s),_(s)}),t()()(),e(189,"div",22)(190,"mat-form-field",23)(191,"mat-label"),i(192,"Type de pi\xE8ce"),e(193,"code",24),i(194,"*"),t()(),e(195,"mat-select",30),x("valueChange",function(s){return u(c),E(n.selectedPieceOption,s)||(n.selectedPieceOption=s),_(s)}),b("selectionChange",function(s){return u(c),_(n.selectPiece(s))}),z(196,qt,2,2,"mat-option",31,q),t()()(),e(198,"div",22)(199,"mat-form-field",23)(200,"mat-label"),i(201,"N\xB0 Pi\xE8ce d'identit\xE9 "),e(202,"code",24),i(203,"*"),t()(),e(204,"input",47),x("ngModelChange",function(s){return u(c),E(n.piece_number,s)||(n.piece_number=s),_(s)}),t()()(),e(205,"div",22)(206,"mat-form-field",23)(207,"mat-label"),i(208,"N\xB0 CNPS "),e(209,"code",24),i(210,"*"),t()(),e(211,"input",48),x("ngModelChange",function(s){return u(c),E(n.cnps_number,s)||(n.cnps_number=s),_(s)}),t()()(),e(212,"div",49),M(213,zt,4,0,"button",50)(214,Gt,4,0,"button",51)(215,Jt,4,0,"button",50),t()()()()(),e(216,"div",52)(217,"div",18)(218,"div",19)(219,"div",20),i(220,"Information professionnelle"),t()(),e(221,"div",8)(222,"div",53)(223,"ul",54)(224,"li",55),i(225," Fonction "),e(226,"span",56),i(227),t()(),e(228,"li",55),i(229," Service "),e(230,"span",56),i(231),t()(),e(232,"li",55),i(233," Lieu de travail "),e(234,"span",56),i(235),t()(),e(236,"li",55),i(237," Contrat "),e(238,"span",56),i(239),t()(),e(240,"li",55),i(241," Date d'embauche "),e(242,"span",56),i(243),D(244,"date"),t()(),e(245,"li",55),i(246," Cat\xE9gorie professionnelle "),e(247,"span",56),i(248),t()()()()()()()()(),e(249,"ngx-spinner",57)(250,"p",58),i(251," Chargement en cours... "),t()()}if(a&2){let c=P(102);r(4),p("src",n.photo,Re),r(10),C("ngModel",n.money_categoriel),p("type",n.hideMoney?"password":"text"),r(),Xe("aria-label","Hide password")("aria-pressed",n.hideMoney),r(2),v(n.hideMoney?"visibility_off":"visibility"),r(11),C("ngModel",n.money_brut),p("type",n.hideMoney?"password":"text"),r(),Xe("aria-label","Hide password")("aria-pressed",n.hideMoney),r(2),v(n.hideMoney?"visibility_off":"visibility"),r(17),C("ngModel",n.first_name),p("readonly",n.is_disabled==!0),r(7),C("ngModel",n.last_name),p("readonly",n.is_disabled==!0),r(7),C("ngModel",n.profession),p("readonly",n.is_disabled==!0),r(7),C("ngModel",n.diplome),p("readonly",n.is_disabled==!0),r(7),p("disabled",n.is_disabled==!0),C("value",n.selectedGenreOption),r(),G(n.list_genre),r(8),C("ngModel",n.adresse_email),p("readonly",n.is_disabled==!0),r(7),C("ngModel",n.phone),p("readonly",n.is_disabled==!0),r(7),C("ngModel",n.date_naissance),p("readonly",n.is_disabled==!0)("matDatepicker",c),r(),p("for",c),r(9),C("ngModel",n.lieu_naissance),p("readonly",n.is_disabled==!0),r(7),C("ngModel",n.lieu_residence),p("readonly",n.is_disabled==!0),r(7),C("ngModel",n.nationalite),p("readonly",n.is_disabled==!0),r(7),C("ngModel",n.antecedant_medicaux),p("readonly",n.is_disabled==!0),r(7),C("ngModel",n.personne_a_charge),p("readonly",n.is_disabled==!0),r(7),C("ngModel",n.situation_matrimoniale),p("readonly",n.is_disabled==!0),r(7),C("ngModel",n.conjoint_name),p("readonly",n.is_disabled==!0),r(7),C("ngModel",n.contact_conjoint),p("readonly",n.is_disabled==!0),r(7),C("ngModel",n.personne_a_contacter),p("readonly",n.is_disabled==!0),r(7),C("ngModel",n.contact_personne_a_contacter),p("readonly",n.is_disabled==!0),r(7),p("disabled",n.is_disabled==!0),C("value",n.selectedSituationMatrimonialeOption),r(),G(n.list_situation_matrimoniale),r(8),C("ngModel",n.nombre_enfant_a_charge),p("readonly",n.is_disabled==!0),r(7),p("disabled",n.is_disabled==!0),C("value",n.selectedPieceOption),r(),G(n.list_piece),r(8),C("ngModel",n.piece_number),p("readonly",n.is_disabled==!0),r(7),C("ngModel",n.cnps_number),p("readonly",n.is_disabled==!0),r(2),h(213,n.is_disabled==!0?213:-1),r(),h(214,n.is_disabled==!1?214:-1),r(),h(215,n.is_disabled==!1?215:-1),r(12),v(n.fonction),r(4),v(n.service),r(4),v(n.bureau),r(4),v(n.contrats),r(4),v(I(244,69,n.date_embauche,"d MMMM yyyy ")),r(5),v(n.categorie_pro),r(),p("fullScreen",!0)}},dependencies:[V,pe,L,j,Z,K,be,Ee,xe,Me,ue,we,Te,De,Ie,B,N,ye,rt,Se,lt,Ce,R,J]});let l=m;return l})();function Kt(l,m){l&1&&(e(0,"button",31)(1,"mat-icon"),i(2,"verified"),t(),i(3," Cong\xE9 approuv\xE9 "),t())}function Qt(l,m){l&1&&(e(0,"button",32)(1,"mat-icon"),i(2,"verified"),t(),i(3," Cong\xE9 r\xE9jet\xE9 "),t())}function Xt(l,m){l&1&&(e(0,"button",32)(1,"mat-icon"),i(2,"no_accounts"),t(),i(3," Accune action "),t())}function Zt(l,m){if(l&1&&(e(0,"div",33)(1,"mat-icon",38),i(2,"notifications"),t(),i(3),t()),l&2){let d=y();r(3),T(" ",d.conge_data.comments," ")}}function $t(l,m){l&1&&(e(0,"button",31)(1,"mat-icon"),i(2,"verified"),t(),i(3," Cong\xE9 approuv\xE9 "),t())}function ei(l,m){l&1&&(e(0,"button",37)(1,"mat-icon"),i(2,"verified"),t(),i(3," Cong\xE9 r\xE9jet\xE9 "),t())}function ti(l,m){l&1&&(e(0,"button",32)(1,"mat-icon"),i(2,"verified"),t(),i(3," Accune action "),t())}var Tt=(()=>{let m=class m{constructor(o,a){this.data=o,this._dialogRef=a,Ye(Ke)}ngOnInit(){this.data!=null&&(this.conge_data=this.data)}};m.\u0275fac=function(a){return new(a||m)(g(ee),g($))},m.\u0275cmp=F({type:m,selectors:[["app-customer-detail-conges"]],standalone:!0,features:[Ge([{provide:Je,useValue:"fr-FR"}]),k],decls:120,vars:38,consts:[["mat-dialog-content","",2,"max-height","95vh"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","align-items-center","mb-4"],[1,"col-xl-2","col-sm-3","col-12"],["src","assets/media/logoai.png","width","100","alt","",1,"img-fluid"],[1,"col-xl-10","col-sm-9","col-12"],[1,"text-end","m-0","fw-bolder"],[1,"fw-bolder","fs-5"],[1,"row","gx-3"],[1,"col-sm-12","col-12"],[1,"text-center","mb-3"],[1,"fw-bolder","text-uppercase"],[1,"d-flex","justify-content-end","my-4"],[1,"m-0"],[1,"fw-bolder"],[1,"fw-bolder","text-red","text-uppercase"],[1,"row","gx-3","mb-2"],[1,"col-sm-12","col-12","mb-3"],[1,"fw-bolder","text-red"],[1,"col-12"],[1,"table-responsive","mb-3"],[1,"table","table-bordered"],[1,"text-uppercase"],[1,"text-uppercase","mb-4"],[1,"fw-bolder","mb-4"],[1,"d-flex","justify-content-between"],[1,"text-start","mb-3"],[1,"fw-bolder","text-start"],["mat-fab","","extended","","color","primary"],["mat-fab","","extended","","color","warn"],["role","alert",1,"alert","alert-light","alert-dismissible","fade","show"],[1,"m-0","text-end"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-fab","","extended","","color","primary","mat-dialog-close",""],["mat-fab","","extended","","color","accent"],[1,"text-danger","alert-icon"]],template:function(a,n){a&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),i(4),t()(),e(5,"div",4)(6,"div",5)(7,"div",6),S(8,"img",7),t(),e(9,"div",8)(10,"p",9)(11,"span",10),i(12,"ALERTE "),S(13,"br"),i(14," Info "),t()()()(),e(15,"div",11)(16,"div",12)(17,"div",13)(18,"h1",14),i(19," demande de cong\xE9 "),t()(),e(20,"div",15)(21,"div")(22,"p",16)(23,"span",17),i(24,"Date d\xE9but de la demande,"),t(),S(25,"br"),e(26,"span",18),i(27),D(28,"transformDate"),t()()()()()(),e(29,"div",19)(30,"div",20)(31,"p",16)(32,"span",17),i(33,"Dur\xE9e du conge,"),t(),S(34,"br"),e(35,"span",17)(36,"span",21),i(37),t(),S(38,"br"),i(39),D(40,"transformDate"),D(41,"transformDate"),t()()()(),e(42,"div",19)(43,"div",20)(44,"p",16)(45,"span",17),i(46,"Objet,"),t(),S(47,"br"),e(48,"span",18),i(49),t()()()(),e(50,"div",11)(51,"div",22)(52,"div",23)(53,"table",24)(54,"thead")(55,"tr")(56,"th")(57,"span",25),i(58,"Nom & Pr\xE9nom"),t()(),e(59,"th")(60,"span",25),i(61,"Fonction"),t()(),e(62,"th")(63,"span",25),i(64,"Service"),t()(),e(65,"th")(66,"span",25),i(67,"Date d\xE9part en cong\xE9"),t()(),e(68,"th")(69,"span",25),i(70,"Date retour en cong\xE9"),t()()()(),e(71,"tbody")(72,"tr")(73,"td")(74,"span",17),i(75),t()(),e(76,"td")(77,"span",17),i(78),t()(),e(79,"td")(80,"span",17),i(81),t()(),e(82,"td")(83,"span",18),i(84),D(85,"transformDate"),t()(),e(86,"td")(87,"span",18),i(88),D(89,"transformDate"),t()()()()()(),e(90,"p",26),i(91,"Motif du cong\xE9: "),t(),e(92,"p",27),i(93),t(),e(94,"div",28)(95,"div")(96,"p",29)(97,"span",30),i(98,"Approbation"),t(),S(99,"br"),M(100,Kt,4,0,"button",31)(101,Qt,4,0,"button",32)(102,Xt,4,0,"button",32),t(),M(103,Zt,4,1,"div",33),t(),e(104,"div")(105,"p",34)(106,"span",17),i(107,"Faire \xE0 Abidjan le,"),t(),S(108,"br"),e(109,"span",18),i(110),D(111,"transformDate"),t()()()()()()()()(),e(112,"div",35)(113,"button",36)(114,"mat-icon"),i(115,"reply"),t(),i(116," Fermer "),t(),M(117,$t,4,0,"button",31)(118,ei,4,0,"button",37)(119,ti,4,0,"button",32),t()),a&2&&(r(4),T("R\xE9f cong\xE9 - #",n.conge_data.conge_ref,""),r(23),v(I(28,20,n.conge_data.date_depart,"d MMMM yyyy")),r(10),T(" ",n.conge_data.duree_conge," "),r(2),Ae(" du ",I(40,23,n.conge_data.date_depart,"dd MMMM yyyy")," au ",I(41,26,n.conge_data.date_retour,"dd MMMM yyyy")," "),r(10),v(n.conge_data.objet_demande),r(26),v(n.conge_data.first_name+" "+n.conge_data.last_name),r(3),v(n.conge_data.fonction),r(3),v(n.conge_data.service),r(3),v(I(85,29,n.conge_data.date_depart,"dd MMMM yyyy")),r(4),v(I(89,32,n.conge_data.date_retour,"dd MMMM yyyy")),r(5),v(n.conge_data.motif),r(7),h(100,n.conge_data.status_on==1?100:-1),r(),h(101,n.conge_data.status_off==1?101:-1),r(),h(102,n.conge_data.status_on==0&&n.conge_data.status_off==0?102:-1),r(),h(103,n.conge_data.status_on==1||n.conge_data.status_off==1?103:-1),r(7),T(" ",I(111,35,n.conge_data.created_at,"dd MMMM yyyy, \xE0 HH:mm")," "),r(7),h(117,n.conge_data.status_on==1?117:-1),r(),h(118,n.conge_data.status_off==1?118:-1),r(),h(119,n.conge_data.status_on==0&&n.conge_data.status_off==0?119:-1))},dependencies:[V,L,j,K,ie,oe,ne,B,N,re,R]});let l=m;return l})();function ii(l,m){if(l&1&&(e(0,"mat-option",18),i(1),t()),l&2){let d=m.$implicit;p("value",d.type_conge),r(),v(d.type_conge)}}function ni(l,m){if(l&1&&(e(0,"mat-option",18),i(1),t()),l&2){let d=m.$implicit;p("value",d.employee_matricule),r(),T(" ","Departement: "+d.service," ")}}var Dt=(()=>{let m=class m{constructor(o,a,n,c,f,s,W){this._notificationService=o,this._traitement=a,this._router=n,this._loading=c,this._conge=f,this.data=s,this._dialogRef=W,this.list_type_responsable=[],this.list_type_conge=[],this.user_name="",this.user_fonction="",this.user_service="",this.employe_matricule="",this.motif="",this.objet_demande="",this.date_depart=new Date,this.date_retour=new Date,this.items_slug=""}ngOnInit(){this._loading.show_loading(),this.data!=null&&(this.items_slug=this.data),setTimeout(()=>{this.getTypeCongeList(),this.getAllResponsable(),this.getCurrentCongeInfo(),this._loading.hide_loading()},1e3)}getCurrentCongeInfo(){this._conge.editDemandeConge(this.items_slug).subscribe({next:o=>{this.motif=o.motif,this.employe_matricule=o.employe_matricule,this.objet_demande=o.objet_demande,this.selectedTypeCongeOption=o.type_conge,this.selectedTypeResponsableOption=o.destinataire,this.date_depart=new Date(o.date_depart),this.date_retour=new Date(o.date_retour),this.motif=o.motif},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getTypeCongeList(){this._traitement.getTypeConge().subscribe({next:o=>{this.list_type_conge=o},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getAllResponsable(){this._traitement.getAllResponsable().subscribe({next:o=>{this.list_type_responsable=o},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateConge(){let o=this.calculateDifferenceBetweenDates(this.date_depart,this.date_retour),a={date_depart:this.formatDate(this.date_depart).toString(),date_retour:this.formatDate(this.date_retour).toString(),type_conge:this.type_conge==null?this.selectedTypeCongeOption:this.type_conge,destinataire:this.type_responsable==null?this.selectedTypeResponsableOption:this.type_responsable,objet_demande:this.objet_demande,duree_conge:o,motif:this.motif,employe_matricule:this.employe_matricule};this._loading.show_loading(),this._conge.updateDemandeConge(this.items_slug,a).subscribe({next:n=>{n.code==200?(this._notificationService.openSnackBarSuccess(n),setTimeout(()=>{this._loading.hide_loading(),this._dialogRef.close(!0)},1e3)):(n.code==300||n.code==500||n.code==302)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(n))},error:n=>{n.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}onChangeTypeConge(o){this.type_conge=o.value,this.objet_demande="DEMANDE DE CONGES  "+this.type_conge}onChangeDestinataire(o){this.type_responsable=o.value}calculateDifferenceBetweenDates(o,a){if(o!=null&&a!=null)return Math.abs(a.getTime()-o.getTime())/(1e3*3600*24)+"Jour(s)"}formatDate(o){let a=o.toLocaleString("default",{year:"numeric"}),n=o.toLocaleString("default",{month:"2-digit"}),c=o.toLocaleString("default",{day:"2-digit"});return a+"-"+n+"-"+c}};m.\u0275fac=function(a){return new(a||m)(g(U),g(O),g(A),g(H),g(Ve),g(ee),g($))},m.\u0275cmp=F({type:m,selectors:[["app-full-edit-conges-forms"]],standalone:!0,features:[k],decls:67,vars:11,consts:[["Date_depart",""],["Date_retour",""],["mat-dialog-content","",2,"max-height","95vh"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","gx-3","justify-content-center","mb-3"],[1,"col-12"],[1,"col-lg-6"],["appearance","outline"],["matInput","","placeholder","Ex: 00/00/0000",3,"ngModelChange","ngModel","matDatepicker"],["matIconSuffix","",3,"for"],[1,"row","gx-3","mb-3"],[3,"valueChange","selectionChange","value"],[3,"value"],[1,"col-lg-12"],["matInput","","placeholder","Objet de la demande",3,"ngModelChange","ngModel"],[1,"col-lg-12","mb-3"],["appearance","outline",1,"example-full-width"],["rows","3","matInput","","placeholder","Ex. Le motif du cong\xE9s...",3,"ngModelChange","ngModel"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-fab","","extended","","color","primary","mat-dialog-close",""],["mat-fab","","extended","","color","primary",3,"click"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"]],template:function(a,n){if(a&1){let c=w();e(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8),i(7,"Modification du cong\xE9"),t()(),e(8,"div",9)(9,"div",10)(10,"div",11)(11,"h1"),i(12,"Formulaire de modification de cong\xE9"),t()(),e(13,"div",12)(14,"mat-form-field",13)(15,"mat-label"),i(16,"Date de depart de cong\xE9"),t(),e(17,"input",14),x("ngModelChange",function(s){return u(c),E(n.date_depart,s)||(n.date_depart=s),_(s)}),t(),S(18,"mat-datepicker-toggle",15)(19,"mat-datepicker",null,0),t()(),e(21,"div",12)(22,"mat-form-field",13)(23,"mat-label"),i(24,"Date de retour de cong\xE9"),t(),e(25,"input",14),x("ngModelChange",function(s){return u(c),E(n.date_retour,s)||(n.date_retour=s),_(s)}),t(),S(26,"mat-datepicker-toggle",15)(27,"mat-datepicker",null,1),t()(),e(29,"div",16)(30,"div",12)(31,"mat-form-field")(32,"mat-label"),i(33,"Type de cong\xE9"),t(),e(34,"mat-select",17),x("valueChange",function(s){return u(c),E(n.selectedTypeCongeOption,s)||(n.selectedTypeCongeOption=s),_(s)}),b("selectionChange",function(s){return u(c),_(n.onChangeTypeConge(s))}),z(35,ii,2,2,"mat-option",18,q),t()()(),e(37,"div",12)(38,"mat-form-field")(39,"mat-label"),i(40,"Destinataire"),t(),e(41,"mat-select",17),x("valueChange",function(s){return u(c),E(n.selectedTypeResponsableOption,s)||(n.selectedTypeResponsableOption=s),_(s)}),b("selectionChange",function(s){return u(c),_(n.onChangeDestinataire(s))}),z(42,ni,2,2,"mat-option",18,q),t()()()(),e(44,"div",16)(45,"div",19)(46,"mat-form-field")(47,"mat-label"),i(48,"Objet de la demande"),t(),e(49,"input",20),x("ngModelChange",function(s){return u(c),E(n.objet_demande,s)||(n.objet_demande=s),_(s)}),t()()()(),e(50,"div",21)(51,"mat-form-field",22)(52,"mat-label"),i(53,"Le motif du cong\xE9s"),t(),e(54,"textarea",23),x("ngModelChange",function(s){return u(c),E(n.motif,s)||(n.motif=s),_(s)}),t()()()()()()()()()(),e(55,"div",24)(56,"button",25)(57,"mat-icon"),i(58,"reply"),t(),i(59," Fermer "),t(),e(60,"button",26),b("click",function(){return u(c),_(n.updateConge())}),e(61,"mat-icon"),i(62,"save"),t(),i(63," Sauvegarder la modification "),t()(),e(64,"ngx-spinner",27)(65,"p",28),i(66," Chargement en cours... "),t()()}if(a&2){let c=P(20),f=P(28);r(17),C("ngModel",n.date_depart),p("matDatepicker",c),r(),p("for",c),r(7),C("ngModel",n.date_retour),p("matDatepicker",f),r(),p("for",f),r(8),C("value",n.selectedTypeCongeOption),r(),G(n.list_type_conge),r(6),C("value",n.selectedTypeResponsableOption),r(),G(n.list_type_responsable),r(7),C("ngModel",n.objet_demande),r(5),C("ngModel",n.motif),r(10),p("fullScreen",!0)}},dependencies:[V,L,j,K,be,Ee,xe,Me,ue,ie,oe,ne,we,Te,De,Ie,B,N,ye,Se,Ce,R,J]});let l=m;return l})();var oi=l=>({itemsPerPage:20,currentPage:l});function ai(l,m){l&1&&(e(0,"button",33)(1,"mat-icon",16),i(2,"verified"),t()())}function ri(l,m){l&1&&(e(0,"button",34)(1,"mat-icon",19),i(2,"verified"),t()())}function li(l,m){l&1&&(e(0,"button",35)(1,"mat-icon",20),i(2,"unpublished"),t()())}function si(l,m){if(l&1){let d=w();e(0,"tr")(1,"td",25),i(2),t(),e(3,"td",30),i(4),t(),e(5,"td",25)(6,"p",31),i(7),t()(),e(8,"td",25)(9,"p",31),i(10),t()(),e(11,"td",25)(12,"button",32)(13,"mat-icon"),i(14,"check_circle"),t()()(),e(15,"td",25),M(16,ai,3,0,"button",33)(17,ri,3,0,"button",34)(18,li,3,0,"button",35),t(),e(19,"td",36)(20,"p",37),i(21),D(22,"transformDate"),t()(),e(23,"td",36)(24,"button",38)(25,"mat-icon"),i(26,"more_vert"),t()(),e(27,"mat-menu",14,1)(29,"button",39),b("click",function(){let a=u(d).$implicit,n=y();return _(n.consulteCustomerConge(a))}),e(30,"mat-icon"),i(31,"visibility"),t(),i(32," Consulter "),t(),e(33,"button",39),b("click",function(){let a=u(d).$implicit,n=y();return _(n.updateCustomerConge(a.slug))}),e(34,"mat-icon"),i(35,"border_color"),t(),i(36," Modifier "),t(),e(37,"button",39),b("click",function(){let a=u(d).$implicit,n=y();return _(n.openDeleDialog(a.slug))}),e(38,"mat-icon"),i(39,"delete"),t(),i(40," Supprimer "),t()()()()}if(l&2){let d=m.$implicit,o=P(28);r(2),v(d.conge_ref),r(2),T(" ",d.motif," "),r(3),v(d.fonction),r(3),v(d.service),r(2),p("matTooltip",d.new_actions==1?"Consulter":"Nouveau"),r(),ze(d.new_actions==1?"text-primary":"text-warning"),r(3),h(16,d.status_on==1?16:-1),r(),h(17,d.status_off==1?17:-1),r(),h(18,d.status_on==0&&d.status_off==0?18:-1),r(3),v(I(22,12,d.created_at,"d MMMM yyyy, \xE0 HH:mm")),r(3),p("matMenuTriggerFor",o)}}var kt=(()=>{let m=class m{constructor(o,a,n,c,f,s,W){this._notificationService=o,this._traitement=a,this._router=n,this._loading=c,this._userData=f,this._conge=s,this._dialog=W,this.employe_matricule="",this.p=1,this.list_conges=[],this.list_customer_conges=[],this.conge_counter=0,this.customer_conge_counter=0}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getCustomerCongesList()}consulteCustomerConge(o){this._dialog.open(Tt,{panelClass:"fullscreen-dialog",data:o}).afterClosed().subscribe({next:n=>{}})}updateCustomerConge(o){this._dialog.open(Dt,{panelClass:"fullscreen-dialog",data:o}).afterClosed().subscribe({next:n=>{n&&this.getCustomerCongesList()}})}getCustomerCongesList(){this._loading.show_loading(),this._conge.getCustomerConge(this.employe_matricule).subscribe({next:o=>{setTimeout(()=>{console.log(o),this.list_customer_conges=o,this.customer_conge_counter=this.list_customer_conges.length,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(se,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this.deleteConge(o)}})}deleteConge(o){this._loading.show_loading(),this._conge.deleteDemandeConge(o).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getCustomerCongesList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(g(U),g(O),g(A),g(H),g(Q),g(Ve),g(te))},m.\u0275cmp=F({type:m,selectors:[["app-customer-list-conges"]],standalone:!0,features:[k],decls:89,vars:8,consts:[["guideInfo","matMenu"],["beforeMenu","matMenu"],[1,"hero-body"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title","fw-bolder","fs-5"],["mat-button","",1,"default__btn__lg"],[1,"example-tab-icon","text-dark"],[1,"fw-bolder","fs-5","text-dark"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],["mat-mini-fab","",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item",""],[1,"text-primary"],[1,""],[1,"fw-bolder"],[1,"text-red"],[1,"text-warning"],[1,"card-body"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"table-responsive","mt-4"],[1,"table","table-striped","m-0"],[1,"text-center"],[1,"div","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[2,"white-space","unset !important"],[1,"fs-6"],["mat-icon-button","",3,"matTooltip"],["matTooltip","Approuv\xE9e","mat-icon-button",""],["matTooltip","R\xE9jet\xE9e","mat-icon-button",""],["matTooltip","Aucune action","mat-icon-button",""],[1,"text-end"],[1,"fw-bolder","fs-6"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(a,n){if(a&1){let c=w();e(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"button",9)(8,"mat-icon",10),i(9,"view_list"),t(),e(10,"span",11),i(11,"Mes conges"),t()(),e(12,"button",12),i(13),t()(),e(14,"div")(15,"button",13)(16,"mat-icon"),i(17,"info"),t()(),e(18,"mat-menu",14,0)(20,"button",15)(21,"mat-icon",16),i(22,"verified"),t(),e(23,"span",17),i(24,"Indique que le cong\xE9 a \xE9t\xE9"),e(25,"code",18),i(26,"valid\xE9"),t()()(),e(27,"button",15)(28,"mat-icon",19),i(29,"verified"),t(),e(30,"span"),i(31,"Indique que le cong\xE9 a \xE9t\xE9 "),e(32,"code",18),i(33," rejet\xE9 "),t()()(),e(34,"button",15)(35,"mat-icon",20),i(36,"verified"),t(),e(37,"span"),i(38,"Indique "),e(39,"code",18),i(40," Aucune action "),t(),i(41," sur le cong\xE9 "),t()(),e(42,"button",15)(43,"mat-icon",16),i(44,"check_circle"),t(),e(45,"span"),i(46,"Indique que le cong\xE9 a \xE9t\xE9 "),e(47,"code",18),i(48,"consult\xE9"),t()()(),e(49,"button",15)(50,"mat-icon",20),i(51,"check_circle"),t(),e(52,"span"),i(53,"Indique une "),e(54,"code",18),i(55,"nouvelle demande"),t(),i(56," de cong\xE9 "),t()()()()(),e(57,"div",21)(58,"div",4)(59,"div",22)(60,"div",23)(61,"table",24)(62,"thead")(63,"tr")(64,"th",25),i(65,"R\xE9f"),t(),e(66,"th",25),i(67,"Motif"),t(),e(68,"th",25),i(69,"Fonction"),t(),e(70,"th",25),i(71,"Service"),t(),e(72,"th",25),i(73,"Etat"),t(),e(74,"th",25),i(75,"Statut"),t(),e(76,"th",25),i(77,"Date de publication"),t(),e(78,"th",25),i(79,"Actions"),t()()(),e(80,"tbody"),z(81,si,41,15,"tr",null,q),D(83,"paginate"),t()()(),e(84,"div",26)(85,"pagination-controls",27),b("pageChange",function(s){return u(c),_(n.p=s)}),t()()()()()()()()()(),e(86,"ngx-spinner",28)(87,"p",29),i(88," Chargement en cours... "),t()()}if(a&2){let c=P(19);r(13),T(" ",n.customer_conge_counter," "),r(2),p("matMenuTriggerFor",c),r(66),G(I(83,3,n.list_customer_conges,ce(6,oi,n.p))),r(5),p("fullScreen",!0)}},dependencies:[V,L,fe,_e,ge,j,he,Z,ve,Pe,B,N,re,R,J,ae,Fe,ke]});let l=m;return l})();function mi(l,m){if(l&1&&(e(0,"span",18),i(1),D(2,"transformDate"),t()),l&2){let d=y();r(),T(" ",I(2,1,d.permission_data.date_permission,"dd MM yyyy")," ")}}function di(l,m){if(l&1&&(e(0,"span",18),i(1),D(2,"transformDate"),t()),l&2){let d=y();r(),T(" ",I(2,1,d.permission_data.permission_start,"dd MM yyyy")," ")}}function ci(l,m){if(l&1&&(e(0,"span",17)(1,"span",38),i(2),t(),S(3,"br"),i(4),t()),l&2){let d=y();r(2),T(" ",d.permission_data.duree_permission," "),r(2),Ae(" de ",d.permission_data.permission_start," \xE0 ",d.permission_data.permission_end," ")}}function pi(l,m){if(l&1&&(e(0,"span",17)(1,"span",38),i(2),t(),S(3,"br"),i(4),D(5,"date"),D(6,"date"),t()),l&2){let d=y();r(2),T(" ",d.permission_data.duree_permission," "),r(2),Ae(" du ",I(5,3,d.permission_data.permission_start,"d MMMM yyyy")," au ",I(6,6,d.permission_data.permission_end,"d MMMM yyyy")," ")}}function ui(l,m){l&1&&(e(0,"span",26),i(1,"Non justifi\xE9 "),t())}function _i(l,m){l&1&&(e(0,"span",26),i(1,"Justifi\xE9 "),t())}function fi(l,m){l&1&&(e(0,"button",32)(1,"mat-icon"),i(2,"verified"),t(),i(3," Permission approuv\xE9e "),t())}function gi(l,m){l&1&&(e(0,"button",33)(1,"mat-icon"),i(2,"verified"),t(),i(3," Permission r\xE9jet\xE9e "),t())}function hi(l,m){l&1&&(e(0,"button",33)(1,"mat-icon"),i(2,"no_accounts"),t(),i(3," Accune action "),t())}function vi(l,m){if(l&1&&(e(0,"div",34)(1,"mat-icon",39),i(2,"notifications"),t(),i(3),t()),l&2){let d=y();r(3),T(" ",d.permission_data.comments," ")}}function yi(l,m){l&1&&(e(0,"button",32)(1,"mat-icon"),i(2,"verified"),t(),i(3," Permission approuv\xE9e "),t())}function Si(l,m){l&1&&(e(0,"button",33)(1,"mat-icon"),i(2,"verified"),t(),i(3," Permission r\xE9jet\xE9e "),t())}function Ci(l,m){l&1&&(e(0,"button",33)(1,"mat-icon"),i(2,"no_accounts"),t(),i(3," Accune action "),t())}var Vt=(()=>{let m=class m{constructor(o,a){this.data=o,this._dialogRef=a,Ye(Ke)}ngOnInit(){this.data!=null&&(this.permission_data=this.data)}};m.\u0275fac=function(a){return new(a||m)(g(ee),g($))},m.\u0275cmp=F({type:m,selectors:[["app-customer-detail-permissions"]],standalone:!0,features:[Ge([{provide:Je,useValue:"fr-FR"}]),k],decls:99,vars:22,consts:[["mat-dialog-content","",2,"max-height","95vh"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","align-items-center","mb-4"],[1,"col-xl-2","col-sm-3","col-12"],["src","assets/media/logoai.png","width","100","alt","",1,"img-fluid"],[1,"col-xl-10","col-sm-9","col-12"],[1,"text-end","m-0","fw-bolder"],[1,"fw-bolder","fs-5"],[1,"row","gx-3"],[1,"col-sm-12","col-12"],[1,"text-center","mb-3"],[1,"fw-bolder","text-uppercase"],[1,"d-flex","justify-content-end","my-4"],[1,"m-0"],[1,"fw-bolder"],[1,"fw-bolder","text-red","text-uppercase"],[1,"row","gx-3","mb-2"],[1,"col-sm-12","col-12","mb-3"],[1,"col-12"],[1,"table-responsive","mb-3"],[1,"table","table-bordered"],[1,"text-center","text-uppercase"],[1,"text-center"],[1,"text-center","text-red","fw-bolder"],[1,"text-uppercase","mb-4"],[1,"fw-bolder","mb-4"],[1,"d-flex","justify-content-between"],[1,"m-0","text-start"],[1,"fw-bolder","text-start"],["mat-fab","","extended","","color","primary"],["mat-fab","","extended","","color","warn"],["role","alert",1,"alert","alert-light","alert-dismissible","fade","show"],[1,"m-0","text-end"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-fab","","extended","","color","primary","mat-dialog-close",""],[1,"fw-bolder","text-red"],[1,"text-danger","alert-icon"]],template:function(a,n){a&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),i(4),t()(),e(5,"div",4)(6,"div",5)(7,"div",6),S(8,"img",7),t(),e(9,"div",8)(10,"p",9)(11,"span",10),i(12,"Alerte "),S(13,"br"),i(14," Info "),t()()()(),e(15,"div",11)(16,"div",12)(17,"div",13)(18,"h1",14),i(19," demande de permission "),t()(),e(20,"div",15)(21,"div")(22,"p",16)(23,"span",17),i(24,"Date de la demande,"),t(),S(25,"br"),M(26,mi,3,4,"span",18)(27,di,3,4,"span",18),t()()()()(),e(28,"div",19)(29,"div",20)(30,"p",16)(31,"span",17),i(32,"Dur\xE9e de la permission,"),t(),S(33,"br"),M(34,ci,5,3,"span",17)(35,pi,7,9,"span",17),t()()(),e(36,"div",11)(37,"div",21)(38,"div",22)(39,"table",23)(40,"thead")(41,"tr")(42,"th")(43,"span",24),i(44,"Nom & Pr\xE9nom"),t()(),e(45,"th")(46,"span",24),i(47,"Fonction"),t()(),e(48,"th")(49,"span",24),i(50,"Service"),t()(),e(51,"th")(52,"span",24),i(53,"Justificatif"),t()()()(),e(54,"tbody")(55,"tr")(56,"td")(57,"span",25),i(58),t()(),e(59,"td")(60,"span",25),i(61),t()(),e(62,"td")(63,"span",25),i(64),t()(),e(65,"td"),M(66,ui,2,0,"span",26)(67,_i,2,0,"span",26),t()()()()(),e(68,"p",27),i(69,"Motif de la permission: "),t(),e(70,"p",28),i(71),t(),S(72,"br"),e(73,"div",29)(74,"div")(75,"p",30)(76,"span",31),i(77,"Approbation"),t(),S(78,"br"),M(79,fi,4,0,"button",32)(80,gi,4,0,"button",33)(81,hi,4,0,"button",33),t(),M(82,vi,4,1,"div",34),t(),e(83,"div")(84,"p",35)(85,"span",17),i(86,"Faire \xE0 Abidjan le,"),t(),S(87,"br"),e(88,"span",18),i(89),D(90,"date"),t()()()()()()()()(),e(91,"div",36)(92,"button",37)(93,"mat-icon"),i(94,"reply"),t(),i(95," Fermer "),t(),M(96,yi,4,0,"button",32)(97,Si,4,0,"button",33)(98,Ci,4,0,"button",33),t()),a&2&&(r(4),T("R\xE9f permission - #",n.permission_data.permission_ref,""),r(22),h(26,n.permission_data.type_duration=="hour"?26:-1),r(),h(27,n.permission_data.type_duration=="date"?27:-1),r(7),h(34,n.permission_data.type_duration=="hour"?34:-1),r(),h(35,n.permission_data.type_duration=="date"?35:-1),r(23),v(n.permission_data.first_name+" "+n.permission_data.last_name),r(3),v(n.permission_data.fonction),r(3),v(n.permission_data.service),r(2),h(66,n.permission_data.justificatif==null?66:-1),r(),h(67,n.permission_data.justificatif!=null?67:-1),r(4),v(n.permission_data.motif),r(8),h(79,n.permission_data.status_on==1?79:-1),r(),h(80,n.permission_data.status_off==1?80:-1),r(),h(81,n.permission_data.status_on==0&&n.permission_data.status_off==0?81:-1),r(),h(82,n.permission_data.status_on==1||n.permission_data.status_off==1?82:-1),r(7),v(I(90,19,n.permission_data.created_at,"d MMMM yyyy, \xE0 HH:mm")),r(7),h(96,n.permission_data.status_on==1?96:-1),r(),h(97,n.permission_data.status_off==1?97:-1),r(),h(98,n.permission_data.status_on==0&&n.permission_data.status_off==0?98:-1))},dependencies:[V,pe,L,j,K,ie,oe,ne,B,N,re,R]});let l=m;return l})();function Ei(l,m){if(l&1&&(e(0,"mat-option",21),i(1),t()),l&2){let d=m.$implicit;p("value",d.employee_matricule),r(),T(" ","Departement: "+d.service," ")}}function xi(l,m){if(l&1){let d=w();e(0,"div",29)(1,"mat-form-field",19)(2,"mat-label"),i(3,"Date de la permission"),t(),e(4,"input",39),x("ngModelChange",function(a){u(d);let n=y();return E(n.date_permission,a)||(n.date_permission=a),_(a)}),t(),S(5,"mat-datepicker-toggle",40)(6,"mat-datepicker",null,0),t()()}if(l&2){let d=P(7),o=y();r(4),C("ngModel",o.date_permission),p("matDatepicker",d),r(),p("for",d)}}function bi(l,m){if(l&1){let d=w();e(0,"div",30)(1,"mat-form-field",19)(2,"span",41),i(3," Heure d\xE9but "),t(),e(4,"input",42),x("ngModelChange",function(a){u(d);let n=y();return E(n.hour_start,a)||(n.hour_start=a),_(a)}),t(),S(5,"ngx-mat-timepicker",null,1),e(7,"mat-icon",43),b("click",function(){u(d);let a=P(6);return _(a.open())}),i(8," watch_later "),t()()()}if(l&2){let d=P(6),o=y();r(4),p("ngxMatTimepicker",d),C("ngModel",o.hour_start),p("format",24)}}function Mi(l,m){if(l&1){let d=w();e(0,"div",30)(1,"mat-form-field",19)(2,"span",41),i(3," Heure fin "),t(),e(4,"input",42),x("ngModelChange",function(a){u(d);let n=y();return E(n.hour_end,a)||(n.hour_end=a),_(a)}),t(),S(5,"ngx-mat-timepicker",null,2),e(7,"mat-icon",43),b("click",function(){u(d);let a=P(6);return _(a.open())}),i(8," watch_later "),t()()()}if(l&2){let d=P(6),o=y();r(4),p("ngxMatTimepicker",d),C("ngModel",o.hour_end),p("format",24)}}function wi(l,m){if(l&1){let d=w();e(0,"div",31)(1,"mat-form-field",19)(2,"mat-label"),i(3,"Date d\xE9but de la permission"),t(),e(4,"input",39),x("ngModelChange",function(a){u(d);let n=y();return E(n.date_start,a)||(n.date_start=a),_(a)}),t(),S(5,"mat-datepicker-toggle",40)(6,"mat-datepicker",null,3),t()()}if(l&2){let d=P(7),o=y();r(4),C("ngModel",o.date_start),p("matDatepicker",d),r(),p("for",d)}}function Ti(l,m){if(l&1){let d=w();e(0,"div",31)(1,"mat-form-field",19)(2,"mat-label"),i(3,"Date fin de la permission"),t(),e(4,"input",44),x("ngModelChange",function(a){u(d);let n=y();return E(n.date_end,a)||(n.date_end=a),_(a)}),t(),S(5,"mat-datepicker-toggle",40)(6,"mat-datepicker",null,4),t()()}if(l&2){let d=P(7),o=y();r(4),C("ngModel",o.date_end),p("matDatepicker",d),r(),p("for",d)}}function Di(l,m){if(l&1){let d=w();e(0,"div",32)(1,"h1",24),i(2,"Joindre une pi\xE8ce justificative"),t(),e(3,"mat-radio-group",25),b("change",function(a){u(d);let n=y();return _(n.radioChange(a))}),e(4,"mat-radio-button",45),i(5,"OUI"),t(),e(6,"mat-radio-button",46),i(7,"NON"),t()()()}}function Ii(l,m){if(l&1){let d=w();e(0,"div",33)(1,"div",32)(2,"label",47),i(3,"Joindre une pi\xE8ce "),e(4,"code"),i(5,"*"),t()(),e(6,"input",48),b("change",function(a){u(d);let n=y();return _(n.uploadFile(a))}),t()()()}}function Pi(l,m){if(l&1){let d=w();e(0,"button",49),b("click",function(){u(d);let a=y();return _(a.updatePermission())}),e(1,"mat-icon"),i(2,"save"),t(),i(3," Sauvegarder la modification "),t()}}var Bt=(()=>{let m=class m{constructor(o,a,n,c,f,s,W,X){this._notificationService=o,this._traitement=a,this._router=n,this._loading=c,this._permission=f,this._activatedRoute=s,this.data=W,this._dialogRef=X,this.user_name="",this.user_fonction="",this.user_service="",this.employe_matricule="",this.motif="",this.old_assignment_file="",this.is_choose="",this.responsable="",this.old_date="",this.selectedDureeOption="",this.duration_is_hour=!1,this.list_responsable=[],this.date_permission=new Date,this.duration_is_date=!1,this.old_date_stard=new Date,this.date_end=new Date,this.permission_ref="",this.type_duration="",this.fonction="",this.service="",this.permission_start="",this.permission_end="",this.duree_permission="",this.items_slug=""}ngOnInit(){this._loading.show_loading(),this.data!=null&&(this.items_slug=this.data),setTimeout(()=>{this.getCurrentPermissionInfo(),this.getAllResponsable(),this._loading.hide_loading()},1e3)}getAllResponsable(){this._traitement.getAllResponsable().subscribe({next:o=>{setTimeout(()=>{this.list_responsable=o},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}PermissionDurationChange(o){let a=o.value;a=="hour"?(this.duration_is_hour=!0,this.duration_is_date=!1,this.type_duration=a):a=="date"?(this.duration_is_date=!0,this.duration_is_hour=!1,this.type_duration=a):(this.duration_is_date=!1,this.duration_is_hour=!1)}checkedPermissionDurationChange(o){o=="hour"?(this.duration_is_hour=!0,this.duration_is_date=!1,this.type_duration=this.type_duration):o=="date"?(this.duration_is_date=!0,this.duration_is_hour=!1,this.type_duration=this.type_duration):(this.duration_is_date=!1,this.duration_is_hour=!1)}getCurrentPermissionInfo(){this._permission.editDemandePermission(this.items_slug).subscribe({next:o=>{this.motif=o.motif,this.date_permission=new Date(o.date_permission),this.old_assignment_file=o.permission_file,this.employe_matricule=o.employe_matricule,this.selectedResponsableOption=o.destinataire,this.permission_ref=o.permission_ref,this.fonction=o.fonction,this.service=o.service,this.duree_permission=o.duree_permission,this.motif=o.motif,this.type_duration=o.type_duration,this.type_duration=="hour"&&(this.hour_start=o.permission_start,this.hour_end=o.permission_end),this.type_duration=="date"&&(this.date_start=new Date(o.permission_start),this.date_end=new Date(o.permission_end)),this.checkedPermissionDurationChange(this.type_duration)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updatePermission(){this._loading.show_loading();let o=this.calculateDifferenceBetweenTwoHours(this.hour_start,this.hour_end),a=this.calculateDifferenceBetweenDates(this.date_start,this.date_end),n=new FormData;n.append("employe_matricule",this.employe_matricule),n.append("destinataire",this.responsable==""?this.selectedResponsableOption:this.responsable),n.append("type_duration",this.type_duration),n.append("date_permission",this.formatDate(this.date_permission).toString()),o==null?n.append("duree_permission",a):n.append("duree_permission",o),o==null?(n.append("permission_end",this.formatDate(this.date_end).toString()),n.append("permission_start",this.formatDate(this.date_start).toString())):a==null&&(n.append("permission_end",this.hour_end),n.append("permission_start",this.hour_start)),n.append("motif",this.motif),n.append("permission_file",this.assigment_file==null?"":this.assigment_file),this._permission.updateDemandePermission(this.items_slug,n).subscribe({next:c=>{console.log(c),c.code==200?(this._notificationService.openSnackBarSuccess(c),setTimeout(()=>{this._loading.hide_loading(),this._dialogRef.close(!0)},2e3)):(c.code==300||c.code==500||c.code==302)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(c))},error:c=>{c.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}uploadFile(o){this.assigment_file=o.target.files[0]}radioChange(o){this.is_choose=o.value}onChange_dead_line_assigment(o){this.dead_line_assigment=o.value}onChangeDestinataire(o){this.responsable=o.value}formatDate(o){let a=o.toLocaleString("default",{year:"numeric"}),n=o.toLocaleString("default",{month:"2-digit"}),c=o.toLocaleString("default",{day:"2-digit"});return a+"-"+n+"-"+c}changeFile(){this.old_assignment_file=null}calculateDifferenceBetweenTwoHours(o,a){if(o!=null&&a!=null){let[n,c]=o.split(":").map(Number),[f,s]=a.split(":").map(Number),W=f*60+s-(n*60+c),X=Math.floor(W/60),Ue=W%60;return X+"h"+(Ue==0?"00":Ue)}else return}calculateDifferenceBetweenDates(o,a){if(o!=null&&a!=null)return Math.abs(a.getTime()-o.getTime())/(1e3*3600*24)+"Jour(s)"}};m.\u0275fac=function(a){return new(a||m)(g(U),g(O),g(A),g(H),g(Be),g(at),g(ee),g($))},m.\u0275cmp=F({type:m,selectors:[["app-full-edit-permissions-forms"]],standalone:!0,features:[k],decls:51,vars:13,consts:[["Date_permission",""],["pickerStart",""],["pickerEnd",""],["Date_start",""],["Date_end",""],["mat-dialog-content","",2,"max-height","95vh"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","gx-3","justify-content-center","mb-3"],[1,"col-12"],[1,"col-lg-12","mb-3"],["appearance","outline",1,"example-full-width"],["rows","3","matInput","","placeholder","Ex. Le motif de la permission...",3,"ngModelChange","ngModel"],[1,"col-lg-12"],["appearance","outline"],[3,"valueChange","selectionChange","value"],[1,"fw-bolder",3,"value"],[1,"row","gx-3","mb-3"],[1,"col-lg-12","col-md-12","text-center","mb-2"],[1,"text-center","mb-3"],["aria-label","Select an option",3,"change"],["value","hour",3,"checked"],["value","date",3,"checked"],[1,"row","justify-content-center"],[1,"col-lg-3","col-md-6"],[1,"col-lg-3"],[1,"col-lg-4","col-md-6"],[1,"col-lg-12","col-md-12","text-center"],[1,"row","gx-3","mb-4"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-fab","","extended","","color","primary","mat-dialog-close",""],["mat-fab","","extended","","color","primary"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["matInput","","placeholder","00/00/0000",3,"ngModelChange","ngModel","matDatepicker"],["matIconSuffix","",3,"for"],["matPrefix","",1,"mx-2"],["matInput","","placeholder","00:00",3,"ngModelChange","ngxMatTimepicker","ngModel","format"],["matSuffix","",3,"click"],["matInput","",3,"ngModelChange","ngModel","matDatepicker"],["value","OUI"],["value","NON"],["for","formFileLg",1,"form-label"],["id","formFileLg","type","file",1,"form-control","form-control-lg",3,"change"],["mat-fab","","extended","","color","primary",3,"click"]],template:function(a,n){a&1&&(e(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11),i(7,"Modification de permission"),t()(),e(8,"div",12)(9,"div",13)(10,"div",14)(11,"h1"),i(12,"Formulaire de demande de permission"),t()(),e(13,"div",15)(14,"mat-form-field",16)(15,"mat-label"),i(16,"Le motif de la permission"),t(),e(17,"textarea",17),x("ngModelChange",function(f){return E(n.motif,f)||(n.motif=f),f}),t()()(),e(18,"div",18)(19,"mat-form-field",19)(20,"mat-label"),i(21,"Destinataire"),t(),e(22,"mat-select",20),x("valueChange",function(f){return E(n.selectedResponsableOption,f)||(n.selectedResponsableOption=f),f}),b("selectionChange",function(f){return n.onChangeDestinataire(f)}),z(23,Ei,2,2,"mat-option",21,q),t()()(),e(25,"div",22)(26,"div",23)(27,"h1",24),i(28,"Dur\xE9e de la permission"),t(),e(29,"mat-radio-group",25),b("change",function(f){return n.PermissionDurationChange(f)}),e(30,"mat-radio-button",26),i(31,"En heure"),t(),e(32,"mat-radio-button",27),i(33,"En jours"),t()()(),e(34,"div",28),M(35,xi,8,3,"div",29)(36,bi,9,3,"div",30)(37,Mi,9,3,"div",30)(38,wi,8,3,"div",31)(39,Ti,8,3,"div",31),t(),M(40,Di,8,0,"div",32),t(),M(41,Ii,7,0,"div",33),t()()()()()()(),e(42,"div",34)(43,"button",35)(44,"mat-icon"),i(45,"reply"),t(),i(46," Fermer "),t(),M(47,Pi,4,0,"button",36),t(),e(48,"ngx-spinner",37)(49,"p",38),i(50," Chargement en cours... "),t()()),a&2&&(r(17),C("ngModel",n.motif),r(5),C("value",n.selectedResponsableOption),r(),G(n.list_responsable),r(7),p("checked",n.type_duration=="hour"),r(2),p("checked",n.type_duration=="date"),r(3),h(35,n.duration_is_hour==!0?35:-1),r(),h(36,n.duration_is_hour==!0?36:-1),r(),h(37,n.duration_is_hour==!0?37:-1),r(),h(38,n.duration_is_date==!0?38:-1),r(),h(39,n.duration_is_date==!0?39:-1),r(),h(40,n.duration_is_hour==!0||n.duration_is_date==!0?40:-1),r(),h(41,n.is_choose=="OUI"?41:-1),r(6),h(47,n.duration_is_hour==!0||n.duration_is_date==!0?47:-1),r(),p("fullScreen",!0))},dependencies:[V,L,j,K,be,Ee,st,xe,Me,ue,ie,oe,ne,we,Te,De,Ie,mt,dt,B,N,ye,Se,Ce,R,J,_t,pt,ut]});let l=m;return l})();var Fi=l=>({itemsPerPage:20,currentPage:l});function ki(l,m){l&1&&(e(0,"button",39)(1,"mat-icon",16),i(2,"verified"),t()())}function Vi(l,m){l&1&&(e(0,"button",40)(1,"mat-icon",19),i(2,"verified"),t()())}function Bi(l,m){l&1&&(e(0,"button",41)(1,"mat-icon",20),i(2,"verified"),t()())}function ji(l,m){if(l&1){let d=w();e(0,"tr")(1,"td"),i(2),t(),e(3,"td",31),i(4),t(),e(5,"td",25)(6,"p"),i(7),t()(),e(8,"td",25)(9,"p"),i(10),t()(),e(11,"td",25)(12,"button",32)(13,"mat-icon"),i(14,"check_circle"),t()()(),e(15,"td",25),M(16,ki,3,0,"button",33)(17,Vi,3,0,"button",34)(18,Bi,3,0,"button",35),t(),e(19,"td",36)(20,"p"),i(21),D(22,"date"),t()(),e(23,"td",36)(24,"button",37)(25,"mat-icon"),i(26,"more_vert"),t()(),e(27,"mat-menu",14,1)(29,"button",38),b("click",function(){let a=u(d).$implicit,n=y();return _(n.consultePermission(a))}),e(30,"mat-icon"),i(31,"visibility"),t(),i(32," Consulter "),t(),e(33,"button",38),b("click",function(){let a=u(d).$implicit,n=y();return _(n.updateCustomerPermission(a.slug))}),e(34,"mat-icon"),i(35,"border_color"),t(),i(36," Modifier "),t(),e(37,"button",38),b("click",function(){let a=u(d).$implicit,n=y();return _(n.deletePermission(a.slug))}),e(38,"mat-icon"),i(39,"delete"),t(),i(40," Supprimer "),t()()()()}if(l&2){let d=m.$implicit,o=P(28);r(2),v(d.id),r(2),T(" ",d.motif," "),r(3),v(d.fonction),r(3),v(d.service),r(2),p("matTooltip",d.responsable_new_actions==1?"Consulter":"Nouveau"),r(),ze(d.responsable_new_actions==1?"text-primary":"text-warning"),r(3),p("ngIf",d.status_on==1),r(),p("ngIf",d.status_off==1),r(),p("ngIf",d.status_on==0&&d.status_off==0),r(3),v(I(22,12,d.created_at,"d MMMM yyyy, \xE0 HH:mm")),r(3),p("matMenuTriggerFor",o)}}var jt=(()=>{let m=class m{constructor(o,a,n,c,f,s,W){this._notificationService=o,this._traitement=a,this._router=n,this._loading=c,this._userData=f,this._permission=s,this._dialog=W,this.list_permissions=[],this.list_customer_permissions=[],this.permission_counter=0,this.customer_permission_counter=0,this.employe_matricule="",this.p=1}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getCustomerPermissions()}getCustomerPermissions(){this._loading.show_loading(),this._permission.getCustomerPermission(this.employe_matricule).subscribe({next:o=>{setTimeout(()=>{this.list_customer_permissions=o,this.customer_permission_counter=this.list_customer_permissions.length,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}consultePermission(o){this._dialog.open(Vt,{panelClass:"fullscreen-dialog",data:o}).afterClosed().subscribe({next:n=>{}})}updateCustomerPermission(o){this._dialog.open(Bt,{panelClass:"fullscreen-dialog",data:o}).afterClosed().subscribe({next:n=>{n&&this.getCustomerPermissions()}})}deletePermission(o){this._dialog.open(se,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this._permission.deleteDemandePermission(o).subscribe({next:c=>{c.code==200?(this._notificationService.openSnackBarSuccess(c),this.getCustomerPermissions()):c.code==404&&this._notificationService.openSnackBarError(c)},error:c=>{c.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}})}};m.\u0275fac=function(a){return new(a||m)(g(U),g(O),g(A),g(H),g(Q),g(Be),g(te))},m.\u0275cmp=F({type:m,selectors:[["app-customer-list-permissions"]],standalone:!0,features:[k],decls:88,vars:9,consts:[["guideInfo","matMenu"],["beforeMenu","matMenu"],[1,"hero-body"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title","fw-bolder","fs-5"],["mat-button","",1,"default__btn__lg"],[1,"example-tab-icon","text-dark"],[1,"fw-bolder","text-dark","fs-5"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],["mat-mini-fab","",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item",""],[1,"text-primary"],[1,""],[1,"fw-bolder"],[1,"text-red"],[1,"text-warning"],[1,"card-body"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"table-responsive","mt-4"],[1,"table","table-striped","m-0"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["width","400",1,"text-center",2,"white-space","unset !important"],["mat-icon-button","",3,"matTooltip"],["matTooltip","Approuv\xE9e","mat-icon-button","",4,"ngIf"],["matTooltip","R\xE9jet\xE9e","mat-icon-button","",4,"ngIf"],["matTooltip","Aucune action","mat-icon-button","",4,"ngIf"],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["matTooltip","Approuv\xE9e","mat-icon-button",""],["matTooltip","R\xE9jet\xE9e","mat-icon-button",""],["matTooltip","Aucune action","mat-icon-button",""]],template:function(a,n){if(a&1){let c=w();e(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"button",9)(8,"mat-icon",10),i(9,"view_list"),t(),e(10,"span",11),i(11,"Mes permissions"),t()(),e(12,"button",12),i(13),t()(),e(14,"div")(15,"button",13)(16,"mat-icon"),i(17,"info"),t()(),e(18,"mat-menu",14,0)(20,"button",15)(21,"mat-icon",16),i(22,"verified"),t(),e(23,"span",17),i(24,"Indique qu'une permission a \xE9t\xE9"),e(25,"code",18),i(26,"valid\xE9e"),t()()(),e(27,"button",15)(28,"mat-icon",19),i(29,"verified"),t(),e(30,"span"),i(31,"Indique qu'une permission a \xE9t\xE9 "),e(32,"code",18),i(33," rejet\xE9e "),t()()(),e(34,"button",15)(35,"mat-icon",20),i(36,"verified"),t(),e(37,"span"),i(38,"Indique "),e(39,"code",18),i(40," Aucune action "),t(),i(41," sur la permission "),t()(),e(42,"button",15)(43,"mat-icon",16),i(44,"check_circle"),t(),e(45,"span"),i(46,"Indique que la permission a \xE9t\xE9 "),e(47,"code",18),i(48,"consult\xE9e"),t()()(),e(49,"button",15)(50,"mat-icon",20),i(51,"check_circle"),t(),e(52,"span"),i(53,"Indique une "),e(54,"code",18),i(55,"nouvelle demande"),t(),i(56," de permission "),t()()()()(),e(57,"div",21)(58,"div",4)(59,"div",22)(60,"div",23)(61,"table",24)(62,"thead")(63,"tr")(64,"th",25),i(65,"#ID"),t(),e(66,"th",25),i(67,"Motif"),t(),e(68,"th",25),i(69,"Fonction"),t(),e(70,"th",25),i(71,"Service"),t(),e(72,"th",25),i(73,"Etat"),t(),e(74,"th",25),i(75,"Statut"),t(),e(76,"th",25),i(77,"Date de publication"),t(),e(78,"th",25),i(79,"Actions"),t()()(),e(80,"tbody"),M(81,ji,41,15,"tr",26),D(82,"paginate"),t()()(),e(83,"div",27)(84,"pagination-controls",28),b("pageChange",function(s){return u(c),_(n.p=s)}),t()()()()()()()()()(),e(85,"ngx-spinner",29)(86,"p",30),i(87," Chargement en cours... "),t()()}if(a&2){let c=P(19);r(13),T(" ",n.customer_permission_counter," "),r(2),p("matMenuTriggerFor",c),r(66),p("ngForOf",I(82,4,n.list_customer_permissions,ce(7,Fi,n.p))),r(4),p("fullScreen",!0)}},dependencies:[V,it,nt,pe,L,fe,_e,ge,j,he,Z,ve,Pe,B,N,R,J,ae,Fe,ke]});let l=m;return l})();var Li=l=>({itemsPerPage:10,currentPage:l});function Wi(l,m){if(l&1){let d=w();e(0,"div",5),S(1,"img",12),e(2,"p",13),i(3,"Aucun dossier n'est disponible pour vous. "),e(4,"button",14),b("click",function(){u(d);let a=y();return _(a.openDossiersDialog())}),i(5,"Cr\xE9er mon dossier"),t()()()}}function Ni(l,m){l&1&&(e(0,"div",5)(1,"div",9)(2,"div",15)(3,"div",16)(4,"button",17)(5,"mat-icon"),i(6,"notifications"),t(),i(7," A votre attention! "),t()()(),e(8,"div",18)(9,"p",19),i(10," Liste des documents \xE0 fornir "),S(11,"br"),t(),e(12,"div",20)(13,"div",21)(14,"ul",22)(15,"li",23),i(16," Dipl\xF4mes et certificat(s) de formation "),t(),e(17,"li",23),i(18," 1 Photocopie de votre pi\xE8ce d\u2019identit\xE9 "),t(),e(19,"li",23),i(20," 1 Extrait du casier judiciaire "),t(),e(21,"li",23),i(22," 1 Certificat de r\xE9sidence "),t()()(),e(23,"div",21)(24,"ul",22)(25,"li",23),i(26," 1 Extrait d\u2019acte de mariage "),t(),e(27,"li",23),i(28," 1 Photocopie de l\u2019extrait d\u2019acte de naissance du conjoint et de chaque enfant "),t(),e(29,"li",23),i(30," 2 Photos d\u2019identit\xE9 du conjoint et de chaque enfant "),t()()(),e(31,"div",21)(32,"ul",22)(33,"li",23),i(34," 1 Certificat de travail "),t(),e(35,"li",23),i(36," 1 Curriculum Vitae "),t(),e(37,"li",23),i(38," 1 Relev\xE9 d\u2019Identit\xE9 Bancaire (RIB) "),t()()()()()()())}function Ri(l,m){if(l&1){let d=w();e(0,"div",5),S(1,"img",32),e(2,"p",13),i(3,"Votre dossier est vide. "),e(4,"button",14),b("click",function(){u(d);let a=y(2);return _(a.openDossiersFeleDialog())}),i(5,"Ajouter mon document"),t()()()}}function Ai(l,m){l&1&&(e(0,"button",41)(1,"mat-icon",49),i(2,"check_circle"),t()())}function Oi(l,m){l&1&&(e(0,"button",42)(1,"mat-icon",50),i(2,"check_circle"),t()())}function Ui(l,m){l&1&&(e(0,"button",43)(1,"mat-icon",51),i(2,"check_circle"),t()())}function Hi(l,m){if(l&1){let d=w();e(0,"tr")(1,"td",5),i(2),t(),e(3,"td",5)(4,"a",36)(5,"div",37)(6,"mat-icon",27),i(7,"description"),t(),e(8,"p",38),i(9),t()()()(),e(10,"td",5)(11,"p",39),i(12),t()(),e(13,"td",5)(14,"div",40)(15,"mat-icon",27),i(16,"folder"),t(),e(17,"p",38),i(18),t()()(),e(19,"td",5),M(20,Ai,3,0,"button",41)(21,Oi,3,0,"button",42)(22,Ui,3,0,"button",43),t(),e(23,"td",44),i(24),D(25,"transformDate"),t(),e(26,"td",44),i(27),D(28,"transformDate"),t(),e(29,"td",5)(30,"button",45)(31,"mat-icon"),i(32,"more_vert"),t()(),e(33,"mat-menu",46,0)(35,"a",47)(36,"mat-icon"),i(37,"visibility"),t(),i(38," Ouvrir "),t(),e(39,"button",48),b("click",function(){let a=u(d).$implicit,n=y(3);return _(n.updateDossiersFile(a))}),e(40,"mat-icon"),i(41,"border_color"),t(),i(42," Modifier "),t(),e(43,"button",48),b("click",function(){let a=u(d).$implicit,n=y(3);return _(n.openDeleFoldersFileDialog(a.slug))}),e(44,"mat-icon"),i(45,"delete"),t(),i(46," Supprimer "),t()()()()}if(l&2){let d=m.$implicit,o=m.$index,a=P(34);r(2),v(o+1),r(2),p("href",d.file_url,Re),r(5),v(d.libelle_file),r(3),T("",d.first_name+" "+d.last_name," "),r(6),v(d.libelle_dossiers),r(2),h(20,d.status_on==1?20:-1),r(),h(21,d.status_off==1?21:-1),r(),h(22,d.status_on==0&&d.status_off==0?22:-1),r(2),v(I(25,12,d.created_at," d MMMM YYYY ")),r(3),v(I(28,15,d.updated_at," d MMMM YYYY ")),r(3),p("matMenuTriggerFor",a),r(5),p("href",d.file_url,Re)}}function qi(l,m){if(l&1){let d=w();e(0,"div",31)(1,"table",33)(2,"thead")(3,"tr")(4,"th",5),i(5,"#Id"),t(),e(6,"th",5),i(7,"Nom du document"),t(),e(8,"th",5),i(9,"Propri\xE9taire"),t(),e(10,"th",5),i(11,"Emplacement"),t(),e(12,"th",5),i(13,"Statut"),t(),e(14,"th",5),i(15,"Date de cr\xE9ation"),t(),e(16,"th",5),i(17,"Date de modification"),t(),e(18,"th",5),i(19,"Actions"),t()()(),e(20,"tbody"),z(21,Hi,47,18,"tr",null,q),D(23,"paginate"),t()(),e(24,"div",34)(25,"pagination-controls",35),b("pageChange",function(a){u(d);let n=y(2);return _(n.p=a)}),t()()()}if(l&2){let d=y(2);r(21),G(I(23,0,d.folder_file,ce(3,Li,d.p)))}}function zi(l,m){if(l&1){let d=w();e(0,"div",9)(1,"div",24)(2,"div",25)(3,"div",26)(4,"mat-icon",27),i(5,"folder"),t(),e(6,"p",28),i(7),t(),e(8,"button",29),b("click",function(){u(d);let a=y();return _(a.updateDossiersDialog())}),e(9,"mat-icon"),i(10,"edit"),t()()()(),e(11,"button",30),b("click",function(){u(d);let a=y();return _(a.openDossiersFeleDialog())}),i(12," Nouveau document "),t()(),e(13,"div",18),M(14,Ri,6,0,"div",5)(15,qi,26,5,"div",31),t()()}if(l&2){let d=y();r(7),v(d.libelle_dossiers),r(7),h(14,d.folder_file.length==0?14:-1),r(),h(15,d.folder_file.length>0?15:-1)}}var Lt=(()=>{let m=class m{constructor(o,a,n,c,f,s){this._notificationService=o,this._traitement=a,this._router=n,this._loading=c,this._userData=f,this._dialog=s,this.libelle_dossiers="",this.folder_file=[],this.p=1,this.item_slug="",this.employe_matricule="",this.folder_employe_matricule=""}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getCustomerDossiersList()}openDossiersDialog(){this._dialog.open($e,{width:"auto"}).afterClosed().subscribe({next:a=>{a&&this.getCustomerDossiersList()}})}updateDossiersDialog(){let o={libelle_dossiers:this.libelle_dossiers,employe_matricule:this.employe_matricule,slug:this.item_slug};this._dialog.open($e,{width:"auto",data:o}).afterClosed().subscribe({next:n=>{n&&this.getCustomerDossiersList()}})}getCustomerDossiersList(){this._loading.show_loading(),this._traitement.getCustomerDossiers(this.employe_matricule).subscribe({next:o=>{o!=null?setTimeout(()=>{this.folder_employe_matricule=o.employe_matricule,this.libelle_dossiers=o.libelle_dossiers,this.dossiers_code=o.dossiers_code,this.item_slug=o.slug,this._loading.hide_loading(),this.getDossiersFileList(this.dossiers_code)},1e3):this._loading.hide_loading()},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(se,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this.deleteDossiers(o)}})}deleteDossiers(o){this._loading.show_loading(),this._traitement.deleteDossiers(o).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getCustomerDossiersList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDossiersFeleDialog(){let o={dossiers_code:this.dossiers_code};this._dialog.open(et,{width:"auto",data:o}).afterClosed().subscribe({next:n=>{n&&this.getCustomerDossiersList()}})}getDossiersFileList(o){this._loading.show_loading(),this._traitement.getCustomerFoldersFile(o).subscribe({next:a=>{setTimeout(()=>{this.folder_file=a,this._loading.hide_loading()},1e3)},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateDossiersFile(o){let a={dossiers_code:this.dossiers_code,items_data:o};this._dialog.open(et,{width:"auto",data:a}).afterClosed().subscribe({next:c=>{c&&this.getCustomerDossiersList()}})}openDeleFoldersFileDialog(o){this._dialog.open(se,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this.deleteDoldersFile(o)}})}deleteDoldersFile(o){this._loading.show_loading(),this._traitement.deleteDossiersFile(o).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getCustomerDossiersList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(g(U),g(O),g(A),g(H),g(Q),g(te))},m.\u0275cmp=F({type:m,selectors:[["app-customer-folders"]],standalone:!0,features:[k],decls:14,vars:4,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-xl-12","col-md-8","col-sm-9","col-10"],[1,"text-center"],[1,"hero-body"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["src","assets/media/folder.svg","width","300","alt","logo oipi",1,"img-fluid","mb-2"],[1,"mb-4","fw-bolder","fs-5","text-primary"],["mat-raised-button","",3,"click"],[1,"card-header"],[1,"card-title","text-yellow"],["mat-button","",1,"text-red","fw-bolder","fs-5"],[1,"card-body"],[1,"mb-2","fw-bolder"],[1,"row"],[1,"col-4"],[1,"list-group","list-group-numbered","text-start"],[1,"list-group-item"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title","fw-bolder","fs-5"],[1,"d-flex","align-items-center"],[1,"me-3","text-primary"],[1,"m-0","me-2","fw-bolder","fs-6"],["mat-mini-fab","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"table-responsive"],["src","assets/media/file.svg","width","300","alt","logo oipi",1,"img-fluid","mb-2"],[1,"table","table-striped","mt-3","align-middle"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["target","_blank",3,"href"],[1,"d-flex","text-start"],[1,"m-0","fw-bolder","fs-6"],[1,"m-b-0","fw-bolder","fs-6"],[1,"d-flex","justify-content-center"],["matTooltip","Approuv\xE9","mat-icon-button",""],["matTooltip","Rejet\xE9","mat-icon-button",""],["matTooltip","Aucune action","mat-icon-button",""],[1,"text-center","fw-bolder","fs-6","text-primary"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["target","_blank","mat-menu-item","",3,"href"],["mat-menu-item","",3,"click"],[1,"text-primary"],[1,"text-red"],[1,"text-danger"]],template:function(a,n){a&1&&(e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),M(4,Wi,6,0,"div",5)(5,Ni,39,0,"div",5),t()()()(),e(6,"div",6)(7,"div",2)(8,"div",7)(9,"div",8),M(10,zi,16,3,"div",9),t()()()(),e(11,"ngx-spinner",10)(12,"p",11),i(13," Chargement en cours... "),t()()),a&2&&(r(4),h(4,n.folder_employe_matricule==""?4:-1),r(),h(5,n.folder_employe_matricule!=""?5:-1),r(5),h(10,n.folder_employe_matricule!=""?10:-1),r(),p("fullScreen",!0))},dependencies:[V,L,fe,_e,ge,j,he,Z,ve,Pe,B,N,re,R,J,ae,Fe,ke]});let l=m;return l})();var Wt=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=F({type:m,selectors:[["app-customer-evaluations"]],standalone:!0,features:[k],decls:2,vars:0,template:function(a,n){a&1&&(e(0,"p"),i(1,"customer-evaluations works!"),t())}});let l=m;return l})();var Gi=[{path:"employees",component:vt,data:{title:"Espace employees"}},{path:"employees.profil",component:wt,data:{title:"Mon profil"}},{path:"employees.demande",component:ft,data:{title:"Faire une demande"}},{path:"employees.conges",component:kt,data:{title:"Liste des conges"}},{path:"employees.permissions",component:jt,data:{title:"Liste permissions"}},{path:"employees.dossiers-employes",component:Lt,data:{title:"Mes des dossiers"}},{path:"employees.evaluations",component:Wt,data:{title:"Liste des \xE9valuations"}}],Nt=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275mod=qe({type:m}),m.\u0275inj=He({imports:[B.forChild(Gi),B]});let l=m;return l})();var qo=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275mod=qe({type:m}),m.\u0275inj=He({imports:[V,Nt]});let l=m;return l})();export{qo as EmployeesLayoutModule};
