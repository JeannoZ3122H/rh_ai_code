import{a as Ft,b as Vt,c as _t,d as Lt}from"./chunk-KDNMVFFO.js";import{a as jt,b as xt,c as Et}from"./chunk-LPCCEWVC.js";import{a as me,b as de,c as U,d as G,e as z,f as H,g as ee,h as ce,i as ft,j as Ke,k as ht,l as gt,m as Xe}from"./chunk-45FSDZZ2.js";import{a as Pe}from"./chunk-OWUE2ZMH.js";import{Aa as he,Ba as mt,Ca as dt,D as ae,Da as ct,E as re,Ea as pt,F as le,G as N,Ga as ut,I as ie,Ia as Qe,J as kt,Ja as Ze,L as Re,La as A,M as se,N as fe,Pa as $,Qa as R,U as q,V as J,W as Q,X as It,Z as lt,_ as O,ca as Z,da as st,ea as Pt,fa as Ee,ga as K,ia as Te,k as Ae,ka as Oe,la as He,m as W,ma as Ue,n as xe,na as ze,oa as Ye,pa as ne,q as j,qa as Ge,ra as qe,sa as Je,ta as Bt,u as we,va as X,xa as De,ya as ke,za as Ie}from"./chunk-VAZIEAYM.js";import{$a as l,$b as y,Bb as V,Cb as L,Db as e,Eb as t,Fb as C,Jb as T,Mb as x,Ob as v,Tb as Mt,Ub as wt,Uc as rt,Vb as Tt,Wb as I,Xb as i,Xc as Me,Ya as oe,Yb as E,Zb as S,_b as tt,ab as g,ac as b,bc as M,da as nt,dc as B,ec as Dt,fc as Y,gc as vt,hc as D,ic as Ne,jc as k,na as P,oa as ot,rb as w,tb as u,ub as at,wa as _,wb as ye,xa as f,yb as h,zb as F}from"./chunk-YXL6XVMF.js";var si=["chart"];function mi(r,m){if(r&1&&(e(0,"div",10),C(1,"apx-chart",15),t()),r&2){let s=v();l(),u("series",s.chartOptions.series)("chart",s.chartOptions.chart)("xaxis",s.chartOptions.xaxis)("fill",s.chartOptions.fill)("colors",s.chartOptions.colors)}}var Wt=(()=>{let m=class m{constructor(o,a,n,c){this._traitement=o,this._notificationService=a,this._router=n,this._loading=c,this.capital_net=0,this.profit_on_current_sale=0,this.current_sale=0,this.employees=0,this.employees_men=0,this.employees_women=0,this.cumule_presence=0,this.cumule_absence=0,this.cumule_presence_chart=[],this.cumule_absence_chart=[]}ngOnInit(){this.getRhAttendanceStatistique(),this.getStatistiqueData()}globalStatistique(o,a,n){return this.chartOptions={chart:{height:300,type:"area",toolbar:{show:!0}},dataLabels:{enabled:!1},stroke:{curve:"stepline",width:3},series:[{name:"Pr\xE9sence",data:o},{name:"Absence",data:a}],fill:{opacity:[.85,.25,1],gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.85,opacityTo:.55,stops:[0,100,100,100]}},grid:{borderColor:"#e0e6ed",strokeDashArray:5,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:0,right:0,bottom:10,left:0}},xaxis:{categories:n},yaxis:{labels:{show:!1}},colors:["#1f7554","#ef9100"],markers:{size:0,opacity:.3,colors:["#ef9100","#f2a1a8"],strokeColor:"#ffffff",strokeWidth:2,hover:{size:7}}}}getStatistiqueData(){this._traitement.getRhStatistique().subscribe({next:o=>{this.employees=o.all_employee,this.employees_men=o.all_employee_men,this.employees_women=o.all_employee_women},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getRhAttendanceStatistique(){this._traitement.getRhAttendanceStatistique().subscribe({next:o=>{console.log(o),this.globalStatistique(o.cumule_presence,o.cumule_absence,o.month)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(g($),g(R),g(W),g(H))},m.\u0275cmp=P({type:m,selectors:[["app-ch-welcome"]],viewQuery:function(a,n){if(a&1&&Mt(si,5),a&2){let c;wt(c=Tt())&&(n.chart=c.first)}},standalone:!0,features:[B],decls:40,vars:10,consts:[[1,"hero-header"],[1,"container-fluid"],[1,"hero-body"],[1,"row","gx-3"],[1,"col-sm-4","col-6"],[1,"d-flex","flex-column","p-4","rounded-2","box-bdr-blue","stats-tile"],[1,"mb-3","fw-bolder","fs-5","d-flex","justify-content-between"],[1,"progress","medium"],["role","progressbar","aria-valuenow","60","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","shade-blue"],[1,"m-0","mt-2","fs-5","fw-bolder"],[1,"d-flex","flex-column","p-4","rounded-2","box-bdr-yellow","stats-tile"],["role","progressbar","aria-valuenow","60","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","shade-yellow"],[1,"d-flex","flex-column","p-4","rounded-2","box-bdr-green","stats-tile"],["role","progressbar","aria-valuenow","60","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","shade-green"],[1,"col-sm-12","col-6"],[3,"series","chart","xaxis","fill","colors"]],template:function(a,n){a&1&&(e(0,"div",0),C(1,"div",1),t(),e(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6)(7,"span"),i(8),t(),e(9,"mat-icon"),i(10,"group"),t()(),e(11,"div",7),C(12,"div",8),t(),e(13,"p",9),i(14,"Total employ\xE9"),t()()(),e(15,"div",4)(16,"div",10)(17,"h4",6)(18,"span"),i(19),t(),e(20,"mat-icon"),i(21,"group"),t()(),e(22,"div",7),C(23,"div",11),t(),e(24,"p",9),i(25,"Hommes"),t()()(),e(26,"div",4)(27,"div",12)(28,"h4",6)(29,"span"),i(30),t(),e(31,"mat-icon"),i(32,"group"),t()(),e(33,"div",7),C(34,"div",13),t(),e(35,"p",9),i(36,"Femmes"),t()()()(),e(37,"div",3)(38,"div",14),w(39,mi,2,5,"div",10),t()()()),a&2&&(l(8),E(n.employees),l(4),at("width",n.employees+"%"),l(7),E(n.employees_men),l(4),at("width",n.employees_men+"%"),l(7),E(n.employees_women),l(4),at("width",n.employees_women+"%"),l(5),h(39,n.chartOptions?39:-1))},dependencies:[U,Vt,Ft,A,N,z]});let r=m;return r})();var di=r=>({itemsPerPage:20,currentPage:r}),ci=r=>["/ch.detail.employes",r];function pi(r,m){if(r&1&&(e(0,"mat-option",18),i(1),t()),r&2){let s=m.$implicit;u("value",s.id),l(),E(s.service)}}function ui(r,m){r&1&&(e(0,"button",33)(1,"mat-icon",41),i(2,"check_circle"),t()())}function _i(r,m){r&1&&(e(0,"button",34)(1,"mat-icon",42),i(2,"check_circle"),t()())}function fi(r,m){r&1&&(e(0,"button",35)(1,"mat-icon",41),i(2,"verified"),t()())}function hi(r,m){r&1&&(e(0,"button",36)(1,"mat-icon",43),i(2,"pending"),t()())}function gi(r,m){if(r&1){let s=T();e(0,"tr")(1,"td"),i(2),t(),e(3,"td")(4,"div",26)(5,"a",27),C(6,"img",28),t(),e(7,"div")(8,"p",29),i(9),t(),e(10,"p",30),i(11),t()()()(),e(12,"td",31)(13,"p",32),i(14),t()(),e(15,"td",21)(16,"p",32),i(17),D(18,"transformText"),t()(),e(19,"td",21)(20,"p",32),i(21),D(22,"transformText"),t()(),e(23,"td",21),w(24,ui,3,0,"button",33)(25,_i,3,0,"button",34),t(),e(26,"td",21),w(27,fi,3,0,"button",35)(28,hi,3,0,"button",36),t(),e(29,"td",21)(30,"p",32),i(31),D(32,"transformDate"),t()(),e(33,"td",37)(34,"button",38)(35,"mat-icon"),i(36,"more_vert"),t()(),e(37,"mat-menu",39,0)(39,"button",40),x("click",function(){let a=_(s).$implicit,n=v();return f(n.showEmploye(a.slug))}),e(40,"mat-icon"),i(41,"visibility"),t(),i(42," Consulter "),t(),e(43,"button",40),x("click",function(){let a=_(s).$implicit,n=v();return f(n.deleteEmploye(a.slug))}),e(44,"mat-icon"),i(45,"delete"),t(),i(46," Supprimer "),t()()()()}if(r&2){let s=m.$implicit,o=m.$index,a=I(38);l(2),E(o+1),l(3),u("routerLink",Y(21,ci,s.slug)),l(),u("src",s.photo,oe),l(3),S(" ",s.first_name+" "+s.last_name," "),l(2),S(" ",s.adresse_email," "),l(3),S(" ",s.matricule," "),l(3),E(Ne(18,14,s.fonction)),l(4),E(Ne(22,16,s.service)),l(3),h(24,s.account_created==1?24:-1),l(),h(25,s.account_created==0?25:-1),l(2),h(27,s.status_dossiers==1?27:-1),l(),h(28,s.status_dossiers==0?28:-1),l(3),E(k(32,18,s.created_at,"d MMMM yyyy, \xE0 HH:mm")),l(3),u("matMenuTriggerFor",a)}}function vi(r,m){r&1&&(e(0,"tr")(1,"td",44)(2,"h1",21),i(3,"Aucune donn\xE9es pour le moment"),t()()())}var Nt=(()=>{let m=class m{constructor(o,a,n,c,p){this._dialog=o,this._traitement=a,this._notificationService=n,this._loading=c,this._router=p,this.list_employes=[],this.list_service=[],this.p=1,this.status_list=[{id:1,status:"Responsable de service",abrev:"RS"},{id:2,status:"Agent de service",abrev:"AS"}],this.status=""}ngOnInit(){this._loading.show_loading(),setTimeout(()=>{this.getEmployeesList(),this.getServiceList(),this._loading.hide_loading()},1e3)}searchInTable(){this._loading.show_loading(),this._traitement.filterByQuery(this.search).subscribe({next:o=>{setTimeout(()=>{this.list_employes=o,this._loading.hide_loading()},500)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getServiceList(){this._traitement.getService().subscribe({next:o=>{setTimeout(()=>{this.list_service=o},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}selectService(o){this.service=o.value,this._loading.show_loading(),this._traitement.filterByService(this.service).subscribe({next:a=>{setTimeout(()=>{this.list_employes=a,this._loading.hide_loading()},500)},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getEmployeesList(){this._traitement.getEmployes().subscribe({next:o=>{setTimeout(()=>{this.list_employes=o},700)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openEmployeAccountDialog(o){this._dialog.open(Lt,{width:"auto",data:o}).afterClosed().subscribe({next:n=>{this.getEmployeesList()}})}openDeleDialog(o){this._dialog.open(ce,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this.deleteEmploye(o)}})}deleteEmploye(o){this._loading.show_loading(),this._traitement.deleteEmployes(o).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getEmployeesList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}showEmploye(o){this._router.navigate(["/ch.detail.employes",o])}};m.\u0275fac=function(a){return new(a||m)(g(ne),g($),g(R),g(H),g(W))},m.\u0275cmp=P({type:m,selectors:[["app-ch-employees-list"]],standalone:!0,features:[B],decls:64,vars:8,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"card-header"],["mat-button","",1,"text-uppercase","text-white","default__btn__lg"],[1,"card-body"],[1,"row","justtify-content-between","mb-3"],[1,"col-lg-6","col-md-6","col-sm-12"],["matInput","","placeholder","Rechercher par matricule, nom ou pr\xE9nom",3,"ngModelChange","ngModel"],["mat-mini-fab","","color","primary","matSuffix","",3,"click"],[3,"selectionChange"],["value","all",1,"text-uppercase"],[3,"value"],[1,"table-responsive"],[1,"table","table-striped","m-0"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"d-flex","align-items-center"],[3,"routerLink"],["alt","Employe photo",1,"img-2x","rounded-5","me-3",3,"src"],[1,"m-0","fw-600","text-primary"],[1,"m-0","fw-600","text-red"],[1,"text-center",2,"white-space","unset !important"],[1,"fw-600"],["matTooltip","Compte actif","mat-icon-button",""],["matTooltip","Compte inactif","mat-icon-button",""],["matTooltip","Dossier valid\xE9","mat-icon-button",""],["matTooltip","En entente de validation de dossier","mat-icon-button",""],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"],[1,"text-primary"],[1,"text-red"],[1,"text-blue"],["colspan","10",1,"text-center"]],template:function(a,n){a&1&&(e(0,"div",1)(1,"div",2)(2,"div",3),C(3,"div",4),t()()(),e(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9)(9,"button",10)(10,"mat-icon"),i(11,"list"),t(),i(12," Liste des employ\xE9s "),t()(),e(13,"div",11)(14,"div",12)(15,"div",13)(16,"mat-form-field")(17,"mat-label"),i(18,"Rechercher par matricule, nom ou pr\xE9nom"),t(),e(19,"input",14),M("ngModelChange",function(p){return b(n.search,p)||(n.search=p),p}),t(),e(20,"button",15),x("click",function(){return n.searchInTable()}),e(21,"mat-icon"),i(22,"search"),t()()()(),e(23,"div",13)(24,"mat-form-field")(25,"mat-label"),i(26,"Rechercher par service"),t(),e(27,"mat-select",16),x("selectionChange",function(p){return n.selectService(p)}),e(28,"mat-option",17),i(29,"Tous les services"),t(),V(30,pi,2,2,"mat-option",18,F),t()()()(),e(32,"div",19)(33,"table",20)(34,"thead")(35,"tr")(36,"th",21),i(37,"#ID"),t(),e(38,"th",21),i(39,"Employ\xE9"),t(),e(40,"th",21),i(41,"Matricule"),t(),e(42,"th",21),i(43,"Fonction"),t(),e(44,"th",21),i(45,"Service"),t(),e(46,"th",21),i(47,"Statut compte"),t(),e(48,"th",21),i(49,"Statut dossier"),t(),e(50,"th",21),i(51,"Date de cr\xE9ation"),t(),e(52,"th",21),i(53,"Actions"),t()()(),e(54,"tbody"),V(55,gi,47,23,"tr",null,F),D(57,"paginate"),w(58,vi,4,0,"tr"),t()(),e(59,"div",22)(60,"pagination-controls",23),x("pageChange",function(p){return n.p=p}),t()()()()()()()(),e(61,"ngx-spinner",24)(62,"p",25),i(63," Chargement en cours... "),t()()),a&2&&(l(19),y("ngModel",n.search),l(11),L(n.list_service),l(25),L(k(57,3,n.list_employes,Y(6,di,n.p))),l(3),h(58,n.list_employes.length==0?58:-1),l(3),u("fullScreen",!0))},dependencies:[z,G,A,re,ae,le,N,ie,fe,se,K,Z,Ee,Te,we,X,he,U,me,de,O,q,J,Q,ee,_t,j,xe]});let r=m;return r})();function Ei(r,m){if(r&1&&(e(0,"mat-option",30),i(1),t()),r&2){let s=m.$implicit;u("value",s.matricule),l(),S(" ",s.first_name+" "+s.last_name+" ("+s.matricule+")"," ")}}function Si(r,m){if(r&1){let s=T();e(0,"div",36)(1,"mat-form-field",27)(2,"mat-label"),i(3,"Heure total "),t(),e(4,"input",42),M("ngModelChange",function(a){_(s);let n=v();return b(n.total_hour,a)||(n.total_hour=a),f(a)}),t()()()}if(r&2){let s=v();l(4),y("ngModel",s.total_hour)}}function Ci(r,m){if(r&1){let s=T();e(0,"div",31)(1,"mat-form-field",27)(2,"mat-label"),i(3,"Heure suppl\xE9mentaire "),t(),e(4,"input",43),M("ngModelChange",function(a){_(s);let n=v();return b(n.overtime,a)||(n.overtime=a),f(a)}),t()()()}if(r&2){let s=v();l(4),y("ngModel",s.overtime)}}function yi(r,m){if(r&1){let s=T();e(0,"div",37)(1,"div",31)(2,"button",44),x("click",function(){_(s);let a=v();return f(a.saveAttendance())}),e(3,"mat-icon"),i(4,"save"),t(),i(5," Enregistrer "),t()()()}}function bi(r,m){r&1&&(e(0,"span",50),i(1," Absent "),t())}function Mi(r,m){r&1&&(e(0,"span",51),i(1," Pr\xE9sent "),t())}function wi(r,m){if(r&1&&(e(0,"tr")(1,"td",7),i(2),t(),e(3,"td",7)(4,"div",45),C(5,"img",46),e(6,"div")(7,"p",47),i(8),t()()()(),e(9,"td",7)(10,"p",48),i(11),D(12,"transformDate"),t()(),e(13,"td",7)(14,"p",48),i(15),t()(),e(16,"td",7)(17,"p",48),i(18),t()(),e(19,"td",7)(20,"p",48),i(21),t()(),e(22,"td",7)(23,"p",49),i(24),t()(),e(25,"td",7)(26,"p",48),i(27),t()(),e(28,"td",7),w(29,bi,2,0,"span",50)(30,Mi,2,0,"span",51),t()()),r&2){let s=m.$implicit,o=m.$index;l(2),E(o+1),l(3),u("src",s.photo,oe),l(3),S(" ",s.first_name+" "+s.last_name," "),l(3),S("",k(12,11,s.date_started," d MMMM YYYY ")," "),l(4),S("",s.start_time," "),l(3),S("",s.break_time," "),l(3),S("",s.end_time," "),l(3),S("",s.total_hour_of_work," "),l(3),S("",s.overtime," "),l(2),h(29,s.start_time=="00:00:00"&&s.end_time=="00:00:00"?29:-1),l(),h(30,s.start_time!="00:00:00"&&s.end_time!="00:00:00"?30:-1)}}function Ti(r,m){r&1&&(e(0,"tr")(1,"td",52)(2,"h1",7),i(3,"Aucune pr\xE9sence pour le moment"),t()()())}var At=(()=>{let m=class m{constructor(o,a,n,c){this._traitement=o,this._notificationService=a,this._loadings=n,this._router=c,this.heure_initiale="00:00",this.heure_tolerance="00:00",this.heure_sortie="00:00",this.break_time="00:00",this.heure_entre="00:00",this.heure_tolerable="00:00",this.heure_out="00:00",this.hour_slug="",this.hour_start="00:00",this.hour_end="00:00",this.total_hour="00:00",this.overtime="00:00",this.date_start=new Date,this.employe_matricule="",this.list_employe=[],this.check_total_hour_or_overtime=!1,this.list_current_pointage=[]}ngOnInit(){this._loadings.show_loading(),setTimeout(()=>{this.getEmployesList(),this.getCurrentPointageList(),this.getPointageConfigData(),this._loadings.hide_loading()},1e3)}formatTimeToHoursMinutes(o){let[a,n]=o.split(":");return a+":"+n}getPointageConfigData(){this._traitement.getPointageConfig().subscribe({next:o=>{o!=null&&(this.heure_entre=this.formatTimeToHoursMinutes(o.initial_hour),this.heure_tolerable=this.formatTimeToHoursMinutes(o.tolerable_hour),this.heure_out=this.formatTimeToHoursMinutes(o.out_hour),this.break_time=this.formatTimeToHoursMinutes(o.break_time),this.heure_initiale=this.formatTimeToHoursMinutes(o.initial_hour),this.heure_sortie=this.formatTimeToHoursMinutes(o.out_hour),this.heure_tolerance=this.formatTimeToHoursMinutes(o.tolerable_hour),this.total_hour_of_work=this.formatTimeToHoursMinutes(o.total_hour_of_work))},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}onChangeEmployes(o){this.employe_matricule=o.value}getEmployesList(){this._traitement.getEmployes().subscribe({next:o=>{console.log(o),setTimeout(()=>{this.list_employe=o},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"),window.location.reload())}})}calculateDifferenceBetweenTwoHours(o,a){if(o!=null&&a!=null){let[n,c]=o.split(":").map(Number),[p,d]=a.split(":").map(Number),Ce=p*60+d-(n*60+c),We=Math.floor(Ce/60),je=Ce%60;return We>=0&&je>=0?(We>=10?We:"0"+We)+":"+(je>=10?je:"0"+je):"00:00"}else return}checkEndTime(o){if(o!="00:00"){let a=this.calculateDifferenceBetweenTwoHours(this.hour_start,this.hour_end),n=this.calculateDifferenceBetweenTwoHours(this.break_time,a);this.overtime=this.calculateDifferenceBetweenTwoHours(this.total_hour_of_work,n),this.total_hour=n,this.check_total_hour_or_overtime=!0}else this.check_total_hour_or_overtime=!1}getCurrentPointageList(){this._traitement.getCurrentPointage().subscribe({next:o=>{setTimeout(()=>{this.list_current_pointage=o},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"),window.location.reload())}})}saveAttendance(){if(this.employe_matricule==""){this._notificationService.openSnackBarSimpleError("Aucun employ\xE9 selectionn\xE9.");return}if(this.break_time=="00:00"){this._notificationService.openSnackBarSimpleError("L'heure de pause d\xE9jeuner est obligatoire");return}let o={date_started:this.date_start,employe_matricule:this.employe_matricule,start_time:this.hour_start,end_time:this.hour_end,break_time:this.break_time,total_hour_of_work:this.total_hour,heure_tolerable:this.heure_tolerable,overtime:this.overtime};this._loadings.show_loading(),this._traitement.savePointage(o).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loadings.hide_loading(),this.getCurrentPointageList(),this.initInput()},1e3):(a.code==302||a.code==300)&&(this._loadings.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}initInput(){this.hour_start="00:00",this.hour_end="00:00",this.total_hour="00:00",this.overtime="00:00",this.check_total_hour_or_overtime=!1}};m.\u0275fac=function(a){return new(a||m)(g($),g(R),g(H),g(W))},m.\u0275cmp=P({type:m,selectors:[["app-register-attendance"]],standalone:!0,features:[B],decls:126,vars:19,consts:[["Date_start",""],["pickerStart",""],["pickerEndTime",""],[1,"hero-header","mb-3"],[1,"container-fluid"],[1,"row","justify-content-center","mt-5","mr-5"],[1,"col-xl-12","col-md-12","col-sm-12","col-12"],[1,"text-center"],[1,"card"],[1,"card-header","d-flex","justify-content-between","mb-2"],[1,"card-title","text-yellow"],["mat-button","",1,"text-red","fw-bolder","fs-5"],[1,"card-body"],[1,"row","mb-3","justify-content-center"],[1,"col-2"],[1,"mb-3","fs-5","text-center","fw-bolder"],[1,"fs-4","text-danger"],[1,"mb-3","fs-5","fw-bolder"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"row"],[1,"col-12"],["role","alert",1,"alert","alert-light","alert-dismissible","fade","show","fw-bolder"],[1,"alert-icon","me-3"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],[1,"row","justify-content-center"],[1,"col-lg-3"],["appearance","outline"],[1,"fw-bolder"],[3,"selectionChange"],[3,"value"],[1,"col-lg-2"],["matInput","","placeholder","00/00/0000",3,"ngModelChange","ngModel","matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","placeholder","00:00",3,"ngModelChange","ngxMatTimepicker","ngModel","format"],["matSuffix","",3,"click"],[1,"col-lg-1"],[1,"row","justify-content-center","mb-4"],[1,"table-responsive"],[1,"table","table-striped","mt-3"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["type","time","readonly","","matInput","","placeholder","Heure total",3,"ngModelChange","ngModel"],["type","time","readonly","","matInput","","placeholder","Heure suppl\xE9mentaire",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary",1,"fw-bolder",3,"click"],[1,"d-flex","align-items-center"],["alt","Employe photo",1,"img-2x","rounded-5","me-3",3,"src"],[1,"m-0","fw-600","text-primary","fw-bolder"],[1,"m-b-0","fw-bolder"],[1,"m-b-0","text-red","fw-bolder"],[1,"badge","rounded-pill","shade-light-red","fw-bolder","fs-6"],[1,"badge","rounded-pill","shade-light-green","fw-bolder","fs-6"],["colspan","9",1,"text-center"]],template:function(a,n){if(a&1){let c=T();e(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"button",11)(9,"mat-icon"),i(10,"settings"),t(),i(11," Horaires de travail "),t()()(),e(12,"div",12)(13,"div",13)(14,"div",14)(15,"p",15),i(16," Heure d'entr\xE9e normale: "),e(17,"span",16),i(18),t()()(),e(19,"div",14)(20,"p",15),i(21," Heure d'entr\xE9e tol\xE9rable: "),e(22,"span",16),i(23),t()()(),e(24,"div",14)(25,"p",17),i(26," Heure de descente: "),e(27,"span",16),i(28),t()()(),e(29,"div",14)(30,"p",17),i(31," Heure pause d\xE9jeuner: "),e(32,"span",16),i(33),t()()(),e(34,"div",14)(35,"p",17),i(36," Heure totale de travail: "),e(37,"span",16),i(38),t()()()()()()()()()()(),e(39,"div",18)(40,"div",4)(41,"div",19)(42,"div",6)(43,"div",8)(44,"div",9)(45,"div",10)(46,"button",11)(47,"mat-icon"),i(48,"calendar_month"),t(),i(49," Aujourd'hui "),t()()(),e(50,"div",12)(51,"div",20)(52,"div",21)(53,"div",22)(54,"mat-icon",23),i(55,"notifications"),t(),i(56," \xC0 votre attention ! Si l'employ\xE9 est absent, pri\xE8re de laisser les heures vides. "),C(57,"button",24),t()()(),e(58,"div",25)(59,"div",26)(60,"mat-form-field",27)(61,"mat-label",28),i(62,"Choisissez un employ\xE9"),t(),e(63,"mat-select",29),x("selectionChange",function(d){return _(c),f(n.onChangeEmployes(d))}),V(64,Ei,2,2,"mat-option",30,F),t()()(),e(66,"div",31)(67,"mat-form-field",27)(68,"mat-label",28),i(69,"Aujourd'hui"),t(),e(70,"input",32),M("ngModelChange",function(d){return _(c),b(n.date_start,d)||(n.date_start=d),f(d)}),t(),C(71,"mat-datepicker-toggle",33)(72,"mat-datepicker",null,0),t()(),e(74,"div",31)(75,"mat-form-field",27)(76,"mat-label",28),i(77,"Heure d'arriv\xE9e"),t(),e(78,"input",34),M("ngModelChange",function(d){return _(c),b(n.hour_start,d)||(n.hour_start=d),f(d)}),t(),C(79,"ngx-mat-timepicker",null,1),e(81,"mat-icon",35),x("click",function(){_(c);let d=I(80);return f(d.open())}),i(82," watch_later "),t()()(),e(83,"div",31)(84,"mat-form-field",27)(85,"mat-label",28),i(86,"Heure descente"),t(),e(87,"input",34),M("ngModelChange",function(d){return _(c),b(n.hour_end,d)||(n.hour_end=d),f(d)}),x("ngModelChange",function(d){return _(c),f(n.checkEndTime(d))}),t(),C(88,"ngx-mat-timepicker",null,2),e(90,"mat-icon",35),x("click",function(){_(c);let d=I(89);return f(d.open())}),i(91," watch_later "),t()()(),w(92,Si,5,1,"div",36)(93,Ci,5,1,"div",31),t(),w(94,yi,6,0,"div",37),e(95,"div",25)(96,"div",21)(97,"div",38)(98,"table",39)(99,"thead")(100,"tr")(101,"th",7),i(102,"#Id"),t(),e(103,"th",7),i(104,"Employ\xE9"),t(),e(105,"th",7),i(106,"Date du jour"),t(),e(107,"th",7),i(108,"Heure d'arriv\xE9e"),t(),e(109,"th",7),i(110,"Pause d\xE9jeuner"),t(),e(111,"th",7),i(112,"Heure de descente"),t(),e(113,"th",7),i(114,"Heure totale"),t(),e(115,"th",7),i(116,"Supplementaire"),t(),e(117,"th",7),i(118,"Statut"),t()()(),e(119,"tbody"),V(120,wi,31,14,"tr",null,F),w(122,Ti,4,0,"tr"),t()()()()()()()()()()(),e(123,"ngx-spinner",40)(124,"p",41),i(125," Chargement en cours... "),t()()}if(a&2){let c=I(73),p=I(80),d=I(89);l(18),E(n.heure_entre),l(5),E(n.heure_tolerable),l(5),E(n.heure_out),l(5),E(n.break_time),l(5),E(n.total_hour_of_work),l(26),L(n.list_employe),l(6),y("ngModel",n.date_start),u("matDatepicker",c),l(),u("for",c),l(7),u("ngxMatTimepicker",p),y("ngModel",n.hour_start),u("format",24),l(9),u("ngxMatTimepicker",d),y("ngModel",n.hour_end),u("format",24),l(5),h(92,n.check_total_hour_or_overtime==!0?92:-1),l(),h(93,n.check_total_hour_or_overtime==!0?93:-1),l(),h(94,n.check_total_hour_or_overtime==!0?94:-1),l(26),L(n.list_current_pointage),l(2),h(122,n.list_current_pointage.length==0?122:-1),l(),u("fullScreen",!0)}},dependencies:[z,G,A,N,ie,K,Z,Ee,Te,we,X,De,ke,Ie,U,Xe,ht,gt,O,q,J,Q,ee,j]});let r=m;return r})();var Di=()=>["/ch.create-pointing"],ki=r=>({itemsPerPage:10,currentPage:r});function Ii(r,m){if(r&1&&(e(0,"mat-option",17),i(1),t()),r&2){let s=m.$implicit;u("value",s.matricule),l(),S(" ",s.first_name+" "+s.last_name+" ("+s.matricule+")"," ")}}function Pi(r,m){r&1&&(e(0,"span",44),i(1," Absent "),t())}function Bi(r,m){r&1&&(e(0,"span",45),i(1," Pr\xE9sent "),t())}function Fi(r,m){if(r&1){let s=T();e(0,"tr")(1,"td",32),i(2),t(),e(3,"td",32)(4,"div",37),C(5,"img",38),e(6,"div")(7,"p",39),i(8),t(),e(9,"p",39),i(10),t()()()(),e(11,"td",32)(12,"div",37)(13,"mat-icon",40),i(14,"calendar_month"),t(),e(15,"div")(16,"p",41),i(17),D(18,"transformDate"),t()()()(),e(19,"td",32)(20,"div",37)(21,"mat-icon"),i(22,"timer"),t(),e(23,"p"),i(24),t()()(),e(25,"td",32)(26,"p",42),i(27),t()(),e(28,"td",32)(29,"div",37)(30,"mat-icon",40),i(31,"timer"),t(),e(32,"p",41),i(33),t()()(),e(34,"td",32)(35,"p",43),i(36),t()(),e(37,"td",32)(38,"p",42),i(39),t()(),e(40,"td",32),w(41,Pi,2,0,"span",44)(42,Bi,2,0,"span",45),t(),e(43,"td",32)(44,"button",7)(45,"mat-icon"),i(46,"more_vert"),t()(),e(47,"mat-menu",8,0)(49,"button",46),x("click",function(){let a=_(s).$implicit,n=v();return f(n.openDeleDialog(a.slug))}),e(50,"mat-icon"),i(51,"delete"),t(),i(52," Supprimer "),t()()()()}if(r&2){let s=m.$implicit,o=m.$index,a=I(48);l(2),E(o+1),l(3),u("src",s.photo,oe),l(3),S(" ",s.first_name+" "+s.last_name," "),l(2),S(" ",s.employe_matricule," "),l(7),S(" ",k(18,17,s.date_started," d MMMM YYYY ")," "),l(4),ye(s.start_time>s.tolerable_hour?"me-2 text-red":"me-2"),l(2),ye(s.start_time>s.tolerable_hour?"m-0 fw-bolder text-red":"m-0 fw-bolder"),l(),S(" ",s.start_time," "),l(3),S("",s.break_time," "),l(6),S(" ",s.end_time," "),l(3),S("",s.total_hour_of_work," "),l(3),S("",s.overtime," "),l(2),h(41,s.start_time=="00:00:00"&&s.end_time=="00:00:00"?41:-1),l(),h(42,s.start_time!="00:00:00"&&s.end_time!="00:00:00"?42:-1),l(2),u("matMenuTriggerFor",a)}}function Vi(r,m){r&1&&(e(0,"tr")(1,"td",47)(2,"h1",32),i(3,"Aucune pr\xE9sence pour le moment"),t()()())}var Rt=(()=>{let m=class m{constructor(o,a,n,c,p){this._dialog=o,this._traitement=a,this._notificationService=n,this._loading=c,this._router=p,this.list_pointage=[],this.list_employe=[],this.employe_matricule="",this.p=1}ngOnInit(){this.getPointageList(),this.getEmployesList()}searchInAttendance(){}getEmployesList(){this._traitement.getEmployes().subscribe({next:o=>{setTimeout(()=>{this.list_employe=o},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}onChangeEmployes(o){this.employe_matricule=o.value}getPointageList(){this._loading.show_loading(),this._traitement.getPointage().subscribe({next:o=>{setTimeout(()=>{this.list_pointage=o,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(ce,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this.deletePointage(o)}})}deletePointage(o){this._loading.show_loading(),this._traitement.destroyPointage(o).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getPointageList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(g(ne),g($),g(R),g(H),g(W))},m.\u0275cmp=P({type:m,selectors:[["app-ch-employees-attendance-list"]],standalone:!0,features:[B],decls:99,vars:16,consts:[["beforeMenu","matMenu"],["Date_start",""],["Date_end",""],[1,"hero-header"],[1,"container-fluid"],[1,"d-flex","justify-content-between"],[1,"fw-bolder","fs-5"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item",""],[1,"row"],[1,"col-lg-3"],["appearance","outline"],[1,"fw-bolder"],["matInput","","placeholder","00/00/0000",3,"ngModelChange","ngModel","matDatepicker"],["matIconSuffix","",3,"for"],[3,"selectionChange"],[3,"value"],["mat-raised-button","","color","primary",1,"fw-bolder","default__btn__lg","w-100",3,"click"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between","mb-2"],[1,"card-title","text-yellow"],["mat-button","",1,"text-red","fw-bolder","fs-5"],["mat-raised-button","",1,"text-red","fw-bolder",3,"routerLink"],[1,"card-body"],[1,"row","justify-content-center"],[1,"col-12"],[1,"table-responsive"],[1,"table","table-striped","mt-3"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"d-flex","align-items-center"],["alt","Employe photo",1,"img-2x","rounded-5","me-3",3,"src"],[1,"m-0","fw-600","text-primary","fw-bolder"],[1,"me-2"],[1,"m-0","fw-bolder"],[1,"m-b-0","fw-bolder"],[1,"m-b-0","text-primary","fw-bolder"],[1,"badge","rounded-pill","shade-light-red","fw-bolder","fs-6"],[1,"badge","rounded-pill","shade-light-green","fw-bolder","fs-6"],["mat-menu-item","",3,"click"],["colspan","10",1,"text-center"]],template:function(a,n){if(a&1){let c=T();e(0,"div",3)(1,"div",4)(2,"div",5)(3,"p",6),i(4,"Effectuer une recherche dans la liste"),t(),e(5,"button",7)(6,"mat-icon"),i(7,"print"),t()(),e(8,"mat-menu",8,0)(10,"button",9)(11,"mat-icon"),i(12,"border_color"),t(),i(13," PDF "),t(),e(14,"button",9)(15,"mat-icon"),i(16,"delete"),t(),i(17," CSV "),t()()(),C(18,"hr"),e(19,"div",10)(20,"div",11)(21,"mat-form-field",12)(22,"mat-label",13),i(23,"Date d\xE9but"),t(),e(24,"input",14),M("ngModelChange",function(d){return _(c),b(n.date_start,d)||(n.date_start=d),f(d)}),t(),C(25,"mat-datepicker-toggle",15)(26,"mat-datepicker",null,1),t()(),e(28,"div",11)(29,"mat-form-field",12)(30,"mat-label",13),i(31,"Date fin"),t(),e(32,"input",14),M("ngModelChange",function(d){return _(c),b(n.date_end,d)||(n.date_end=d),f(d)}),t(),C(33,"mat-datepicker-toggle",15)(34,"mat-datepicker",null,2),t()(),e(36,"div",11)(37,"mat-form-field",12)(38,"mat-label",13),i(39,"Choisissez un employ\xE9"),t(),e(40,"mat-select",16),x("selectionChange",function(d){return _(c),f(n.onChangeEmployes(d))}),V(41,Ii,2,2,"mat-option",17,F),t()()(),e(43,"div",11)(44,"button",18),x("click",function(){return _(c),f(n.searchInAttendance())}),e(45,"mat-icon"),i(46,"search"),t(),i(47," Rechercher "),t()()()()(),e(48,"div",19)(49,"div",20)(50,"div",21)(51,"div",22)(52,"div",23)(53,"div",24)(54,"button",25)(55,"mat-icon"),i(56,"list"),t(),i(57," Liste des pr\xE9sences "),t()(),e(58,"button",26)(59,"mat-icon"),i(60,"add"),t(),i(61," Nouveau pointage "),t()(),e(62,"div",27)(63,"div",28)(64,"div",29)(65,"div",30)(66,"table",31)(67,"thead")(68,"tr")(69,"th",32),i(70,"#Id"),t(),e(71,"th",32),i(72,"Employ\xE9"),t(),e(73,"th",32),i(74,"Date du jour"),t(),e(75,"th",32),i(76,"Heure d'arriv\xE9e"),t(),e(77,"th",32),i(78,"Pause d\xE9jeuner"),t(),e(79,"th",32),i(80,"Heure de descente"),t(),e(81,"th",32),i(82,"Heure totale"),t(),e(83,"th",32),i(84,"Supplementaire"),t(),e(85,"th",32),i(86,"Statut"),t(),e(87,"th",32),i(88,"Actions"),t()()(),e(89,"tbody"),V(90,Fi,53,20,"tr",null,F),D(92,"paginate"),w(93,Vi,4,0,"tr"),t()()()(),e(94,"div",33)(95,"pagination-controls",34),x("pageChange",function(d){return _(c),f(n.p=d)}),t()()()()()()()(),e(96,"ngx-spinner",35)(97,"p",36),i(98," Chargement en cours... "),t()()}if(a&2){let c=I(9),p=I(27),d=I(35);l(5),u("matMenuTriggerFor",c),l(19),y("ngModel",n.date_start),u("matDatepicker",p),l(),u("for",p),l(7),y("ngModel",n.date_end),u("matDatepicker",d),l(),u("for",d),l(8),L(n.list_employe),l(17),u("routerLink",Dt(13,Di)),l(32),L(k(92,10,n.list_pointage,Y(14,ki,n.p))),l(3),h(93,n.list_pointage.length==0?93:-1),l(3),u("fullScreen",!0)}},dependencies:[z,G,A,re,ae,le,N,ie,se,K,Z,Ee,Te,we,X,De,ke,Ie,U,me,de,O,q,J,Q,ee,j,xe]});let r=m;return r})();function Li(r,m){r&1&&(e(0,"mat-icon",56),i(1,"person"),t(),e(2,"span",57),i(3," Information personnelle "),t())}function ji(r,m){if(r&1&&(e(0,"mat-option",25),i(1),t()),r&2){let s=m.$implicit;u("value",s.genre),l(),S("",s.genre," ")}}function Wi(r,m){if(r&1&&(e(0,"mat-option",25),i(1),t()),r&2){let s=m.$implicit;u("value",s.situation_matrimoniale),l(),S(" ",s.situation_matrimoniale," ")}}function Ni(r,m){if(r&1&&(e(0,"mat-option",25),i(1),t()),r&2){let s=m.$implicit;u("value",s.piece),l(),S("",s.piece," ")}}function Ai(r,m){if(r&1){let s=T();e(0,"button",58),x("click",function(){_(s);let a=v();return f(a.edited())}),e(1,"mat-icon"),i(2,"edit_square"),t(),i(3," Editer "),t()}}function Ri(r,m){if(r&1){let s=T();e(0,"button",59),x("click",function(){_(s);let a=v();return f(a.cancel())}),e(1,"mat-icon"),i(2,"cancel"),t(),i(3," annuler "),t()}}function Oi(r,m){if(r&1){let s=T();e(0,"button",58),x("click",function(){_(s);let a=v();return f(a.updateEmployeInformationPersonnelle())}),e(1,"mat-icon"),i(2,"update"),t(),i(3," Modifier les informations "),t()}}function Hi(r,m){r&1&&(e(0,"mat-icon",56),i(1,"gavel"),t(),e(2,"span",57),i(3," Information professionnelle "),t())}function Ui(r,m){if(r&1&&(e(0,"mat-option",25),i(1),t()),r&2){let s=m.$implicit;u("value",s.id),l(),S("",s.contrats," ")}}function zi(r,m){if(r&1&&(e(0,"mat-option",25),i(1),t()),r&2){let s=m.$implicit;u("value",s.id),l(),S(" ",s.fonction," ")}}function Yi(r,m){if(r&1&&(e(0,"mat-option",25),i(1),t()),r&2){let s=m.$implicit;u("value",s.id),l(),S("",s.bureau," ")}}function Gi(r,m){if(r&1&&(e(0,"mat-option",25),i(1),t()),r&2){let s=m.$implicit;u("value",s.id),l(),S("",s.service," ")}}function qi(r,m){if(r&1&&(e(0,"mat-option",25),i(1),t()),r&2){let s=m.$implicit;u("value",s.id),l(),S("",s.categorie_pro," ")}}function Ji(r,m){if(r&1){let s=T();e(0,"button",58),x("click",function(){_(s);let a=v();return f(a.editedContrats())}),e(1,"mat-icon"),i(2,"edit_square"),t(),i(3," Editer "),t()}}function Qi(r,m){if(r&1){let s=T();e(0,"button",59),x("click",function(){_(s);let a=v();return f(a.cancelContrats())}),e(1,"mat-icon"),i(2,"cancel"),t(),i(3," annuler "),t()}}function Zi(r,m){if(r&1){let s=T();e(0,"button",58),x("click",function(){_(s);let a=v();return f(a.updateEmployeInformationContrats())}),e(1,"mat-icon"),i(2,"update"),t(),i(3," Modifier les informations "),t()}}function Ki(r,m){r&1&&(e(0,"mat-icon",56),i(1,"folder"),t(),e(2,"span",57),i(3," Dossier "),t())}function Xi(r,m){r&1&&(e(0,"div",53),C(1,"img",60),e(2,"p",61),i(3,"Aucun dossier n'est disponible pour vous. "),t()())}function $i(r,m){r&1&&(e(0,"button",70)(1,"mat-icon",71),i(2,"verified"),t()())}function en(r,m){r&1&&(e(0,"button",72)(1,"mat-icon",71),i(2,"verified"),t()())}function tn(r,m){r&1&&(e(0,"button",73)(1,"mat-icon",74),i(2,"pending"),t()())}function nn(r,m){if(r&1&&(e(0,"div",53)(1,"div",62)(2,"table",63)(3,"thead")(4,"tr")(5,"th",53),i(6,"Libell\xE9 du dossier"),t(),e(7,"th",53),i(8,"Date de cr\xE9ation"),t(),e(9,"th",53),i(10,"Statut"),t()()(),e(11,"tbody")(12,"tr")(13,"td",53)(14,"div",64)(15,"mat-icon",65),i(16,"folder"),t(),e(17,"p",66),i(18),t()()(),e(19,"td",53),i(20),D(21,"transformDate"),t(),e(22,"td",53),w(23,$i,3,0,"button",67)(24,en,3,0,"button",68)(25,tn,3,0,"button",69),t()()()()()()),r&2){let s=v();l(18),E(s.employee_dossier.libelle_dossiers),l(2),E(k(21,5,s.employee_dossier.created_at," d MMMM YYYY ")),l(3),u("ngIf",s.employee_dossier.status_folder_on==1),l(),u("ngIf",s.employee_dossier.status_folder_off==1),l(),u("ngIf",s.employee_dossier.status_folder_on==0&&s.employee_dossier.status_folder_off==0)}}var Ht=(()=>{let m=class m{constructor(o,a,n,c,p){this._traitement=o,this._notificationService=a,this._loadings=n,this._router=c,this._active_router=p,this.first_name="",this.last_name="",this.diplome="",this.matricule="",this.adresse_email="",this.telephone="",this.nombre_enfant_a_charge=0,this.nationalite="",this.date_naissance=new Date,this.lieu_naissance="",this.piece_number="",this.lieu_residence="",this.cnps_number="",this.personne_a_contacter="",this.contact_personne_a_contacter="",this.nombre_personne_a_charge="",this.personne_a_charge="",this.conjoint_name="",this.contact_conjoint="",this.antecedant_medicaux="",this.is_disabled=!0,this.is_disabled_contrats=!0,this.profession="",this.date_embauche=new Date,this.salaire_categoriel=0,this.salaire_net_mensuel=0,this.old_image="",this.img_update=!0,this.type_contrat="",this.fonction_employe="",this.statut="",this.garde_employe="",this.employe_bureau="",this.loading=!1,this.salaire_mensuel="",this.augmantation="",this.date_augmantation=new Date,this.date_embauche_end=new Date,this.commission="",this.avantage="",this.profesion="",this.list_fonction=[],this.list_service=[],this.list_genre=[{id:1,genre:"Homme"},{id:2,genre:"Femme"}],this.list_piece=[{id:1,piece:"Carte Nationale d'Identit\xE9"},{id:2,piece:"PassePort"}],this.list_situation_matrimoniale=[{id:1,situation_matrimoniale:"C\xE9libataire"},{id:2,situation_matrimoniale:"Mari\xE9(e)"},{id:3,situation_matrimoniale:"Veuf(ve)"},{id:3,situation_matrimoniale:"Divorc\xE9(e)"}],this.list_categorie_pro=[],this.list_contrats=[],this.list_bureau=[],this.phone="",this.first_step=!1,this.second_step=!1,this.fird_step=!1}ngOnInit(){this.getEmployeCurrentInfo(),this.getFonctionList(),this.getServiceList(),this.getBureauList(),this.getCategorieProList(),this.getContratsList()}selectPiece(o){this.piece=o.value}selectFonction(o){this.fonction=o.value}selectSituationMatrimoniale(o){this.situation_matrimoniale=o.value}selectCategorieProfessionnelle(o){this.categorie_pro=o.value}selectService(o){this.service=o.value}selectGenre(o){this.genre=o.value}selectContrats(o){this.contrats=o.value}selectBureau(o){this.bureau=o.value}isUpdateImg(){this.img_update=!0}getFonctionList(){this._traitement.getFonction().subscribe({next:o=>{setTimeout(()=>{this.list_fonction=o},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getServiceList(){this._traitement.getService().subscribe({next:o=>{setTimeout(()=>{this.list_service=o},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getBureauList(){this._traitement.getBureau().subscribe({next:o=>{setTimeout(()=>{this.list_bureau=o},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getCategorieProList(){this._traitement.getCategorieProfessionnelle().subscribe({next:o=>{console.log(o),setTimeout(()=>{this.list_categorie_pro=o},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}getContratsList(){this._traitement.getContrats().subscribe({next:o=>{setTimeout(()=>{this.list_contrats=o},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}uploadFile(o){this.user_image=o.target.files[0]}edited(){this.is_disabled=!1}cancel(){this.is_disabled=!0}editedContrats(){this.is_disabled_contrats=!1}cancelContrats(){this.is_disabled_contrats=!0}getEmployeCurrentInfo(){this.item_slug=this._active_router.snapshot.paramMap.get("slug"),this._loadings.show_loading(),this._traitement.showEmployes(this.item_slug).subscribe({next:o=>{console.log(o),setTimeout(()=>{this.first_name=o.employe_info_perso.first_name,this.matricule=o.employe_info_perso.matricule,this.last_name=o.employe_info_perso.last_name,this.diplome=o.employe_info_perso.diplome,this.profession=o.employe_info_perso.profession,this.adresse_email=o.employe_info_perso.adresse_email,this.date_naissance=o.employe_info_perso.date_naissance,this.lieu_naissance=o.employe_info_perso.lieu_naissance,this.piece_number=o.employe_info_perso.piece_number,this.nationalite=o.employe_info_perso.nationalite,this.nombre_enfant_a_charge=o.employe_info_perso.nombre_enfant_a_charge,this.lieu_residence=o.employe_info_perso.lieu_residence,this.selectedSituationMatrimonialeOption=o.employe_info_perso.situation_matrimoniale,this.selectedGenreOption=o.employe_info_perso.genre,this.selectedPieceOption=o.employe_info_perso.type_piece,this.phone=o.employe_info_perso.phone,this.old_image=o.employe_info_perso.photo,this.item_slug_info=o.employe_info_perso.slug,this.personne_a_contacter=o.employe_info_perso.personne_a_contacter,this.personne_a_charge=o.employe_info_perso.personne_a_charge,this.conjoint_name=o.employe_info_perso.conjoint_name,this.contact_conjoint=o.employe_info_perso.contact_conjoint,this.antecedant_medicaux=o.employe_info_perso.antecedant_medicaux,this.contact_personne_a_contacter=o.employe_info_perso.contact_personne_a_contacter,this.situation_matrimoniale=o.employe_info_perso.situation_matrimoniale,this.employee_dossier=o.employee_dossier,o.employe_info_contrats!=null&&(this.selectedCategorieProfessionnelleOption=o.employe_info_contrats.categorie_pro_id,this.selectedFonctionOption=o.employe_info_contrats.fonction_id,this.selectedContratsOption=o.employe_info_contrats.contrats_id,this.selectedBureauOption=o.employe_info_contrats.bureau_id,this.selectedServiceOption=o.employe_info_contrats.service_id,this.salaire_categoriel=o.employe_info_contrats.salaire_categoriel,this.date_embauche=o.employe_info_contrats.date_embauche,this.salaire_net_mensuel=o.employe_info_contrats.salaire_mensuel_net,this.item_slug_contrats=o.employe_info_contrats.slug,this.cnps_number=o.employe_info_contrats.cnps_number),this._loadings.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateEmployeInformationPersonnelle(){if(this.first_name==""){this._notificationService.openSnackBarSimpleError("Le nom est obligatoire");return}if(this.last_name==""){this._notificationService.openSnackBarSimpleError("Le pr\xE9nom est obligatoire");return}if(this.diplome==""){this._notificationService.openSnackBarSimpleError("Le dipl\xF4me est obligatoire");return}if(this.profession==""){this._notificationService.openSnackBarSimpleError("La profession est obligatoire");return}if(this.adresse_email==""){this._notificationService.openSnackBarSimpleError("L'adresse email est obligatoire");return}if(this.date_naissance==""){this._notificationService.openSnackBarSimpleError("La date de naissance est obligatoire");return}if(this.lieu_naissance==""){this._notificationService.openSnackBarSimpleError("Le lieu de naissance est obligatoire");return}if(this.lieu_residence==""){this._notificationService.openSnackBarSimpleError("Le lieu de residence est obligatoire");return}if(this.phone==""){this._notificationService.openSnackBarSimpleError("Le t\xE9l\xE9phone est obligatoire");return}if(this.nationalite==""){this._notificationService.openSnackBarSimpleError("La nationalit\xE9 est obligatoire");return}if(this.piece_number==""){this._notificationService.openSnackBarSimpleError("Le num\xE9ro de la pi\xE8ce est obligatoire");return}let o={first_name:this.first_name,last_name:this.last_name,diplome:this.diplome,profession:this.profession,adresse_email:this.adresse_email,phone:this.phone,genre:this.genre==null?this.selectedGenreOption:this.genre,situation_matrimoniale:this.situation_matrimoniale==null?this.selectedSituationMatrimonialeOption:this.situation_matrimoniale,date_naissance:this.date_naissance,lieu_naissance:this.lieu_naissance,lieu_residence:this.lieu_residence,nationalite:this.nationalite,type_piece:this.piece==null?this.selectedPieceOption:this.piece,piece_number:this.piece_number,nombre_enfant_a_charge:this.nombre_enfant_a_charge,personne_a_contacter:this.personne_a_contacter,personne_a_charge:this.personne_a_charge,conjoint_name:this.conjoint_name,contact_conjoint:this.contact_conjoint,antecedant_medicaux:this.antecedant_medicaux,contact_personne_a_contacter:this.contact_personne_a_contacter};this._loadings.show_loading(),this._traitement.updateEmployes(o,this.item_slug_info).subscribe({next:a=>{console.log(a),a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loadings.hide_loading(),this.is_disabled=!0},1e3):(a.code==302||a.code==300)&&(this._loadings.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateEmployeInformationContrats(){if(this.date_embauche==""){this._notificationService.openSnackBarSimpleError("La date de prise de fonction est obligatoire");return}if(this.matricule==""){this._notificationService.openSnackBarSimpleError("Le matricule de l'employ\xE9 est obligatoire");return}if(this.salaire_net_mensuel==""){this._notificationService.openSnackBarSimpleError("La salaire net mensuel est obligatoire");return}let o={employe_matricule:this.matricule,contrats:this.contrats==null?this.selectedContratsOption:this.contrats,service:this.service==null?this.selectedServiceOption:this.service,fonction:this.fonction==null?this.selectedFonctionOption:this.fonction,bureau:this.bureau==null?this.selectedBureauOption:this.bureau,categorie_pro:this.categorie_pro==null?this.selectedCategorieProfessionnelleOption:this.categorie_pro,salaire_net_mensuel:this.salaire_net_mensuel,date_embauche:this.date_embauche,adresse_email:this.adresse_email,date_embauche_end:this.date_embauche_end,cnps_number:this.cnps_number,avantage:this.avantage};this._loadings.show_loading(),this._traitement.updateEmployeContrats(o,this.matricule).subscribe({next:a=>{console.log(a),a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loadings.hide_loading(),this.is_disabled_contrats=!0},1e3):(a.code==302||a.code==300)&&(this._loadings.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(g($),g(R),g(H),g(W),g(Ae))},m.\u0275cmp=P({type:m,selectors:[["app-ch-employees-details"]],standalone:!0,features:[B],decls:285,vars:80,consts:[["pickerDateNaissance",""],["dateEmbauchePicker",""],["dateEmbaucheEndPicker",""],[1,"subscribe-header"],["src","assets/images/bg.jpg","alt",`Admin &
        Dashboards`,1,"img-fluid","w-100"],[1,"subscriber-body"],[1,"row","justify-content-center","mt-5"],[1,"col-xl-10","col-lg-12"],[1,"row","align-items-end"],[1,"col-auto"],[1,"img-8xx","img-fluid","rounded-circle","border","border-primary","border-4",3,"src"],[1,"col-xxl-12","col-sm-12","col-12"],[1,"card"],[1,"card-body"],["mat-tab-label",""],[1,"row","gx-3","mt-3","m-3"],[1,"col-md-3","col-lg-3"],["appearance","outline"],[1,"fs-4"],["matInput","","placeholder","Pr\xE9nom",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nom de famille",3,"ngModelChange","ngModel","readonly"],[1,"col-md-3","col-sm-6","col-lg-3"],["matInput","","placeholder","Profession ",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Intitul\xE9 du dipl\xF4me",3,"ngModelChange","ngModel","readonly"],[3,"valueChange","selectionChange","disabled","value"],[3,"value"],["type","email","matInput","","placeholder","Adresse email",3,"ngModelChange","ngModel","readonly"],["type","tel","matInput","","placeholder","Num\xE9ro t\xE9l\xE9phone",3,"ngModelChange","ngModel","readonly"],["matInput","",3,"ngModelChange","ngModel","readonly","matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","placeholder","Lieu de naissance",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Lieu de r\xE9sidence",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nationalit\xE9",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Ant\xE9c\xE9dent medical",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nombre de personnes \xE0 charge",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Situation Matrimoniale",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Nom du conjoint",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Contact du conjoint",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Personne \xE0 contacter",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Contact de la personne \xE0 contacter",3,"ngModelChange","ngModel","readonly"],["type","number","matInput","","placeholder","Nombre d'enfants \xE0 charge",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","N\xB0 Pi\xE8ce d'identit\xE9",3,"ngModelChange","ngModel","readonly"],[1,"mt-3","text-center"],["mat-raised-button","","color","primary",1,"default__btn__lg"],["mat-raised-button","","color","warn",1,"default__btn__lg","me-3"],[1,"row","gx-3","m-3"],[1,"col-md-6","col-sm-6","col-lg-6"],[3,"valueChange","selectionChange","value","disabled"],["type","text","matInput","","placeholder","N\xB0 CNPS ",3,"ngModelChange","ngModel","readonly"],["type","number","matInput","","placeholder","Salaire net mensuel ",3,"ngModelChange","ngModel","readonly"],["matInput","","placeholder","Avantage",3,"ngModelChange","ngModel","readonly"],[1,"row","gx-3","m-3","justify-content-center"],[1,"col-12"],[1,"text-center"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"example-tab-icon","me-2"],[1,"text-primary","fs-5"],["mat-raised-button","","color","primary",1,"default__btn__lg",3,"click"],["mat-raised-button","","color","warn",1,"default__btn__lg","me-3",3,"click"],["src","assets/media/folder.svg","width","300","alt","logo oipi",1,"img-fluid","mb-2"],[1,"mb-4","fw-bolder","fs-5","text-primary"],[1,"table-responsive"],[1,"table","table-striped","mt-3","align-middle"],[1,"d-flex","justify-content-center"],[1,"me-3","text-primary"],[1,"m-0","fw-bolder","fs-6"],["matTooltip","Dossier valid\xE9","mat-icon-button","",4,"ngIf"],["matTooltip","Dossier rejet\xE9","mat-icon-button","",4,"ngIf"],["matTooltip","En entente de validation du dossier","mat-icon-button","",4,"ngIf"],["matTooltip","Dossier valid\xE9","mat-icon-button",""],[1,"text-primary"],["matTooltip","Dossier rejet\xE9","mat-icon-button",""],["matTooltip","En entente de validation du dossier","mat-icon-button",""],[1,"text-blue"]],template:function(a,n){if(a&1){let c=T();e(0,"div",3),C(1,"img",4),t(),e(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9),C(7,"img",10),t()()()(),e(8,"div",6)(9,"div",11)(10,"div",12)(11,"div",13)(12,"mat-tab-group")(13,"mat-tab"),w(14,Li,4,0,"ng-template",14),e(15,"div",15)(16,"div",16)(17,"mat-form-field",17)(18,"mat-label"),i(19,"Pr\xE9nom "),e(20,"code",18),i(21,"*"),t()(),e(22,"input",19),M("ngModelChange",function(d){return _(c),b(n.first_name,d)||(n.first_name=d),f(d)}),t()()(),e(23,"div",16)(24,"mat-form-field",17)(25,"mat-label"),i(26,"Nom de famille "),e(27,"code",18),i(28,"*"),t()(),e(29,"input",20),M("ngModelChange",function(d){return _(c),b(n.last_name,d)||(n.last_name=d),f(d)}),t()()(),e(30,"div",21)(31,"mat-form-field",17)(32,"mat-label"),i(33,"Profession"),e(34,"code",18),i(35,"*"),t()(),e(36,"input",22),M("ngModelChange",function(d){return _(c),b(n.profession,d)||(n.profession=d),f(d)}),t()()(),e(37,"div",16)(38,"mat-form-field",17)(39,"mat-label"),i(40,"Intitul\xE9 du dipl\xF4me "),e(41,"code",18),i(42,"*"),t()(),e(43,"input",23),M("ngModelChange",function(d){return _(c),b(n.diplome,d)||(n.diplome=d),f(d)}),t()()(),e(44,"div",21)(45,"mat-form-field",17)(46,"mat-label"),i(47,"Genre"),e(48,"code",18),i(49,"*"),t()(),e(50,"mat-select",24),M("valueChange",function(d){return _(c),b(n.selectedGenreOption,d)||(n.selectedGenreOption=d),f(d)}),x("selectionChange",function(d){return _(c),f(n.selectGenre(d))}),V(51,ji,2,2,"mat-option",25,F),t()()(),e(53,"div",21)(54,"mat-form-field",17)(55,"mat-label"),i(56,"Adresse email "),e(57,"code",18),i(58,"*"),t()(),e(59,"input",26),M("ngModelChange",function(d){return _(c),b(n.adresse_email,d)||(n.adresse_email=d),f(d)}),t()()(),e(60,"div",21)(61,"mat-form-field",17)(62,"mat-label"),i(63,"Num\xE9ro t\xE9l\xE9phone "),e(64,"code",18),i(65,"*"),t()(),e(66,"input",27),M("ngModelChange",function(d){return _(c),b(n.phone,d)||(n.phone=d),f(d)}),t()()(),e(67,"div",21)(68,"mat-form-field",17)(69,"mat-label"),i(70,"Date de naissance "),e(71,"code",18),i(72,"*"),t()(),e(73,"input",28),M("ngModelChange",function(d){return _(c),b(n.date_naissance,d)||(n.date_naissance=d),f(d)}),t(),C(74,"mat-datepicker-toggle",29)(75,"mat-datepicker",null,0),t()(),e(77,"div",21)(78,"mat-form-field",17)(79,"mat-label"),i(80,"Lieu de naissance "),e(81,"code",18),i(82,"*"),t()(),e(83,"input",30),M("ngModelChange",function(d){return _(c),b(n.lieu_naissance,d)||(n.lieu_naissance=d),f(d)}),t()()(),e(84,"div",21)(85,"mat-form-field",17)(86,"mat-label"),i(87,"Lieu de r\xE9sidence "),e(88,"code",18),i(89,"*"),t()(),e(90,"input",31),M("ngModelChange",function(d){return _(c),b(n.lieu_residence,d)||(n.lieu_residence=d),f(d)}),t()()(),e(91,"div",21)(92,"mat-form-field",17)(93,"mat-label"),i(94,"Nationalit\xE9 "),e(95,"code",18),i(96,"*"),t()(),e(97,"input",32),M("ngModelChange",function(d){return _(c),b(n.nationalite,d)||(n.nationalite=d),f(d)}),t()()(),e(98,"div",21)(99,"mat-form-field",17)(100,"mat-label"),i(101,"Ant\xE9c\xE9dent medical "),e(102,"code",18),i(103,"*"),t()(),e(104,"input",33),M("ngModelChange",function(d){return _(c),b(n.antecedant_medicaux,d)||(n.antecedant_medicaux=d),f(d)}),t()()(),e(105,"div",21)(106,"mat-form-field",17)(107,"mat-label"),i(108,"Nombre de personnes \xE0 charge "),e(109,"code",18),i(110,"*"),t()(),e(111,"input",34),M("ngModelChange",function(d){return _(c),b(n.personne_a_charge,d)||(n.personne_a_charge=d),f(d)}),t()()(),e(112,"div",21)(113,"mat-form-field",17)(114,"mat-label"),i(115,"Situation Matrimoniale "),e(116,"code",18),i(117,"*"),t()(),e(118,"input",35),M("ngModelChange",function(d){return _(c),b(n.situation_matrimoniale,d)||(n.situation_matrimoniale=d),f(d)}),t()()(),e(119,"div",21)(120,"mat-form-field",17)(121,"mat-label"),i(122,"Nom du conjoint "),e(123,"code",18),i(124,"*"),t()(),e(125,"input",36),M("ngModelChange",function(d){return _(c),b(n.conjoint_name,d)||(n.conjoint_name=d),f(d)}),t()()(),e(126,"div",21)(127,"mat-form-field",17)(128,"mat-label"),i(129,"Contact du conjoint "),e(130,"code",18),i(131,"*"),t()(),e(132,"input",37),M("ngModelChange",function(d){return _(c),b(n.contact_conjoint,d)||(n.contact_conjoint=d),f(d)}),t()()(),e(133,"div",21)(134,"mat-form-field",17)(135,"mat-label"),i(136,"Personne \xE0 contacter "),e(137,"code",18),i(138,"*"),t()(),e(139,"input",38),M("ngModelChange",function(d){return _(c),b(n.personne_a_contacter,d)||(n.personne_a_contacter=d),f(d)}),t()()(),e(140,"div",21)(141,"mat-form-field",17)(142,"mat-label"),i(143,"Num\xE9ro de la personne \xE0 contacter "),e(144,"code",18),i(145,"*"),t()(),e(146,"input",39),M("ngModelChange",function(d){return _(c),b(n.contact_personne_a_contacter,d)||(n.contact_personne_a_contacter=d),f(d)}),t()()(),e(147,"div",21)(148,"mat-form-field",17)(149,"mat-label"),i(150,"Situation Matrimoniale"),e(151,"code",18),i(152,"*"),t()(),e(153,"mat-select",24),M("valueChange",function(d){return _(c),b(n.selectedSituationMatrimonialeOption,d)||(n.selectedSituationMatrimonialeOption=d),f(d)}),x("selectionChange",function(d){return _(c),f(n.selectSituationMatrimoniale(d))}),V(154,Wi,2,2,"mat-option",25,F),t()()(),e(156,"div",16)(157,"mat-form-field",17)(158,"mat-label"),i(159,"Nombre d'enfant \xE0 charge "),e(160,"code",18),i(161,"*"),t()(),e(162,"input",40),M("ngModelChange",function(d){return _(c),b(n.nombre_enfant_a_charge,d)||(n.nombre_enfant_a_charge=d),f(d)}),t()()(),e(163,"div",16)(164,"mat-form-field",17)(165,"mat-label"),i(166,"Type de pi\xE8ce"),e(167,"code",18),i(168,"*"),t()(),e(169,"mat-select",24),M("valueChange",function(d){return _(c),b(n.selectedPieceOption,d)||(n.selectedPieceOption=d),f(d)}),x("selectionChange",function(d){return _(c),f(n.selectPiece(d))}),V(170,Ni,2,2,"mat-option",25,F),t()()(),e(172,"div",16)(173,"mat-form-field",17)(174,"mat-label"),i(175,"N\xB0 Pi\xE8ce d'identit\xE9 "),e(176,"code",18),i(177,"*"),t()(),e(178,"input",41),M("ngModelChange",function(d){return _(c),b(n.piece_number,d)||(n.piece_number=d),f(d)}),t()()(),e(179,"div",42),w(180,Ai,4,0,"button",43)(181,Ri,4,0,"button",44)(182,Oi,4,0,"button",43),t()()(),e(183,"mat-tab"),w(184,Hi,4,0,"ng-template",14),e(185,"div",45)(186,"div",46)(187,"mat-form-field",17)(188,"mat-label"),i(189,"Contrats"),e(190,"code",18),i(191,"*"),t()(),e(192,"mat-select",24),M("valueChange",function(d){return _(c),b(n.selectedContratsOption,d)||(n.selectedContratsOption=d),f(d)}),x("selectionChange",function(d){return _(c),f(n.selectContrats(d))}),V(193,Ui,2,2,"mat-option",25,F),t()()(),e(195,"div",46)(196,"mat-form-field",17)(197,"mat-label"),i(198,"fonction de l'employ\xE9 "),e(199,"code",18),i(200,"*"),t()(),e(201,"mat-select",47),M("valueChange",function(d){return _(c),b(n.selectedFonctionOption,d)||(n.selectedFonctionOption=d),f(d)}),x("selectionChange",function(d){return _(c),f(n.selectFonction(d))}),V(202,zi,2,2,"mat-option",25,F),t()()(),e(204,"div",46)(205,"mat-form-field",17)(206,"mat-label"),i(207,"Lieu de travail"),e(208,"code",18),i(209,"*"),t()(),e(210,"mat-select",47),M("valueChange",function(d){return _(c),b(n.selectedBureauOption,d)||(n.selectedBureauOption=d),f(d)}),x("selectionChange",function(d){return _(c),f(n.selectBureau(d))}),V(211,Yi,2,2,"mat-option",25,F),t()()(),e(213,"div",46)(214,"mat-form-field",17)(215,"mat-label"),i(216,"Servcie de l'employ\xE9"),e(217,"code",18),i(218,"*"),t()(),e(219,"mat-select",47),M("valueChange",function(d){return _(c),b(n.selectedServiceOption,d)||(n.selectedServiceOption=d),f(d)}),x("selectionChange",function(d){return _(c),f(n.selectService(d))}),V(220,Gi,2,2,"mat-option",25,F),t()()(),e(222,"div",46)(223,"mat-form-field",17)(224,"mat-label"),i(225,"Date debut de contrat"),e(226,"code",18),i(227,"*"),t()(),e(228,"input",28),M("ngModelChange",function(d){return _(c),b(n.date_embauche,d)||(n.date_embauche=d),f(d)}),t(),C(229,"mat-datepicker-toggle",29)(230,"mat-datepicker",null,1),t()(),e(232,"div",46)(233,"mat-form-field",17)(234,"mat-label"),i(235,"Date fin de contrats"),e(236,"code",18),i(237,"*"),t()(),e(238,"input",28),M("ngModelChange",function(d){return _(c),b(n.date_embauche_end,d)||(n.date_embauche_end=d),f(d)}),t(),C(239,"mat-datepicker-toggle",29)(240,"mat-datepicker",null,2),t()(),e(242,"div",46)(243,"mat-form-field",17)(244,"mat-label"),i(245,"Cat\xE9gorie professionnnelle"),e(246,"code",18),i(247,"*"),t()(),e(248,"mat-select",47),M("valueChange",function(d){return _(c),b(n.selectedCategorieProfessionnelleOption,d)||(n.selectedCategorieProfessionnelleOption=d),f(d)}),x("selectionChange",function(d){return _(c),f(n.selectCategorieProfessionnelle(d))}),V(249,qi,2,2,"mat-option",25,F),t()()(),e(251,"div",46)(252,"mat-form-field",17)(253,"mat-label"),i(254,"N\xB0 CNPS "),e(255,"code",18),i(256,"*"),t()(),e(257,"input",48),M("ngModelChange",function(d){return _(c),b(n.cnps_number,d)||(n.cnps_number=d),f(d)}),t()()(),e(258,"div",46)(259,"mat-form-field",17)(260,"mat-label"),i(261,"Salaire net mensuel "),e(262,"code",18),i(263,"*"),t()(),e(264,"input",49),M("ngModelChange",function(d){return _(c),b(n.salaire_net_mensuel,d)||(n.salaire_net_mensuel=d),f(d)}),t()()(),e(265,"div",46)(266,"mat-form-field",17)(267,"mat-label"),i(268,"Avantage "),e(269,"code",18),i(270,"*"),t()(),e(271,"input",50),M("ngModelChange",function(d){return _(c),b(n.avantage,d)||(n.avantage=d),f(d)}),t()()(),e(272,"div",42),w(273,Ji,4,0,"button",43)(274,Qi,4,0,"button",44)(275,Zi,4,0,"button",43),t()()(),e(276,"mat-tab"),w(277,Ki,4,0,"ng-template",14),e(278,"div",51)(279,"div",52),w(280,Xi,4,0,"div",53)(281,nn,26,8,"div",53),t()()()()()()()()(),e(282,"ngx-spinner",54)(283,"p",55),i(284," Chargement en cours... "),t()()}if(a&2){let c=I(76),p=I(231),d=I(241);l(7),u("src",n.old_image,oe),l(15),y("ngModel",n.first_name),u("readonly",n.is_disabled==!0),l(7),y("ngModel",n.last_name),u("readonly",n.is_disabled==!0),l(7),y("ngModel",n.profession),u("readonly",n.is_disabled==!0),l(7),y("ngModel",n.diplome),u("readonly",n.is_disabled==!0),l(7),u("disabled",n.is_disabled==!0),y("value",n.selectedGenreOption),l(),L(n.list_genre),l(8),y("ngModel",n.adresse_email),u("readonly",n.is_disabled==!0),l(7),y("ngModel",n.phone),u("readonly",n.is_disabled==!0),l(7),y("ngModel",n.date_naissance),u("readonly",n.is_disabled==!0)("matDatepicker",c),l(),u("for",c),l(9),y("ngModel",n.lieu_naissance),u("readonly",n.is_disabled==!0),l(7),y("ngModel",n.lieu_residence),u("readonly",n.is_disabled==!0),l(7),y("ngModel",n.nationalite),u("readonly",n.is_disabled==!0),l(7),y("ngModel",n.antecedant_medicaux),u("readonly",n.is_disabled==!0),l(7),y("ngModel",n.personne_a_charge),u("readonly",n.is_disabled==!0),l(7),y("ngModel",n.situation_matrimoniale),u("readonly",n.is_disabled==!0),l(7),y("ngModel",n.conjoint_name),u("readonly",n.is_disabled==!0),l(7),y("ngModel",n.contact_conjoint),u("readonly",n.is_disabled==!0),l(7),y("ngModel",n.personne_a_contacter),u("readonly",n.is_disabled==!0),l(7),y("ngModel",n.contact_personne_a_contacter),u("readonly",n.is_disabled==!0),l(7),u("disabled",n.is_disabled==!0),y("value",n.selectedSituationMatrimonialeOption),l(),L(n.list_situation_matrimoniale),l(8),y("ngModel",n.nombre_enfant_a_charge),u("readonly",n.is_disabled==!0),l(7),u("disabled",n.is_disabled==!0),y("value",n.selectedPieceOption),l(),L(n.list_piece),l(8),y("ngModel",n.piece_number),u("readonly",n.is_disabled==!0),l(2),h(180,n.is_disabled==!0?180:-1),l(),h(181,n.is_disabled==!1?181:-1),l(),h(182,n.is_disabled==!1?182:-1),l(10),u("disabled",n.is_disabled_contrats==!0),y("value",n.selectedContratsOption),l(),L(n.list_contrats),l(8),y("value",n.selectedFonctionOption),u("disabled",n.is_disabled_contrats==!0),l(),L(n.list_fonction),l(8),y("value",n.selectedBureauOption),u("disabled",n.is_disabled_contrats==!0),l(),L(n.list_bureau),l(8),y("value",n.selectedServiceOption),u("disabled",n.is_disabled_contrats==!0),l(),L(n.list_service),l(8),y("ngModel",n.date_embauche),u("readonly",n.is_disabled_contrats==!0)("matDatepicker",p),l(),u("for",p),l(9),y("ngModel",n.date_embauche_end),u("readonly",n.is_disabled_contrats==!0)("matDatepicker",d),l(),u("for",d),l(9),y("value",n.selectedCategorieProfessionnelleOption),u("disabled",n.is_disabled_contrats==!0),l(),L(n.list_categorie_pro),l(8),y("ngModel",n.cnps_number),u("readonly",n.is_disabled_contrats==!0),l(7),y("ngModel",n.salaire_net_mensuel),u("readonly",n.is_disabled_contrats==!0),l(7),y("ngModel",n.avantage),u("readonly",n.is_disabled_contrats==!0),l(2),h(273,n.is_disabled_contrats==!0?273:-1),l(),h(274,n.is_disabled_contrats==!1?274:-1),l(),h(275,n.is_disabled_contrats==!1?275:-1),l(5),h(280,n.employee_dossier==null?280:-1),l(),h(281,n.employee_dossier!=null?281:-1),l(),u("fullScreen",!0)}},dependencies:[z,G,A,N,ie,fe,K,Z,Ee,Te,we,Oe,He,Ue,X,De,ke,Ie,he,U,O,q,It,J,Q,ee,j]});let r=m;return r})();function ln(r,m){r&1&&C(0,"mat-progress-bar",9)}function sn(r,m){r&1&&(e(0,"div",18)(1,"mat-icon",56),i(2,"notifications"),t(),i(3," Vous avez d\xE9j\xE0 donn\xE9 votre approbation \xE0 ce cong\xE9. "),t())}function mn(r,m){r&1&&(e(0,"div",19)(1,"mat-icon",12),i(2,"notifications"),t(),i(3," Vous avez d\xE9j\xE0 donn\xE9 votre approbation \xE0 ce cong\xE9. "),t())}function dn(r,m){if(r&1){let s=T();e(0,"div",20)(1,"mat-radio-group",57),x("change",function(a){_(s);let n=v();return f(n.PermissionDecisionChange(a))}),e(2,"mat-radio-button",58)(3,"span",59),i(4,"Approuver"),t()(),e(5,"mat-radio-button",60)(6,"span",59),i(7,"Rejeter"),t()()()()}}function cn(r,m){if(r&1){let s=T();e(0,"div",20)(1,"mat-form-field",61)(2,"mat-label"),i(3,"Laissez une note sur la d\xE9cision..."),t(),e(4,"textarea",62),M("ngModelChange",function(a){_(s);let n=v();return b(n.decision_comments,a)||(n.decision_comments=a),f(a)}),t(),e(5,"mat-hint",63)(6,"strong"),i(7,"Nombre de caract\xE8re limit\xE9 \xE0 160"),t()(),e(8,"mat-hint",64),i(9),t()()()}if(r&2){let s=v();l(4),y("ngModel",s.decision_comments),l(5),S("",s.decision_comments.length," / 160")}}function pn(r,m){if(r&1){let s=T();e(0,"div")(1,"button",65),x("click",function(){_(s);let a=v();return f(a.saveDecision())}),e(2,"mat-icon"),i(3,"save"),t(),i(4," Enregistrer votre d\xE9cision "),t()()}}function un(r,m){r&1&&(e(0,"button",52)(1,"mat-icon"),i(2,"verified"),t(),i(3," Cong\xE9 approuv\xE9 "),t())}function _n(r,m){r&1&&(e(0,"button",53)(1,"mat-icon"),i(2,"verified"),t(),i(3," Cong\xE9 r\xE9jet\xE9 "),t())}function fn(r,m){r&1&&(e(0,"button",53)(1,"mat-icon"),i(2,"no_accounts"),t(),i(3," Accune action "),t())}function hn(r,m){if(r&1&&(e(0,"div",54)(1,"mat-icon",66),i(2,"notifications"),t(),i(3),t()),r&2){let s=v();l(3),S(" ",s.comments," ")}}var zt=(()=>{let m=class m{constructor(o,a,n,c,p){this._notificationService=o,this._conge=a,this._router=n,this.data=c,this._dialogRef=p,this.item_slug="",this.conge_ref="",this.type_duration="",this.date_permission="",this.motif="",this.fonction="",this.service="",this.objet_demande="",this.created_at="",this.status_on=0,this.status_off=0,this.conge_start="",this.conge_end="",this.duree_conge="",this.customer_name="",this.justificatif="",this.show_comment_box=!1,this.decision="",this.decision_comments="",this.comments="",this.loading=!1}ngOnInit(){this.data!=null&&(this.item_slug=this.data.slug),this.getCurrentCongeInfo(),this.updateIsConsultingStatus()}getCurrentCongeInfo(){this._conge.showConge(this.item_slug).subscribe({next:o=>{this.conge_data=o,this.conge_ref=o.conge_ref,this.fonction=o.fonction,this.justificatif=o.conge_file,this.service=o.service,this.conge_start=o.date_depart,this.conge_end=o.date_retour,this.duree_conge=o.duree_conge,this.customer_name=o.first_name+" "+o.last_name,this.motif=o.motif,this.created_at=o.created_at,this.objet_demande=o.objet_demande,this.status_on=o.status_on,this.status_off=o.status_off,this.comments=o.comments},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}PermissionDecisionChange(o){let a=o.value;a=="approved"?(this.show_comment_box=!0,this.decision=a):a=="rejected"?(this.show_comment_box=!0,this.decision=a):(this.show_comment_box=!1,this.decision="")}saveDecision(){let o={decison:this.decision,decision_comments:this.decision_comments,slug:this.item_slug};console.log(o),this.loading=!0,this._conge.approvedOrRejectedConge(o).subscribe({next:a=>{a.code==200?(this._notificationService.openSnackBarSuccess(a),setTimeout(()=>{this.loading=!1,this.getCurrentCongeInfo(),this.show_comment_box=!1},1e3)):(a.code==300||a.code==500||a.code==302)&&(this.loading,this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateIsConsultingStatus(){this._conge.updateIsConsultingStatus(this.item_slug).subscribe({next:o=>{o.code==200?this._notificationService.openSnackBarSuccess(o):o.code==300||o.code==500||o.code==302?(this.loading,this._notificationService.openSnackBarError(o)):o.code==201&&(this.loading,this._notificationService.openSnackBarInfo(o))},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}printCongeCard(){var o=document.querySelector("#conge_card")?.innerHTML,a=document.body.innerHTML;document.body.innerHTML=o,window.print(),document.body.innerHTML=a,location.reload()}};m.\u0275fac=function(a){return new(a||m)(g(R),g(ft),g(W),g(Ye),g(ze))},m.\u0275cmp=P({type:m,selectors:[["app-ch-detail-conges"]],standalone:!0,features:[B],decls:132,vars:33,consts:[["mat-dialog-title",""],["mat-fab","","extended","","color","primary","mat-dialog-close",""],["mat-dialog-content","",2,"max-height","95vh"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"row"],[1,"col-lg-5","col-md-5"],[1,"card"],["mode","indeterminate"],[1,"card-header","d-flex","justify-content-between","mb-3"],[1,"me-2"],[1,"text-red"],[1,"card-title","text-primary","fs-5","fw-bolder"],[1,"text-end"],["mat-fab","",1,"",3,"click"],[1,"card-body","text-center","position-relative","pt-4"],[1,"card-title","fs-3","mb-3","text-center"],["role","alert",1,"alert","box-bdr-green","alert-dismissible","fade","show","text-green"],["role","alert",1,"alert","box-bdr-red","alert-dismissible","fade","show","text-red"],[1,"col-md-12","col-lg-12","mb-4"],[1,"col-lg-7","col-md-7"],["id","conge_card",1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","align-items-center","mb-4"],[1,"col-xl-2","col-sm-3","col-12"],["src","assets/media/logoai.png","width","100","alt","",1,"img-fluid"],[1,"col-xl-10","col-sm-9","col-12"],[1,"text-end","m-0","fw-bolder"],[1,"fw-bolder","fs-5"],[1,"col-sm-12","col-12"],[1,"text-center","mb-3"],[1,"fw-bolder","text-uppercase"],[1,"d-flex","justify-content-end","my-4"],[1,"m-0"],[1,"fw-bolder"],[1,"fw-bolder","text-red","text-uppercase"],[1,"row","gx-3","mb-2"],[1,"col-sm-12","col-12","mb-3"],[1,"fw-bolder","text-red"],[1,"col-12"],[1,"table-responsive","mb-3"],[1,"table","table-bordered"],[1,"text-center","text-uppercase"],[1,"text-center"],[1,"text-uppercase","mb-4"],[1,"fw-bolder","mb-4"],[1,"d-flex","justify-content-between"],[1,"m-0","text-start"],[1,"fw-bolder","text-start"],["mat-fab","","extended","","color","primary"],["mat-fab","","extended","","color","warn"],["role","alert",1,"alert","alert-light","alert-dismissible","fade","show"],[1,"m-0","text-end"],[1,"text-danger"],["aria-label","Select an option",3,"change"],["value","approved"],[1,"fw-bolder","fs-4"],["value","rejected"],[1,"example-full-width"],["matInput","","maxlength","160","placeholder","Ex. cong\xE9 approuv\xE9...",3,"ngModelChange","ngModel"],["align","start"],["align","end"],["mat-fab","","extended","","color","primary",1,"w-100",3,"click"],[1,"text-danger","alert-icon"]],template:function(a,n){a&1&&(e(0,"h1",0),i(1," D\xE9tail de la permission "),e(2,"button",1)(3,"mat-icon"),i(4,"reply"),t(),i(5," Fermer "),t()(),e(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8),w(13,ln,1,0,"mat-progress-bar",9),e(14,"div",10)(15,"span",11)(16,"mat-icon",12),i(17,"notifications"),t()(),e(18,"div",13),i(19," R\xE9server au responsable du capital humain "),t(),e(20,"div",14)(21,"button",15),x("click",function(){return n.printCongeCard()}),e(22,"mat-icon"),i(23,"print"),t()()()(),e(24,"div",16)(25,"div",17),i(26,"D\xE9cision de la permission"),t(),e(27,"div",6),w(28,sn,4,0,"div",18)(29,mn,4,0,"div",19)(30,dn,8,0,"div",20)(31,cn,10,2,"div",20)(32,pn,5,0,"div"),t()()()(),e(33,"div",21)(34,"div",22)(35,"div",23)(36,"div",24),i(37),t()(),e(38,"div",25)(39,"div",26)(40,"div",27),C(41,"img",28),t(),e(42,"div",29)(43,"p",30)(44,"span",31),i(45,"Alerte "),C(46,"br"),i(47," Info"),t()()()(),e(48,"div",4)(49,"div",32)(50,"div",33)(51,"h1",34),i(52," demande de conge "),t()(),e(53,"div",35)(54,"div")(55,"p",36)(56,"span",37),i(57,"Date de la demande,"),t(),C(58,"br"),e(59,"span",38),i(60),D(61,"date"),t()()()()()(),e(62,"div",39)(63,"div",40)(64,"p",36)(65,"span",37),i(66,"Dur\xE9e du conge,"),t(),C(67,"br"),e(68,"span",37)(69,"span",41),i(70),t(),C(71,"br"),i(72),D(73,"date"),D(74,"date"),t()()()(),e(75,"div",39)(76,"div",40)(77,"p",36)(78,"span",37),i(79,"Objet,"),t(),C(80,"br"),e(81,"span",38),i(82),t()()()(),e(83,"div",4)(84,"div",42)(85,"div",43)(86,"table",44)(87,"thead")(88,"tr")(89,"th")(90,"span",45),i(91,"Nom & Pr\xE9nom"),t()(),e(92,"th")(93,"span",45),i(94,"Fonction"),t()(),e(95,"th")(96,"span",45),i(97,"Service"),t()()()(),e(98,"tbody")(99,"tr")(100,"td")(101,"span",46),i(102),t()(),e(103,"td")(104,"span",46),i(105),t()(),e(106,"td")(107,"span",46),i(108),t()()()()()(),e(109,"p",47),i(110,"Motif de la permission: "),t(),e(111,"p",48),i(112),t(),C(113,"br"),e(114,"div",49)(115,"div")(116,"p",50)(117,"span",51),i(118,"Approbation"),t(),C(119,"br"),w(120,un,4,0,"button",52)(121,_n,4,0,"button",53)(122,fn,4,0,"button",53),t(),w(123,hn,4,1,"div",54),t(),e(124,"div")(125,"p",55)(126,"span",37),i(127,"Faire \xE0 Abidjan le,"),t(),C(128,"br"),e(129,"span",38),i(130),D(131,"date"),t()()()()()()()()()()()()()()),a&2&&(l(13),h(13,n.loading==!0?13:-1),l(15),h(28,n.status_on==1?28:-1),l(),h(29,n.status_off==1?29:-1),l(),h(30,n.status_on==0&&n.status_off==0?30:-1),l(),h(31,n.show_comment_box==!0?31:-1),l(),h(32,n.show_comment_box==!0?32:-1),l(5),S("R\xE9f permission - #",n.conge_ref,""),l(23),E(k(61,21,n.conge_start,"d MMMM yyyy")),l(10),S(" ",n.duree_conge," "),l(2),tt(" du ",k(73,24,n.conge_start,"d MMMM yyyy")," au ",k(74,27,n.conge_end,"d MMMM yyyy")," "),l(10),E(n.objet_demande),l(20),E(n.customer_name),l(3),E(n.fonction),l(3),E(n.service),l(4),E(n.motif),l(8),h(120,n.status_on==1?120:-1),l(),h(121,n.status_off==1?121:-1),l(),h(122,n.status_on==0&&n.status_off==0?122:-1),l(),h(123,n.status_on==1||n.status_off==1?123:-1),l(7),E(k(131,30,n.created_at,"d MMMM yyyy, \xE0 HH:mm")))},dependencies:[Me,rt,A,N,Re,K,Z,st,Ge,qe,Je,X,ut,Qe,Ze,j,O,q,J,lt,Q]});let r=m;return r})();var Yt=r=>({itemsPerPage:20,currentPage:r});function gn(r,m){if(r&1&&(e(0,"mat-icon",16),i(1,"view_list"),t(),e(2,"span",17),i(3,"Liste des cong\xE9s"),t(),e(4,"span")(5,"button",18),i(6),t()()),r&2){let s=v();l(6),S(" ",s.conge_counter," ")}}function vn(r,m){r&1&&(e(0,"button",22)(1,"mat-icon",29),i(2,"verified"),t()())}function xn(r,m){r&1&&(e(0,"button",23)(1,"mat-icon",30),i(2,"verified"),t()())}function En(r,m){r&1&&(e(0,"button",24)(1,"mat-icon",31),i(2,"unpublished"),t()())}function Sn(r,m){if(r&1){let s=T();e(0,"tr")(1,"td"),i(2),t(),e(3,"td",19),i(4),t(),e(5,"td")(6,"p"),i(7),t()(),e(8,"td")(9,"p"),i(10),t()(),e(11,"td")(12,"p"),i(13),t()(),e(14,"td")(15,"button",20)(16,"mat-icon"),i(17,"check_circle"),t()()(),e(18,"td",21),w(19,vn,3,0,"button",22)(20,xn,3,0,"button",23)(21,En,3,0,"button",24),t(),e(22,"td",25)(23,"p"),i(24),D(25,"transformDate"),t()(),e(26,"td",25)(27,"button",26)(28,"mat-icon"),i(29,"more_vert"),t()(),e(30,"mat-menu",27,0)(32,"button",28),x("click",function(){let a=_(s).$implicit,n=v();return f(n.consulteConge(a))}),e(33,"mat-icon"),i(34,"visibility"),t(),i(35," Consulter "),t(),e(36,"button",28),x("click",function(){let a=_(s).$implicit,n=v();return f(n.openDeleDialog(a.slug))}),e(37,"mat-icon"),i(38,"delete"),t(),i(39," Supprimer "),t()()()()}if(r&2){let s=m.$implicit,o=m.$index,a=I(31);l(2),E(o+1),l(2),S(" ",s.motif," "),l(3),E(s.first_name+" "+s.last_name),l(3),E(s.fonction),l(3),E(s.service),l(2),u("matTooltip",s.new_actions==1?"Consult\xE9":"Nouveau"),l(),ye(s.new_actions==1?"text-primary":"text-warning"),l(3),h(19,s.status_on==1?19:-1),l(),h(20,s.status_off==1?20:-1),l(),h(21,s.status_on==0&&s.status_off==0?21:-1),l(3),E(k(25,13,s.created_at,"d MMMM yyyy, \xE0 HH:mm")),l(3),u("matMenuTriggerFor",a)}}function Cn(r,m){if(r&1&&(e(0,"mat-icon",16),i(1,"format_list_bulleted"),t(),e(2,"span",17),i(3,"Mes conges"),t(),e(4,"span")(5,"button",18),i(6),t()()),r&2){let s=v();l(6),S(" ",s.customer_conge_counter," ")}}function yn(r,m){r&1&&(e(0,"button",22)(1,"mat-icon",29),i(2,"verified"),t()())}function bn(r,m){r&1&&(e(0,"button",23)(1,"mat-icon",30),i(2,"verified"),t()())}function Mn(r,m){r&1&&(e(0,"button",24)(1,"mat-icon",31),i(2,"unpublished"),t()())}function wn(r,m){if(r&1){let s=T();e(0,"tr")(1,"td"),i(2),t(),e(3,"td",32),i(4),t(),e(5,"td")(6,"p"),i(7),t()(),e(8,"td")(9,"p"),i(10),t()(),e(11,"td")(12,"p"),i(13),t()(),e(14,"td")(15,"button",20)(16,"mat-icon"),i(17,"check_circle"),t()()(),e(18,"td",21),w(19,yn,3,0,"button",22)(20,bn,3,0,"button",23)(21,Mn,3,0,"button",24),t(),e(22,"td",25)(23,"p"),i(24),D(25,"transformDate"),t()(),e(26,"td",25)(27,"button",26)(28,"mat-icon"),i(29,"more_vert"),t()(),e(30,"mat-menu",27,0)(32,"button",28),x("click",function(){let a=_(s).$implicit,n=v();return f(n.consulteConge(a))}),e(33,"mat-icon"),i(34,"visibility"),t(),i(35," Consulter "),t()()()()}if(r&2){let s=m.$implicit,o=m.$index,a=I(31);l(2),E(o+1),l(2),S(" ",s.motif," "),l(3),E(s.customer_name),l(3),E(s.fonction),l(3),E(s.service),l(2),u("matTooltip",s.new_actions==1?"Consult\xE9":"Nouveau"),l(),ye(s.new_actions==1?"text-primary":"text-warning"),l(3),h(19,s.status_on==1?19:-1),l(),h(20,s.status_off==1?20:-1),l(),h(21,s.status_on==0&&s.status_off==0?21:-1),l(3),E(k(25,13,s.created_at,"d MMMM yyyy, \xE0 HH:mm")),l(3),u("matMenuTriggerFor",a)}}var Gt=(()=>{let m=class m{constructor(o,a,n,c,p,d){this._dialog=o,this._conge=a,this._notificationService=n,this._loading=c,this._router=p,this._userData=d,this.p=1,this.list_conges=[],this.list_customer_conges=[],this.conge_counter=0,this.customer_conge_counter=0,this.employe_matricule=""}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getCongesList()}consulteConge(o){this._dialog.open(zt,{panelClass:"fullscreen-dialog",data:o}).afterClosed().subscribe({next:n=>{}})}getCongesList(){this._loading.show_loading(),this._conge.getConge(this.employe_matricule).subscribe({next:o=>{setTimeout(()=>{console.log(o),this.list_conges=o.conge,this.conge_counter=this.list_conges.length,this.list_customer_conges=o.customer_conge,this.customer_conge_counter=this.list_customer_conges.length,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(ce,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this.deleteConge(o)}})}deleteConge(o){this._loading.show_loading(),this._conge.deleteDemandeConge(o).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getCongesList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(g(ne),g(ft),g(R),g(H),g(W),g(Pe))},m.\u0275cmp=P({type:m,selectors:[["app-ch-employees-conges"]],standalone:!0,features:[B],decls:72,vars:11,consts:[["beforeMenu","matMenu"],[1,"hero-body"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-body"],[1,"col-xxl-12","col-sm-12","col-12"],["mat-tab-label",""],[1,"table-responsive","mt-4"],[1,"table","table-striped","m-0"],[1,"div","text-center","mt-4"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],[1,"div","text-center"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"example-tab-icon","me-3"],[1,"fw-bolder","fs-5"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],[2,"white-space","unset !important"],["mat-icon-button","",3,"matTooltip"],[1,"text-center"],["matTooltip","Approuv\xE9","mat-icon-button",""],["matTooltip","R\xE9jet\xE9","mat-icon-button",""],["matTooltip","Aucune action","mat-icon-button",""],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"],[1,"text-primary"],[1,"text-red"],[1,"text-warning"],["width","400",2,"white-space","unset !important"]],template:function(a,n){a&1&&(e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",3)(7,"div",7)(8,"mat-tab-group")(9,"mat-tab"),w(10,gn,7,1,"ng-template",8),e(11,"div",9)(12,"table",10)(13,"thead")(14,"tr")(15,"th"),i(16,"#ID"),t(),e(17,"th"),i(18,"Motif"),t(),e(19,"th"),i(20,"Auteur"),t(),e(21,"th"),i(22,"Fonction"),t(),e(23,"th"),i(24,"Service"),t(),e(25,"th"),i(26,"Etat"),t(),e(27,"th"),i(28,"Statut"),t(),e(29,"th"),i(30,"Date de publication"),t(),e(31,"th"),i(32,"Actions"),t()()(),e(33,"tbody"),V(34,Sn,40,16,"tr",null,F),D(36,"paginate"),t()()(),e(37,"div",11)(38,"pagination-controls",12),x("pageChange",function(p){return n.p=p}),t()()(),e(39,"mat-tab"),w(40,Cn,7,1,"ng-template",8),e(41,"div",9)(42,"table",10)(43,"thead")(44,"tr")(45,"th"),i(46,"#ID"),t(),e(47,"th"),i(48,"Motif"),t(),e(49,"th"),i(50,"Auteur"),t(),e(51,"th"),i(52,"Fonction"),t(),e(53,"th"),i(54,"Service"),t(),e(55,"th"),i(56,"Etat"),t(),e(57,"th"),i(58,"Statut"),t(),e(59,"th"),i(60,"Date de publication"),t(),e(61,"th"),i(62,"Actions"),t()()(),e(63,"tbody"),V(64,wn,36,16,"tr",null,F),D(66,"paginate"),t()()(),e(67,"div",13)(68,"pagination-controls",12),x("pageChange",function(p){return n.p=p}),t()()()()()()()()()()()(),e(69,"ngx-spinner",14)(70,"p",15),i(71," Chargement en cours... "),t()()),a&2&&(l(34),L(k(36,1,n.list_conges,Y(7,Yt,n.p))),l(30),L(k(66,4,n.list_customer_conges,Y(9,Yt,n.p))),l(5),u("fullScreen",!0))},dependencies:[z,G,A,re,ae,le,N,fe,se,Oe,He,Ue,he,U,me,de,Xe,O,ee,j]});let r=m;return r})();var qt=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=P({type:m,selectors:[["app-ch-employees-gestion-paie"]],standalone:!0,features:[B],decls:2,vars:0,template:function(a,n){a&1&&(e(0,"p"),i(1,"ch-employees-gestion-paie works!"),t())}});let r=m;return r})();var Jt=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=P({type:m,selectors:[["app-ch-employees-evaluations"]],standalone:!0,features:[B],decls:2,vars:0,template:function(a,n){a&1&&(e(0,"p"),i(1,"ch-employees-evaluations works!"),t())}});let r=m;return r})();var Dn=r=>({itemsPerPage:10,currentPage:r}),Qt=(r,m)=>["/ch.detail-dossiers",r,m];function kn(r,m){r&1&&(e(0,"button",24)(1,"mat-icon",31),i(2,"verified"),t()())}function In(r,m){r&1&&(e(0,"button",25)(1,"mat-icon",31),i(2,"verified"),t()())}function Pn(r,m){r&1&&(e(0,"button",26)(1,"mat-icon",32),i(2,"pending"),t()())}function Bn(r,m){if(r&1){let s=T();e(0,"tr")(1,"td",14),i(2),t(),e(3,"td",14)(4,"a",19)(5,"div",20)(6,"mat-icon",21),i(7,"folder"),t(),e(8,"p",22),i(9),t()()()(),e(10,"td",14)(11,"p",23),i(12),t()(),e(13,"td",14),i(14),D(15,"transformDate"),t(),e(16,"td",14),w(17,kn,3,0,"button",24)(18,In,3,0,"button",25)(19,Pn,3,0,"button",26),t(),e(20,"td",14)(21,"button",27)(22,"mat-icon"),i(23,"more_vert"),t()(),e(24,"mat-menu",28,0)(26,"button",29)(27,"mat-icon"),i(28,"folder_open"),t(),i(29," Ouvrir "),t(),e(30,"button",30),x("click",function(){let a=_(s).$implicit,n=v();return f(n.updateDossiers(a))}),e(31,"mat-icon"),i(32,"border_color"),t(),i(33," Modifier "),t(),e(34,"button",30),x("click",function(){let a=_(s).$implicit,n=v();return f(n.openDeleDialog(a.slug))}),e(35,"mat-icon"),i(36,"delete"),t(),i(37," Supprimer "),t()()()()}if(r&2){let s=m.$implicit,o=m.$index,a=I(25);l(2),E(o+1),l(2),u("routerLink",vt(13,Qt,s.dossiers_code,s.slug)),l(5),E(s.libelle_dossiers),l(3),S("",s.first_name+" "+s.last_name," "),l(2),E(k(15,10,s.created_at," d MMMM YYYY ")),l(3),h(17,s.status_folder_on==1?17:-1),l(),h(18,s.status_folder_off==1?18:-1),l(),h(19,s.status_folder_on==0&&s.status_folder_off==0?19:-1),l(2),u("matMenuTriggerFor",a),l(5),u("routerLink",vt(16,Qt,s.dossiers_code,s.slug))}}var Zt=(()=>{let m=class m{constructor(o,a,n,c,p){this._dialog=o,this._traitement=a,this._notificationService=n,this._loading=c,this._router=p,this.list_dossiers=[],this.p=1}ngOnInit(){this.getDossiersList()}openDossiersDialog(){this._dialog.open(xt,{width:"auto"}).afterClosed().subscribe({next:a=>{a&&this.getDossiersList()}})}updateDossiers(o){this._dialog.open(xt,{width:"auto",data:o}).afterClosed().subscribe({next:n=>{n&&this.getDossiersList()}})}getDossiersList(){this._loading.show_loading(),this._traitement.getDossiers().subscribe({next:o=>{setTimeout(()=>{this.list_dossiers=o,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(ce,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this.deleteDossiers(o)}})}deleteDossiers(o){this._loading.show_loading(),this._traitement.deleteDossiers(o).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getDossiersList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(g(ne),g($),g(R),g(H),g(W))},m.\u0275cmp=P({type:m,selectors:[["app-ch-employees-folder-list"]],standalone:!0,features:[B],decls:44,vars:6,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"mat-elevation-z8"],[1,"d-flex","justify-content-between"],["mat-button","",1,"default__btn__lg","text-dark"],["mat-raised-button","","color","primary",1,"text-uppercase","default__btn__lg",3,"click"],[1,"table-responsive"],[1,"table","table-striped","mt-3","align-middle"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[3,"routerLink"],[1,"d-flex","align-items-center"],[1,"me-3","text-primary"],[1,"m-0","fw-bolder","fs-6"],[1,"m-b-0"],["matTooltip","Dossier valid\xE9","mat-icon-button",""],["matTooltip","Dossier rejet\xE9","mat-icon-button",""],["matTooltip","En entente de validation du dossier","mat-icon-button",""],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"],[1,"text-primary"],[1,"text-blue"]],template:function(a,n){a&1&&(e(0,"div",1)(1,"div",2)(2,"div",3),C(3,"div",4),t()()(),e(4,"div",5)(5,"div",6)(6,"div",7)(7,"mat-card",8)(8,"mat-card-header",9)(9,"mat-card-title")(10,"button",10)(11,"mat-icon"),i(12,"list"),t(),i(13," Liste des dossiers "),t()(),e(14,"button",11),x("click",function(){return n.openDossiersDialog()}),e(15,"mat-icon"),i(16,"add"),t(),i(17," Nouveau dossier "),t()(),e(18,"mat-card-content")(19,"div",12)(20,"table",13)(21,"thead")(22,"tr")(23,"th",14),i(24,"#Id"),t(),e(25,"th",14),i(26,"Libell\xE9 du dossier"),t(),e(27,"th",14),i(28,"Propri\xE9taire"),t(),e(29,"th",14),i(30,"Date de cr\xE9ation"),t(),e(31,"th",14),i(32,"Statut"),t(),e(33,"th",14),i(34,"Actions"),t()()(),e(35,"tbody"),V(36,Bn,38,19,"tr",null,F),D(38,"paginate"),t()(),e(39,"div",15)(40,"pagination-controls",16),x("pageChange",function(p){return n.p=p}),t()()()()()()()(),e(41,"ngx-spinner",17)(42,"p",18),i(43," Chargement en cours... "),t()()),a&2&&(l(36),L(k(38,1,n.list_dossiers,Y(4,Dn,n.p))),l(5),u("fullScreen",!0))},dependencies:[z,G,A,re,ae,le,N,ie,fe,se,he,mt,ct,pt,dt,U,me,de,O,ee,j,xe]});let r=m;return r})();var Kt=(()=>{let m=class m{constructor(o,a,n,c,p,d,Ce){this._notificationService=o,this._traitement=a,this._loadings=n,this._router=c,this.data=p,this._dialogRef=d,this._userData=Ce,this.notification_data="",this.adresse_email="",this.employe_matricule="",this.item_slug="",this.keyword="",this.keywords=""}ngOnInit(){this.data!=null&&(this.adresse_email=this.data.adresse_email,this.employe_matricule=this.data.employe_matricule,this.item_slug=this.data.item_slug,this.keyword=this.data.word,this.keywords=this.data.keywords)}sendNotification(){if(this.notification_data==""){this._notificationService.openSnackBarSimpleError("Le commentaire est obligatoire");return}let o={adresse_mail:this.adresse_email,keyword:this.keyword,keywords:this.keywords,notification_data:this.notification_data,slug:this.item_slug,employe_matricule:this.employe_matricule};this._loadings.show_loading(),this._traitement.sendNotification(o).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loadings.hide_loading(),this._dialogRef.close(!0)},1e3):(a.code==302||a.code==300)&&(this._loadings.hide_loading(),this._notificationService.openSnackBarError(a))}})}};m.\u0275fac=function(a){return new(a||m)(g(R),g($),g(H),g(W),g(Ye),g(ze),g(Pe))},m.\u0275cmp=P({type:m,selectors:[["app-notify-dialog"]],standalone:!0,features:[B],decls:24,vars:3,consts:[["mat-dialog-title",""],[1,"text-primary","fw-bolder"],[1,"text-red","fw-bolder"],["mat-dialog-content",""],[1,"row","mt-2"],[1,"col-md-12","col-lg-12"],["appearance","outline"],["cols","3","matInput","","placeholder","Votre commentaire",3,"ngModelChange","ngModel"],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-fab","","extended","","color","primary","mat-dialog-close",""],["mat-fab","","extended","","color","primary",3,"click"]],template:function(a,n){a&1&&(e(0,"h1",0),i(1,"Vous allez envoyer une notification \xE0 l'employ\xE9 "),e(2,"span",1),i(3),t(),i(4," pour le rejet de son document: "),e(5,"span",2),i(6),t(),i(7," . "),t(),e(8,"div",3)(9,"div",4)(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),i(13,"Votre commentaire"),t(),e(14,"textarea",7),M("ngModelChange",function(p){return b(n.notification_data,p)||(n.notification_data=p),p}),t()()()()(),e(15,"div",8)(16,"button",9)(17,"mat-icon"),i(18,"reply"),t(),i(19," Annuler "),t(),e(20,"button",10),x("click",function(){return n.sendNotification()}),e(21,"mat-icon"),i(22,"update"),t(),i(23," Modifier "),t()()),a&2&&(l(3),S("#",n.employe_matricule,""),l(3),S("# ",n.keyword,""),l(8),y("ngModel",n.notification_data))},dependencies:[Me,A,N,Re,K,Z,Ge,qe,Bt,Je,X,j,O,q,J,Q]});let r=m;return r})();var Fn=r=>({itemsPerPage:10,currentPage:r});function Vn(r,m){r&1&&(e(0,"div",31)(1,"div",32)(2,"b",33),i(3,"Action \xE0 faire ! "),t(),e(4,"span"),i(5,"Vous devez donner votre approbation aux documents fournirent sous-dessous !"),t(),C(6,"button",34),t()())}function Ln(r,m){r&1&&(e(0,"div",31)(1,"div",35)(2,"b",33),i(3,"F\xE9licitation!"),t(),i(4," Vous avez approuver les documents fournirent ! "),C(5,"button",34),t()())}function jn(r,m){if(r&1&&(e(0,"div",16),w(1,Vn,7,0,"div",31)(2,Ln,6,0,"div",31),t()),r&2){let s=v();l(),h(1,s.decision_validation=="is_not_validate_all"?1:-1),l(),h(2,s.decision_validation=="is_validate_all"?2:-1)}}function Wn(r,m){if(r&1){let s=T();e(0,"div",17)(1,"div",36)(2,"mat-form-field",37)(3,"mat-label"),i(4,"Libell\xE9 du fichier "),e(5,"code",38),i(6,"*"),t()(),e(7,"input",39),M("ngModelChange",function(a){_(s);let n=v();return b(n.libelle_fichier,a)||(n.libelle_fichier=a),f(a)}),t()()(),e(8,"div",40)(9,"input",41),x("change",function(a){_(s);let n=v();return f(n.uploadFile(a))}),t(),e(10,"label",42),i(11,"Joindre un fichier "),t()(),e(12,"div",5)(13,"button",24),x("click",function(){_(s);let a=v();return f(a.openDossiersDialog())}),e(14,"mat-icon"),i(15,"add"),t(),i(16," Enregistrer dans le dossier "),t()()()}if(r&2){let s=v();l(7),y("ngModel",s.libelle_fichier)}}function Nn(r,m){r&1&&(e(0,"button",51)(1,"mat-icon",58),i(2,"verified"),t()())}function An(r,m){r&1&&(e(0,"button",52)(1,"mat-icon",59),i(2,"verified"),t()())}function Rn(r,m){r&1&&(e(0,"button",53)(1,"mat-icon",61),i(2,"pending"),t()())}function On(r,m){if(r&1){let s=T();e(0,"tr")(1,"td",5),i(2),t(),e(3,"td",5)(4,"a",43)(5,"div",44)(6,"mat-icon",45),i(7,"description"),t(),e(8,"p",46),i(9),t()()()(),e(10,"td",5)(11,"p",47),i(12),t()(),e(13,"td",5)(14,"div",48)(15,"mat-icon",45),i(16,"folder"),t(),e(17,"p",49),i(18),t()()(),e(19,"td",50),i(20),D(21,"transformDate"),t(),e(22,"td",50),i(23),D(24,"transformDate"),t(),e(25,"td",5),w(26,Nn,3,0,"button",51)(27,An,3,0,"button",52)(28,Rn,3,0,"button",53),t(),e(29,"td",5)(30,"button",54)(31,"mat-icon"),i(32,"more_vert"),t()(),e(33,"mat-menu",55,0)(35,"a",56)(36,"mat-icon"),i(37,"visibility"),t(),i(38," Ouvrir "),t(),e(39,"button",57),x("click",function(){let a=_(s).$implicit,n=v();return f(n.confirmedOrRejetedFile("confirmed",a))}),e(40,"mat-icon",58),i(41,"check_circle"),t(),i(42," Approuver "),t(),e(43,"button",57),x("click",function(){let a=_(s).$implicit,n=v();return f(n.confirmedOrRejetedFile("rejected",a))}),e(44,"mat-icon",59),i(45,"check_circle"),t(),i(46," Rejeter "),t(),e(47,"button",60),x("click",function(){let a=_(s).$implicit,n=v();return f(n.updateDossiersFile(a))}),e(48,"mat-icon"),i(49,"border_color"),t(),i(50," Modifier "),t(),e(51,"button",60),x("click",function(){let a=_(s).$implicit,n=v();return f(n.openDeleDialog(a.slug))}),e(52,"mat-icon"),i(53,"delete"),t(),i(54," Supprimer "),t()()()()}if(r&2){let s=m.$implicit,o=m.$index,a=I(34);l(2),E(o+1),l(2),u("href",s.file_url,oe),l(5),E(s.libelle_file),l(3),S("",s.first_name+" "+s.last_name," "),l(6),E(s.libelle_dossiers),l(2),E(k(21,14,s.created_at," d MMMM YYYY ")),l(3),E(k(24,17,s.updated_at," d MMMM YYYY ")),l(3),h(26,s.status_on==1?26:-1),l(),h(27,s.status_off==1?27:-1),l(),h(28,s.status_on==0&&s.status_off==0?28:-1),l(2),u("matMenuTriggerFor",a),l(5),u("href",s.file_url,oe),l(4),u("disabled",s.status_on==1&&s.status_off==0),l(4),u("disabled",s.status_on==0&&s.status_off==1)}}var Xt=(()=>{let m=class m{constructor(o,a,n,c,p,d){this._dialog=o,this._traitement=a,this._notificationService=n,this._loading=c,this._router=p,this._activeRouter=d,this.list_files=[],this.p=1,this.add_file=!1,this.libelle_fichier="",this.decision_validation=""}ngOnInit(){this.dossiers_code=this._activeRouter.snapshot.paramMap.get("dossiers_code"),this.item_slug=this._activeRouter.snapshot.paramMap.get("slug"),this._loading.show_loading(),setTimeout(()=>{this.getDossiersFileList(),this._loading.hide_loading()},1e3)}uploadFile(o){this.file_url=o.target.files[0]}openDossiersDialog(){let o={dossiers_code:this.dossiers_code};this._dialog.open(Et,{width:"auto",data:o}).afterClosed().subscribe({next:n=>{n&&this.getDossiersFileList()}})}updateDossiersFile(o){let a={dossiers_code:this.dossiers_code,items_data:o};this._dialog.open(Et,{width:"auto",data:a}).afterClosed().subscribe({next:c=>{c&&this.getDossiersFileList()}})}getDossiersFileList(){this._traitement.ShowFoldersFile(this.dossiers_code).subscribe({next:o=>{console.log(o),setTimeout(()=>{this.list_files=o.ducoment_data,this.list_file_lenght=this.list_files.length,this.decision_validation=o.is_decision},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(ce,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this.deleteDossiers(o)}})}deleteDossiers(o){this._loading.show_loading(),this._traitement.deleteDossiers(o).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getDossiersFileList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}confirmedOrRejetedFile(o,a){if(o=="confirmed"){let n={adresse_email:a.adresse_email,slug:a.slug,keywords:o};this._loading.show_loading(),this._traitement.sendNotification(n).subscribe({next:c=>{c.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(c),this._loading.hide_loading(),this.getDossiersFileList()},1e3):(c.code==302||c.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(c))}})}else if(o=="rejected"){let n={adresse_email:a.adresse_email,employe_matricule:a.matricule,item_slug:a.slug,word:a.libelle_file,keywords:o};this._dialog.open(Kt,{width:"auto",data:n}).afterClosed().subscribe({next:p=>{this.getDossiersFileList()}})}else return}};m.\u0275fac=function(a){return new(a||m)(g(ne),g($),g(R),g(H),g(W),g(Ae))},m.\u0275cmp=P({type:m,selectors:[["app-employees-folder-details"]],standalone:!0,features:[B],decls:89,vars:8,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-xl-12","col-md-8","col-sm-9","col-10"],[1,"text-center"],[1,"card"],[1,"card-header"],[1,"card-title","text-yellow"],["mat-button","",1,"text-red","fw-bolder","fs-5"],[1,"card-body"],[1,"mb-2","fw-bolder"],[1,"row","mb-3"],[1,"col-4"],[1,"list-group","list-group-numbered","text-start"],[1,"list-group-item"],[1,"row"],[1,"row","gx-3","justify-content-center"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"mat-elevation-z8"],[1,"d-flex","justify-content-between"],["mat-button","",1,"fw-bolder","default__btn__lg","text-dark"],["mat-raised-button","","color","primary",1,"text-uppercase","default__btn__lg",3,"click"],[1,"table-responsive"],[1,"table","table-striped","mt-3","align-middle"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"col-12"],["role","alert",1,"alert","box-bdr-red","alert-dismissible","fade","show","text-red","fw-bolder"],[1,"fs-5"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],["role","alert",1,"alert","box-bdr-green","alert-dismissible","fade","show","text-green","fw-bolder"],[1,"col-lg-4","col-md-6","col-sm-12"],["appearance","outline"],[1,"fs-4"],["matInput","","placeholder","Libell\xE9 du fichier",3,"ngModelChange","ngModel"],[1,"col-md-6","col-lg-4"],["id","formFileLg","type","file",1,"form-control","form-control-lg",3,"change"],["for","formFileLg",1,"form-label","text-danger"],["target","_blank",3,"href"],[1,"d-flex","text-start"],[1,"me-3","text-primary"],[1,"m-0","fw-bolder","text-uppercase","fs-6"],[1,"m-b-0","fw-bolder","fs-6"],[1,"d-flex","justify-content-center"],[1,"m-0","fw-bolder","fs-6"],[1,"text-center","fw-bolder","fs-6","text-primary"],["matTooltip","Document valid\xE9","mat-icon-button",""],["matTooltip","Document rejet\xE9","mat-icon-button",""],["matTooltip","En entente de validation du document","mat-icon-button",""],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["target","_blank","mat-menu-item","",3,"href"],["mat-menu-item","",3,"click","disabled"],[1,"text-primary"],[1,"text-red"],["mat-menu-item","",3,"click"],[1,"text-blue"]],template:function(a,n){a&1&&(e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"button",9)(9,"mat-icon"),i(10,"notifications"),t(),i(11," A votre attention! "),t()()(),e(12,"div",10)(13,"p",11),i(14," Liste des documents \xE0 fornir "),C(15,"br"),t(),e(16,"div",12)(17,"div",13)(18,"ul",14)(19,"li",15),i(20," Dipl\xF4mes et certificat(s) de formation "),t(),e(21,"li",15),i(22," 1 Photocopie de votre pi\xE8ce d\u2019identit\xE9 "),t(),e(23,"li",15),i(24," 1 Extrait du casier judiciaire "),t(),e(25,"li",15),i(26," 1 Certificat de r\xE9sidence "),t()()(),e(27,"div",13)(28,"ul",14)(29,"li",15),i(30," 1 Extrait d\u2019acte de mariage "),t(),e(31,"li",15),i(32," 1 Photocopie de l\u2019extrait d\u2019acte de naissance du conjoint et de chaque enfant "),t(),e(33,"li",15),i(34," 2 Photos d\u2019identit\xE9 du conjoint et de chaque enfant "),t()()(),e(35,"div",13)(36,"ul",14)(37,"li",15),i(38," 1 Certificat de travail "),t(),e(39,"li",15),i(40," 1 Curriculum Vitae "),t(),e(41,"li",15),i(42," 1 Relev\xE9 d\u2019Identit\xE9 Bancaire (RIB) "),t()()()(),w(43,jn,3,2,"div",16),t()()()()(),w(44,Wn,17,1,"div",17),t()(),e(45,"div",18)(46,"div",19)(47,"div",20)(48,"mat-card",21)(49,"mat-card-header",22)(50,"mat-card-title")(51,"button",23)(52,"mat-icon"),i(53,"list"),t(),i(54," Liste des documents "),t(),e(55,"button",24),x("click",function(){return n.openDossiersDialog()}),e(56,"mat-icon"),i(57,"add"),t(),i(58," Nouveau "),t()()(),e(59,"mat-card-content")(60,"div",25)(61,"table",26)(62,"thead")(63,"tr")(64,"th",5),i(65,"#Id"),t(),e(66,"th",5),i(67,"Libell\xE9 du dossier"),t(),e(68,"th",5),i(69,"Propri\xE9taire"),t(),e(70,"th",5),i(71,"Emplacement"),t(),e(72,"th",5),i(73,"Date de cr\xE9ation"),t(),e(74,"th",5),i(75,"Date de modification"),t(),e(76,"th",5),i(77,"Statut"),t(),e(78,"th",5),i(79,"Actions"),t()()(),e(80,"tbody"),V(81,On,55,20,"tr",null,F),D(83,"paginate"),t()(),e(84,"div",27)(85,"pagination-controls",28),x("pageChange",function(p){return n.p=p}),t()()()()()()()(),e(86,"ngx-spinner",29)(87,"p",30),i(88," Chargement en cours... "),t()()),a&2&&(l(43),h(43,n.list_file_lenght!=0?43:-1),l(),h(44,n.add_file==!0?44:-1),l(37),L(k(83,3,n.list_files,Y(6,Fn,n.p))),l(5),u("fullScreen",!0))},dependencies:[z,G,A,re,ae,le,N,ie,fe,se,K,Z,X,he,mt,ct,pt,dt,U,me,de,O,q,J,Q,ee,j]});let r=m;return r})();function Hn(r,m){r&1&&C(0,"mat-progress-bar",9)}function Un(r,m){r&1&&(e(0,"div",18)(1,"mat-icon",60),i(2,"notifications"),t(),i(3," Vous avez d\xE9j\xE0 donn\xE9 votre approbation \xE0 cette permission. "),t())}function zn(r,m){r&1&&(e(0,"div",19)(1,"mat-icon",12),i(2,"notifications"),t(),i(3," Vous avez d\xE9j\xE0 donn\xE9 votre approbation \xE0 cette permission. "),t())}function Yn(r,m){if(r&1){let s=T();e(0,"div",20)(1,"mat-radio-group",61),x("change",function(a){_(s);let n=v();return f(n.PermissionDecisionChange(a))}),e(2,"mat-radio-button",62)(3,"span",63),i(4,"Approuver"),t()(),e(5,"mat-radio-button",64)(6,"span",63),i(7,"Rejeter"),t()()()()}}function Gn(r,m){if(r&1){let s=T();e(0,"div",20)(1,"mat-form-field",65)(2,"mat-label"),i(3,"Laissez une note sur la d\xE9cision..."),t(),e(4,"textarea",66),M("ngModelChange",function(a){_(s);let n=v();return b(n.decision_comments,a)||(n.decision_comments=a),f(a)}),t(),e(5,"mat-hint",67)(6,"strong"),i(7,"Nombre de caract\xE8re limit\xE9 \xE0 160"),t()(),e(8,"mat-hint",68),i(9),t()()()}if(r&2){let s=v();l(4),y("ngModel",s.decision_comments),l(5),S("",s.decision_comments.length," / 160")}}function qn(r,m){if(r&1){let s=T();e(0,"div")(1,"button",69),x("click",function(){_(s);let a=v();return f(a.saveDecision())}),e(2,"mat-icon"),i(3,"save"),t(),i(4," Enregistrer votre d\xE9cision "),t()()}}function Jn(r,m){if(r&1&&(e(0,"a",24),i(1," Ouvrir le fichier ici "),e(2,"mat-icon"),i(3,"visibility"),t()()),r&2){let s=v();u("href",s.justificatif,oe)}}function Qn(r,m){r&1&&(e(0,"span",25),i(1,"Aucune pi\xE8ce jointe"),t())}function Zn(r,m){if(r&1&&(e(0,"span",42),i(1),D(2,"date"),t()),r&2){let s=v();l(),E(k(2,1,s.date_permission,"d MMMM yyyy"))}}function Kn(r,m){if(r&1&&(e(0,"span",42),i(1),D(2,"date"),t()),r&2){let s=v();l(),E(k(2,1,s.permission_start,"d MMMM yyyy"))}}function Xn(r,m){if(r&1&&(e(0,"span",23)(1,"span",70),i(2),t(),C(3,"br"),i(4),t()),r&2){let s=v();l(2),S(" ",s.duree_permission," "),l(2),tt(" de ",s.permission_start," \xE0 ",s.permission_end," ")}}function $n(r,m){if(r&1&&(e(0,"span",23)(1,"span",70),i(2),t(),C(3,"br"),i(4),D(5,"date"),D(6,"date"),t()),r&2){let s=v();l(2),S(" ",s.duree_permission," "),l(2),tt(" du ",k(5,3,s.permission_start,"d MMMM yyyy")," au ",k(6,6,s.permission_end,"d MMMM yyyy")," ")}}function eo(r,m){r&1&&(e(0,"span",50),i(1,"Non justifi\xE9 "),t())}function to(r,m){r&1&&(e(0,"span",50),i(1,"Justifi\xE9 "),t())}function io(r,m){r&1&&(e(0,"button",56)(1,"mat-icon"),i(2,"verified"),t(),i(3," Permission approuv\xE9e "),t())}function no(r,m){r&1&&(e(0,"button",57)(1,"mat-icon"),i(2,"verified"),t(),i(3," Permission r\xE9jet\xE9e "),t())}function oo(r,m){r&1&&(e(0,"button",57)(1,"mat-icon"),i(2,"no_accounts"),t(),i(3," Accune action "),t())}function ao(r,m){if(r&1&&(e(0,"div",58)(1,"mat-icon",71),i(2,"notifications"),t(),i(3),t()),r&2){let s=v();l(3),S(" ",s.comments," ")}}var ei=(()=>{let m=class m{constructor(o,a,n,c,p){this._notificationService=o,this._permission=a,this._router=n,this.data=c,this._dialogRef=p,this.item_slug="",this.permission_ref="",this.type_duration="",this.date_permission="",this.motif="",this.fonction="",this.service="",this.created_at="",this.status_on=0,this.status_off=0,this.permission_start="",this.permission_end="",this.duree_permission="",this.customer_name="",this.justificatif="",this.show_comment_box=!1,this.decision="",this.decision_comments="",this.comments="",this.loading=!1}ngOnInit(){this.data!=null&&(this.item_slug=this.data.slug),this.updateIsConsultingStatus(),this.getCurrentPermissionInfo()}getCurrentPermissionInfo(){this._permission.showPermission(this.item_slug).subscribe({next:o=>{console.log(o),this.permission_data=o,this.type_duration=o.type_duration,this.permission_ref=o.permission_ref,this.date_permission=o.date_permission,this.fonction=o.fonction,this.justificatif=o.permission_file,this.service=o.service,this.permission_start=o.permission_start,this.permission_end=o.permission_end,this.duree_permission=o.duree_permission,this.customer_name=o.first_name+" "+o.last_name,this.motif=o.motif,this.created_at=o.created_at,this.comments=o.comments,this.status_on=o.status_on,this.status_off=o.status_off},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}PermissionDecisionChange(o){let a=o.value;a=="approved"?(this.show_comment_box=!0,this.decision=a):a=="rejected"?(this.show_comment_box=!0,this.decision=a):(this.show_comment_box=!1,this.decision="")}saveDecision(){let o={decison:this.decision,decision_comments:this.decision_comments,slug:this.item_slug};console.log(o),this.loading=!0,this._permission.approvedOrRejectedPermission(o).subscribe({next:a=>{a.code==200?(this._notificationService.openSnackBarSuccess(a),setTimeout(()=>{this.loading=!1,this.getCurrentPermissionInfo(),this.show_comment_box=!1},1e3)):(a.code==300||a.code==500||a.code==302)&&(this.loading=!1,this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updateIsConsultingStatus(){this._permission.updateIsConsultingStatus(this.item_slug).subscribe({next:o=>{o.code==200?this._notificationService.openSnackBarSuccess(o):o.code==300||o.code==500||o.code==302?(this.loading,this._notificationService.openSnackBarError(o)):o.code==201&&(this.loading,this._notificationService.openSnackBarInfo(o))},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}printPermission(){var o=document.querySelector("#permission_card")?.innerHTML,a=document.body.innerHTML;document.body.innerHTML=o,window.print(),document.body.innerHTML=a,location.reload()}};m.\u0275fac=function(a){return new(a||m)(g(R),g(Ke),g(W),g(Ye),g(ze))},m.\u0275cmp=P({type:m,selectors:[["app-ch-detail-permissions"]],standalone:!0,features:[B],decls:130,vars:27,consts:[["mat-dialog-title",""],["mat-fab","","extended","","color","primary","mat-dialog-close",""],["mat-dialog-content","",2,"max-height","95vh"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"row"],[1,"col-lg-5","col-md-5"],[1,"card"],["mode","indeterminate"],[1,"card-header","d-flex","justify-content-between","mb-3"],[1,"me-2"],[1,"text-red"],[1,"card-title","text-primary","fs-5","fw-bolder"],[1,"text-end"],["mat-fab","",1,"",3,"click"],[1,"card-body","text-center","position-relative","pt-4"],[1,"card-title","fs-3","mb-3","text-center"],["role","alert",1,"alert","box-bdr-green","alert-dismissible","fade","show","text-green"],["role","alert",1,"alert","box-bdr-red","alert-dismissible","fade","show","text-red"],[1,"col-md-12","col-lg-12","mb-4"],[1,"card-footer"],[1,"d-flex","justify-content-between","gap-3"],[1,"fw-bolder"],["target","_blank","mat-flat-button","",3,"href"],[1,"fw-bolder","text-danger"],[1,"col-lg-7","col-md-7"],["id","permission_card",1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","align-items-center","mb-4"],[1,"col-xl-2","col-sm-3","col-12"],["src","assets/media/logoai.png","width","100","alt","",1,"img-fluid"],[1,"col-xl-10","col-sm-9","col-12"],[1,"text-end","m-0","fw-bolder"],[1,"fw-bolder","fs-5"],[1,"col-sm-12","col-12"],[1,"text-center","mb-3"],[1,"fw-bolder","text-uppercase"],[1,"d-flex","justify-content-end","my-4"],[1,"m-0"],[1,"fw-bolder","text-red","text-uppercase"],[1,"row","gx-3","mb-2"],[1,"col-sm-12","col-12","mb-3"],[1,"col-12"],[1,"table-responsive","mb-3"],[1,"table","table-bordered"],[1,"text-center","text-uppercase"],[1,"text-center"],[1,"text-center","text-red","fw-bolder"],[1,"text-uppercase","mb-4"],[1,"fw-bolder","mb-4"],[1,"d-flex","justify-content-between"],[1,"m-0","text-start","mb-4"],[1,"fw-bolder","text-start"],["mat-fab","","extended","","color","primary"],["mat-fab","","extended","","color","warn"],["role","alert",1,"alert","alert-light","alert-dismissible","fade","show"],[1,"m-0","text-end"],[1,"text-danger"],["aria-label","Select an option",3,"change"],["value","approved"],[1,"fw-bolder","fs-4"],["value","rejected"],[1,"example-full-width"],["matInput","","maxlength","160","placeholder","Ex. permission approuv\xE9e...",3,"ngModelChange","ngModel"],["align","start"],["align","end"],["mat-fab","","extended","","color","primary",1,"w-100",3,"click"],[1,"fw-bolder","text-red"],[1,"text-danger","alert-icon"]],template:function(a,n){a&1&&(e(0,"h1",0),i(1," D\xE9tail de la permission "),e(2,"button",1)(3,"mat-icon"),i(4,"reply"),t(),i(5," Fermer "),t()(),e(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8),w(13,Hn,1,0,"mat-progress-bar",9),e(14,"div",10)(15,"span",11)(16,"mat-icon",12),i(17,"notifications"),t()(),e(18,"div",13),i(19," R\xE9server au responsable du capital humain "),t(),e(20,"div",14)(21,"button",15),x("click",function(){return n.printPermission()}),e(22,"mat-icon"),i(23,"print"),t()()()(),e(24,"div",16)(25,"div",17),i(26,"D\xE9cision de la permission"),t(),e(27,"div",6),w(28,Un,4,0,"div",18)(29,zn,4,0,"div",19)(30,Yn,8,0,"div",20)(31,Gn,10,2,"div",20)(32,qn,5,0,"div"),t()(),e(33,"div",21)(34,"div",22)(35,"span",23),i(36,"Pi\xE8ce justificatif"),t(),w(37,Jn,4,1,"a",24)(38,Qn,2,0,"span",25),t()()()(),e(39,"div",26)(40,"div",27)(41,"div",28)(42,"div",29),i(43),t()(),e(44,"div",30)(45,"div",31)(46,"div",32),C(47,"img",33),t(),e(48,"div",34)(49,"p",35)(50,"span",36),i(51,"ALERTE"),C(52,"br"),i(53," INFO "),t()()()(),e(54,"div",4)(55,"div",37)(56,"div",38)(57,"h1",39),i(58," demande de permission "),t()(),e(59,"div",40)(60,"div")(61,"p",41)(62,"span",23),i(63,"Date de la demande,"),t(),C(64,"br"),w(65,Zn,3,4,"span",42)(66,Kn,3,4,"span",42),t()()()()(),e(67,"div",43)(68,"div",44)(69,"p",41)(70,"span",23),i(71,"Dur\xE9e de la permission,"),t(),C(72,"br"),w(73,Xn,5,3,"span",23)(74,$n,7,9,"span",23),t()()(),e(75,"div",4)(76,"div",45)(77,"div",46)(78,"table",47)(79,"thead")(80,"tr")(81,"th")(82,"span",48),i(83,"Nom & Pr\xE9nom"),t()(),e(84,"th")(85,"span",48),i(86,"Fonction"),t()(),e(87,"th")(88,"span",48),i(89,"Service"),t()(),e(90,"th")(91,"span",48),i(92,"Justificatif"),t()()()(),e(93,"tbody")(94,"tr")(95,"td")(96,"span",49),i(97),t()(),e(98,"td")(99,"span",49),i(100),t()(),e(101,"td")(102,"span",49),i(103),t()(),e(104,"td"),w(105,eo,2,0,"span",50)(106,to,2,0,"span",50),t()()()()(),e(107,"p",51),i(108,"Motif de la permission: "),t(),e(109,"p",52),i(110),t(),C(111,"br"),e(112,"div",53)(113,"div")(114,"p",54)(115,"span",55),i(116,"Approbation"),t(),C(117,"br"),w(118,io,4,0,"button",56)(119,no,4,0,"button",57)(120,oo,4,0,"button",57),t(),w(121,ao,4,1,"div",58),t(),e(122,"div")(123,"p",59)(124,"span",23),i(125,"Faire \xE0 Abidjan le,"),t(),C(126,"br"),e(127,"span",42),i(128),D(129,"date"),t()()()()()()()()()()()()()()),a&2&&(l(13),h(13,n.loading==!0?13:-1),l(15),h(28,n.status_on==1?28:-1),l(),h(29,n.status_off==1?29:-1),l(),h(30,n.status_on==0&&n.status_off==0?30:-1),l(),h(31,n.show_comment_box==!0?31:-1),l(),h(32,n.show_comment_box==!0?32:-1),l(5),h(37,n.justificatif!=null?37:-1),l(),h(38,n.justificatif==null?38:-1),l(5),S("R\xE9f permission - #",n.permission_ref,""),l(22),h(65,n.type_duration=="hour"?65:-1),l(),h(66,n.type_duration=="date"?66:-1),l(7),h(73,n.type_duration=="hour"?73:-1),l(),h(74,n.type_duration=="date"?74:-1),l(23),E(n.customer_name),l(3),E(n.fonction),l(3),E(n.service),l(2),h(105,n.justificatif==null?105:-1),l(),h(106,n.justificatif!=null?106:-1),l(4),E(n.motif),l(8),h(118,n.status_on==1?118:-1),l(),h(119,n.status_off==1?119:-1),l(),h(120,n.status_on==0&&n.status_off==0?120:-1),l(),h(121,n.status_on==1||n.status_off==1?121:-1),l(7),E(k(129,24,n.created_at,"d MMMM yyyy, \xE0 HH:mm")))},dependencies:[Me,rt,A,N,kt,Re,K,Z,st,Ge,qe,Je,X,ut,Qe,Ze,j,O,q,J,lt,Q]});let r=m;return r})();var ti=r=>({itemsPerPage:20,currentPage:r}),ii=r=>["/ch.detail-permissions",r],ro=r=>["/ch.edit-permissions",r];function lo(r,m){if(r&1&&(e(0,"mat-icon",15),i(1,"view_list"),t(),e(2,"span",16),i(3,"Liste des permissions"),t(),e(4,"span")(5,"button",17),i(6),t()()),r&2){let s=v();l(6),S(" ",s.permission_counter," ")}}function so(r,m){r&1&&(e(0,"button",22)(1,"mat-icon",29),i(2,"verified"),t()())}function mo(r,m){r&1&&(e(0,"button",23)(1,"mat-icon",30),i(2,"verified"),t()())}function co(r,m){r&1&&(e(0,"button",24)(1,"mat-icon",31),i(2,"unpublished"),t()())}function po(r,m){if(r&1){let s=T();e(0,"tr")(1,"td"),i(2),t(),e(3,"td",18)(4,"a",19),i(5),t()(),e(6,"td")(7,"p"),i(8),t()(),e(9,"td")(10,"p"),i(11),D(12,"transformText"),t()(),e(13,"td")(14,"p"),i(15),D(16,"transformText"),t()(),e(17,"td")(18,"button",20)(19,"mat-icon"),i(20,"check_circle"),t()()(),e(21,"td",21),w(22,so,3,0,"button",22)(23,mo,3,0,"button",23)(24,co,3,0,"button",24),t(),e(25,"td",25)(26,"p"),i(27),D(28,"transformDate"),t()(),e(29,"td",25)(30,"button",26)(31,"mat-icon"),i(32,"more_vert"),t()(),e(33,"mat-menu",27,0)(35,"button",28),x("click",function(){let a=_(s).$implicit,n=v();return f(n.consultePermission(a))}),e(36,"mat-icon"),i(37,"visibility"),t(),i(38," Consulter "),t()()()()}if(r&2){let s=m.$implicit,o=m.$index,a=I(34);l(2),E(o+1),l(2),u("routerLink",Y(21,ii,s.slug)),l(),S(" ",s.motif," "),l(3),E(s.first_name+" "+s.last_name),l(3),E(Ne(12,14,s.fonction)),l(4),E(Ne(16,16,s.service)),l(3),u("matTooltip",s.new_actions==1?"Consult\xE9e":"Nouveau"),l(),ye(s.new_actions==1?"text-primary":"text-warning"),l(3),h(22,s.status_on==1?22:-1),l(),h(23,s.status_off==1?23:-1),l(),h(24,s.status_on==0&&s.status_off==0?24:-1),l(3),E(k(28,18,s.created_at,"d MMMM yyyy, \xE0 HH:mm")),l(3),u("matMenuTriggerFor",a)}}function uo(r,m){if(r&1&&(e(0,"mat-icon",15),i(1,"format_list_bulleted"),t(),e(2,"span",16),i(3,"Mes permissions"),t(),e(4,"span")(5,"button",17),i(6),t()()),r&2){let s=v();l(6),S(" ",s.customer_permission_counter," ")}}function _o(r,m){r&1&&(e(0,"span",34),i(1," Approuv\xE9e "),t())}function fo(r,m){r&1&&(e(0,"span",35),i(1," R\xE9jet\xE9e "),t())}function ho(r,m){r&1&&(e(0,"span",36),i(1," Accune action "),t())}function go(r,m){if(r&1){let s=T();e(0,"tr")(1,"td"),i(2),t(),e(3,"td",18)(4,"a",32),i(5),t()(),e(6,"td")(7,"p",33),i(8),t()(),e(9,"td")(10,"p",33),i(11),t()(),e(12,"td")(13,"p",33),i(14),t()(),e(15,"td")(16,"span"),i(17),t()(),e(18,"td",21),w(19,_o,2,0,"span",34)(20,fo,2,0,"span",35)(21,ho,2,0,"span",36),t(),e(22,"td",25)(23,"p",33),i(24),D(25,"transformDate"),t()(),e(26,"td",25)(27,"button",26)(28,"mat-icon"),i(29,"more_vert"),t()(),e(30,"mat-menu",27,0)(32,"button",28),x("click",function(){let a=_(s).$implicit,n=v();return f(n.consultePermission(a))}),e(33,"mat-icon"),i(34,"visibility"),t(),i(35," Consulter "),t(),e(36,"button",37)(37,"mat-icon"),i(38,"border_color"),t(),i(39," Modifier "),t(),e(40,"button",28),x("click",function(){let a=_(s).$implicit,n=v();return f(n.deletePermission(a.slug))}),e(41,"mat-icon"),i(42,"delete"),t(),i(43," Supprimer "),t()()()()}if(r&2){let s=m.$implicit,o=m.$index,a=I(31);l(2),E(o+1),l(2),u("routerLink",Y(18,ii,s.slug)),l(),S(" ",s.motif," "),l(3),E(s.customer_name),l(3),E(s.fonction),l(3),E(s.service),l(2),ye(s.new_actions==1?"badge rounded-pill shade-light-green fw-bolder fs-6":"badge rounded-pill shade-light-red fw-bolder fs-6"),l(),S(" ",s.new_actions==1?"Consulter":"Nouveau"," "),l(2),h(19,s.status_on==1?19:-1),l(),h(20,s.status_off==1?20:-1),l(),h(21,s.status_on==0&&s.status_off==0?21:-1),l(3),E(k(25,15,s.created_at,"d MMMM yyyy, \xE0 HH:mm")),l(3),u("matMenuTriggerFor",a),l(9),u("routerLink",Y(20,ro,s.slug))}}var ni=(()=>{let m=class m{constructor(o,a,n,c,p,d){this._dialog=o,this._permission=a,this._notificationService=n,this._loadings=c,this._router=p,this._userData=d,this.list_permissions=[],this.list_customer_permissions=[],this.permission_counter=0,this.customer_permission_counter=0,this.employe_matricule="",this.p=1}ngOnInit(){this.employe_matricule=this._userData.getUserData().employe_matricule,this.getPermission()}getPermission(){this._loadings.show_loading(),this._permission.getPermission(this.employe_matricule).subscribe({next:o=>{setTimeout(()=>{this.list_permissions=o.permission,this.permission_counter=this.list_permissions.length,this.list_customer_permissions=o.customer_permission,this.customer_permission_counter=this.list_customer_permissions.length,this._loadings.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}consultePermission(o){this._dialog.open(ei,{panelClass:"fullscreen-dialog",data:o}).afterClosed().subscribe({next:n=>{}})}deletePermission(o){this._dialog.open(ce,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this._permission.deleteDemandePermission(o).subscribe({next:c=>{c.code==200?(this._notificationService.openSnackBarSuccess(c),this.getPermission()):c.code==404&&this._notificationService.openSnackBarError(c)},error:c=>{c.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}})}};m.\u0275fac=function(a){return new(a||m)(g(ne),g(Ke),g(R),g(H),g(W),g(Pe))},m.\u0275cmp=P({type:m,selectors:[["app-ch-employees-permissions"]],standalone:!0,features:[B],decls:72,vars:11,consts:[["beforeMenu","matMenu"],[1,"hero-body"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-body"],[1,"col-xxl-12","col-sm-12","col-12"],["mat-tab-label",""],[1,"table-responsive","mt-4"],[1,"table","table-striped","m-0"],[1,"div","text-center","mt-4"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"example-tab-icon","me-3"],[1,"fw-bolder","fs-5"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],[2,"white-space","unset !important"],[3,"routerLink"],["mat-icon-button","",3,"matTooltip"],[1,"text-center"],["matTooltip","Approuv\xE9e","mat-icon-button",""],["matTooltip","R\xE9jet\xE9e","mat-icon-button",""],["matTooltip","Aucune action","mat-icon-button",""],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"],[1,"text-primary"],[1,"text-red"],[1,"text-warning"],[1,"fw-bolder","fs-6",3,"routerLink"],[1,"fw-bolder","fs-6"],[1,"badge","rounded-pill","shade-light-green","fw-bolder","fs-6"],[1,"badge","rounded-pill","shade-light-red","fw-bolder","fs-6"],[1,"badge","rounded-pill","shade-light-dark","fw-bolder","fs-6"],["mat-menu-item","",3,"routerLink"]],template:function(a,n){a&1&&(e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",3)(7,"div",7)(8,"mat-tab-group")(9,"mat-tab"),w(10,lo,7,1,"ng-template",8),e(11,"div",9)(12,"table",10)(13,"thead")(14,"tr")(15,"th"),i(16,"#ID"),t(),e(17,"th"),i(18,"Motif"),t(),e(19,"th"),i(20,"Auteur"),t(),e(21,"th"),i(22,"Fonction"),t(),e(23,"th"),i(24,"Service"),t(),e(25,"th"),i(26,"Consultation"),t(),e(27,"th"),i(28,"D\xE9cision"),t(),e(29,"th"),i(30,"Date de publication"),t(),e(31,"th"),i(32,"Actions"),t()()(),e(33,"tbody"),V(34,po,39,23,"tr",null,F),D(36,"paginate"),t()()(),e(37,"div",11)(38,"pagination-controls",12),x("pageChange",function(p){return n.p=p}),t()()(),e(39,"mat-tab"),w(40,uo,7,1,"ng-template",8),e(41,"div",9)(42,"table",10)(43,"thead")(44,"tr")(45,"th"),i(46,"#ID"),t(),e(47,"th"),i(48,"Motif"),t(),e(49,"th"),i(50,"Auteur"),t(),e(51,"th"),i(52,"Fonction"),t(),e(53,"th"),i(54,"Service"),t(),e(55,"th"),i(56,"Consultation"),t(),e(57,"th"),i(58,"D\xE9cision"),t(),e(59,"th"),i(60,"Date de publication"),t(),e(61,"th"),i(62,"Actions"),t()()(),e(63,"tbody"),V(64,go,44,22,"tr",null,F),D(66,"paginate"),t()()(),e(67,"div",11)(68,"pagination-controls",12),x("pageChange",function(p){return n.p=p}),t()()()()()()()()()()()(),e(69,"ngx-spinner",13)(70,"p",14),i(71," Chargement en cours... "),t()()),a&2&&(l(34),L(k(36,1,n.list_permissions,Y(7,ti,n.p))),l(30),L(k(66,4,n.list_customer_permissions,Y(9,ti,n.p))),l(5),u("fullScreen",!0))},dependencies:[z,G,A,re,ae,le,N,fe,se,Oe,He,Ue,he,U,me,de,O,ee,_t,j,xe]});let r=m;return r})();var oi=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=P({type:m,selectors:[["app-ch-edit-conges"]],standalone:!0,features:[B],decls:2,vars:0,template:function(a,n){a&1&&(e(0,"p"),i(1,"ch-edit-conges works!"),t())}});let r=m;return r})();function vo(r,m){if(r&1){let s=T();e(0,"div",30)(1,"mat-form-field",16)(2,"mat-label"),i(3,"Date de la permission"),t(),e(4,"input",38),M("ngModelChange",function(a){_(s);let n=v();return b(n.date_permission,a)||(n.date_permission=a),f(a)}),t(),C(5,"mat-datepicker-toggle",39)(6,"mat-datepicker",null,0),t()()}if(r&2){let s=I(7),o=v();l(4),y("ngModel",o.date_permission),u("matDatepicker",s),l(),u("for",s)}}function xo(r,m){if(r&1){let s=T();e(0,"div",31)(1,"mat-form-field",16)(2,"span",40),i(3," Heure d\xE9but "),t(),e(4,"input",41),M("ngModelChange",function(a){_(s);let n=v();return b(n.hour_start,a)||(n.hour_start=a),f(a)}),t(),C(5,"ngx-mat-timepicker",null,1),e(7,"mat-icon",42),x("click",function(){_(s);let a=I(6);return f(a.open())}),i(8," watch_later "),t()()()}if(r&2){let s=I(6),o=v();l(4),u("ngxMatTimepicker",s),y("ngModel",o.hour_start),u("format",24)}}function Eo(r,m){if(r&1){let s=T();e(0,"div",31)(1,"mat-form-field",16)(2,"span",40),i(3," Heure fin "),t(),e(4,"input",41),M("ngModelChange",function(a){_(s);let n=v();return b(n.hour_end,a)||(n.hour_end=a),f(a)}),t(),C(5,"ngx-mat-timepicker",null,2),e(7,"mat-icon",42),x("click",function(){_(s);let a=I(6);return f(a.open())}),i(8," watch_later "),t()()()}if(r&2){let s=I(6),o=v();l(4),u("ngxMatTimepicker",s),y("ngModel",o.hour_end),u("format",24)}}function So(r,m){if(r&1){let s=T();e(0,"div",32)(1,"mat-form-field",16)(2,"mat-label"),i(3,"Date d\xE9but de la permission"),t(),e(4,"input",38),M("ngModelChange",function(a){_(s);let n=v();return b(n.date_start,a)||(n.date_start=a),f(a)}),t(),C(5,"mat-datepicker-toggle",39)(6,"mat-datepicker",null,3),t()()}if(r&2){let s=I(7),o=v();l(4),y("ngModel",o.date_start),u("matDatepicker",s),l(),u("for",s)}}function Co(r,m){if(r&1){let s=T();e(0,"div",32)(1,"mat-form-field",16)(2,"mat-label"),i(3,"Date fin de la permission"),t(),e(4,"input",43),M("ngModelChange",function(a){_(s);let n=v();return b(n.date_end,a)||(n.date_end=a),f(a)}),t(),C(5,"mat-datepicker-toggle",39)(6,"mat-datepicker",null,4),t()()}if(r&2){let s=I(7),o=v();l(4),y("ngModel",o.date_end),u("matDatepicker",s),l(),u("for",s)}}function yo(r,m){if(r&1){let s=T();e(0,"div",33)(1,"h1",25),i(2,"Joindre une pi\xE8ce justificative"),t(),e(3,"mat-radio-group",26),x("change",function(a){_(s);let n=v();return f(n.radioChange(a))}),e(4,"mat-radio-button",44),i(5,"OUI"),t(),e(6,"mat-radio-button",45),i(7,"NON"),t()()()}}function bo(r,m){if(r&1){let s=T();e(0,"div",34)(1,"div",33)(2,"label",46),i(3,"Joindre une pi\xE8ce "),e(4,"code"),i(5,"*"),t()(),e(6,"input",47),x("change",function(a){_(s);let n=v();return f(n.uploadFile(a))}),t()()()}}function Mo(r,m){if(r&1){let s=T();e(0,"div",35)(1,"div",48)(2,"button",49),x("click",function(){_(s);let a=v();return f(a.updatePermission())}),e(3,"mat-icon"),i(4,"save"),t(),i(5," Sauvegarder la modification "),t()()()}}var ai=(()=>{let m=class m{constructor(o,a,n,c,p,d,Ce){this._dialog=o,this._permission=a,this._notificationService=n,this._loading=c,this._router=p,this._activatedRoute=d,this._userData=Ce,this.user_name="",this.user_fonction="",this.user_service="",this.motif="",this.old_assignment_file="",this.is_choose="",this.old_date="",this.selectedDureeOption="",this.duration_is_hour=!1,this.date_permission=new Date,this.duration_is_date=!1,this.old_date_stard=new Date,this.date_end=new Date,this.permission_ref="",this.type_duration="",this.fonction="",this.service="",this.permission_start="",this.permission_end="",this.duree_permission=""}ngOnInit(){}PermissionDurationChange(o){let a=o.value;a=="hour"?(this.duration_is_hour=!0,this.duration_is_date=!1,this.type_duration=a):a=="date"?(this.duration_is_date=!0,this.duration_is_hour=!1,this.type_duration=a):(this.duration_is_date=!1,this.duration_is_hour=!1)}checkedPermissionDurationChange(o){o=="hour"?(this.duration_is_hour=!0,this.duration_is_date=!1,this.type_duration=this.type_duration):o=="date"?(this.duration_is_date=!0,this.duration_is_hour=!1,this.type_duration=this.type_duration):(this.duration_is_date=!1,this.duration_is_hour=!1)}getCurrentPermissionInfo(){let o=this._activatedRoute.snapshot.paramMap.get("slug");this._permission.editDemandePermission(o).subscribe({next:a=>{this.user_name=a.customer_name,this.user_fonction=a.fonction,this.user_service=a.service,this.motif=a.motif,this.date_permission=new Date(a.date_permission),this.old_assignment_file=a.permission_file,this.user_id=a.customer_id,this.permission_ref=a.permission_ref,this.fonction=a.fonction,this.service=a.service,this.duree_permission=a.duree_permission,this.motif=a.motif,this.type_duration=a.type_duration,this.type_duration=="hour"&&(this.hour_start=a.permission_start,this.hour_end=a.permission_end),this.type_duration=="date"&&(this.date_start=new Date(a.permission_start),this.date_end=new Date(a.permission_end)),this.checkedPermissionDurationChange(this.type_duration)},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}updatePermission(){this._loading.show_loading();let o=this._activatedRoute.snapshot.paramMap.get("slug"),a=this.calculateDifferenceBetweenTwoHours(this.hour_start,this.hour_end),n=this.calculateDifferenceBetweenDates(this.date_start,this.date_end);console.log(a,n);let c=new FormData;c.append("customer_name",this.user_name),c.append("fonction",this.user_fonction),c.append("service",this.user_service),c.append("customer_id",this.user_id),c.append("type_duration",this.type_duration),c.append("date_permission",this.formatDate(this.date_permission).toString()),a==null?c.append("duree_permission",n):c.append("duree_permission",a),a==null?(c.append("permission_end",this.formatDate(this.date_end).toString()),c.append("permission_start",this.formatDate(this.date_start).toString())):n==null&&(c.append("permission_end",this.hour_end),c.append("permission_start",this.hour_start)),c.append("motif",this.motif),c.append("permission_file",this.assigment_file==null?"":this.assigment_file),this._permission.updateDemandePermission(o,c).subscribe({next:p=>{console.log(p),p.code==200?(this._notificationService.openSnackBarSuccess(p),setTimeout(()=>{this._loading.hide_loading(),this._router.navigateByUrl("/ch.permissions")},2e3)):(p.code==300||p.code==500||p.code==302)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(p))},error:p=>{p.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}uploadFile(o){this.assigment_file=o.target.files[0]}radioChange(o){this.is_choose=o.value}onChange_dead_line_assigment(o){this.dead_line_assigment=o.value}formatDate(o){let a=o.toLocaleString("default",{year:"numeric"}),n=o.toLocaleString("default",{month:"2-digit"}),c=o.toLocaleString("default",{day:"2-digit"});return a+"-"+n+"-"+c}changeFile(){this.old_assignment_file=null}calculateDifferenceBetweenTwoHours(o,a){if(o!=null&&a!=null){let[n,c]=o.split(":").map(Number),[p,d]=a.split(":").map(Number),Ce=p*60+d-(n*60+c),We=Math.floor(Ce/60),je=Ce%60;return We+"h"+(je==0?"00":je)}else return}calculateDifferenceBetweenDates(o,a){if(o!=null&&a!=null)return Math.abs(a.getTime()-o.getTime())/(1e3*3600*24)+"Jour(s)"}};m.\u0275fac=function(a){return new(a||m)(g(ne),g(Ke),g(R),g(H),g(W),g(Ae),g(Pe))},m.\u0275cmp=P({type:m,selectors:[["app-ch-edit-permissions"]],standalone:!0,features:[B],decls:54,vars:15,consts:[["Date_permission",""],["pickerStart",""],["pickerEnd",""],["Date_start",""],["Date_end",""],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","gx-3","justify-content-center","mb-3"],[1,"col-12"],[1,"col-lg-4","col-md-4","col-sm-12"],["appearance","outline"],["readonly","","matInput","","placeholder","Nom compl\xE8te",3,"ngModelChange","ngModel"],["readonly","","matInput","","placeholder","Votre fonction",3,"ngModelChange","ngModel"],["readonly","","matInput","","placeholder","Votre service",3,"ngModelChange","ngModel"],[1,"col-lg-12","mb-3"],["appearance","outline",1,"example-full-width"],["rows","3","matInput","","placeholder","Ex. Le motif de la permission...",3,"ngModelChange","ngModel"],[1,"row","gx-3","mb-3"],[1,"col-lg-12","col-md-12","text-center","mb-2"],[1,"text-center","mb-3"],["aria-label","Select an option",3,"change"],["value","hour",3,"checked"],["value","date",3,"checked"],[1,"row","justify-content-center"],[1,"col-lg-3","col-md-6"],[1,"col-lg-3"],[1,"col-lg-4","col-md-6"],[1,"col-lg-12","col-md-12","text-center"],[1,"row","gx-3","mb-4"],[1,"row","gx-3","mb-3","justify-content-center"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],["matInput","","placeholder","00/00/0000",3,"ngModelChange","ngModel","matDatepicker"],["matIconSuffix","",3,"for"],["matPrefix","",1,"mx-2"],["matInput","","placeholder","00:00",3,"ngModelChange","ngxMatTimepicker","ngModel","format"],["matSuffix","",3,"click"],["matInput","",3,"ngModelChange","ngModel","matDatepicker"],["value","OUI"],["value","NON"],["for","formFileLg",1,"form-label"],["id","formFileLg","type","file",1,"form-control","form-control-lg",3,"change"],[1,"col-lg-8","col-md-12","text-center"],["mat-raised-button","","color","primary",1,"default__btn__lg",3,"click"]],template:function(a,n){a&1&&(e(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11),i(7,"Modification de permission"),t()(),e(8,"div",12)(9,"div",13)(10,"div",14)(11,"h1"),i(12,"Formulaire de demande de permission"),t()(),e(13,"div",15)(14,"mat-form-field",16)(15,"mat-label"),i(16,"Nom compl\xE8te"),t(),e(17,"input",17),M("ngModelChange",function(p){return b(n.user_name,p)||(n.user_name=p),p}),t()()(),e(18,"div",15)(19,"mat-form-field",16)(20,"mat-label"),i(21,"Votre fonction"),t(),e(22,"input",18),M("ngModelChange",function(p){return b(n.user_fonction,p)||(n.user_fonction=p),p}),t()()(),e(23,"div",15)(24,"mat-form-field",16)(25,"mat-label"),i(26,"Votre service"),t(),e(27,"input",19),M("ngModelChange",function(p){return b(n.user_service,p)||(n.user_service=p),p}),t()()(),e(28,"div",20)(29,"mat-form-field",21)(30,"mat-label"),i(31,"Le motif de la permission"),t(),e(32,"textarea",22),M("ngModelChange",function(p){return b(n.motif,p)||(n.motif=p),p}),t()()(),e(33,"div",23)(34,"div",24)(35,"h1",25),i(36,"Dur\xE9e de la permission"),t(),e(37,"mat-radio-group",26),x("change",function(p){return n.PermissionDurationChange(p)}),e(38,"mat-radio-button",27),i(39,"En heure"),t(),e(40,"mat-radio-button",28),i(41,"En jours"),t()()(),e(42,"div",29),w(43,vo,8,3,"div",30)(44,xo,9,3,"div",31)(45,Eo,9,3,"div",31)(46,So,8,3,"div",32)(47,Co,8,3,"div",32),t(),w(48,yo,8,0,"div",33),t(),w(49,bo,7,0,"div",34)(50,Mo,6,0,"div",35),t()()()()()()(),e(51,"ngx-spinner",36)(52,"p",37),i(53," Chargement en cours... "),t()()),a&2&&(l(17),y("ngModel",n.user_name),l(5),y("ngModel",n.user_fonction),l(5),y("ngModel",n.user_service),l(5),y("ngModel",n.motif),l(6),u("checked",n.type_duration=="hour"),l(2),u("checked",n.type_duration=="date"),l(3),h(43,n.duration_is_hour==!0?43:-1),l(),h(44,n.duration_is_hour==!0?44:-1),l(),h(45,n.duration_is_hour==!0?45:-1),l(),h(46,n.duration_is_date==!0?46:-1),l(),h(47,n.duration_is_date==!0?47:-1),l(),h(48,n.duration_is_hour==!0||n.duration_is_date==!0?48:-1),l(),h(49,n.is_choose=="OUI"?49:-1),l(),h(50,n.duration_is_hour==!0||n.duration_is_date==!0?50:-1),l(),u("fullScreen",!0))},dependencies:[z,G,A,N,ie,K,Z,Pt,Ee,X,De,ke,Ie,Qe,Ze,U,Xe,ht,gt,O,q,J,Q,j]});let r=m;return r})();var wo=r=>({itemsPerPage:20,currentPage:r}),To=r=>["/ch.detail.employes",r];function Do(r,m){if(r&1){let s=T();e(0,"tr")(1,"td"),i(2),t(),e(3,"td")(4,"div",20)(5,"a",21),C(6,"img",22),t()()(),e(7,"td",23)(8,"p",24),i(9),t()(),e(10,"td",23)(11,"p",24),i(12),t()(),e(13,"td",23)(14,"p",24),i(15),t()(),e(16,"td",23)(17,"p",24),i(18),t()(),e(19,"td",15)(20,"p",24),i(21),D(22,"transformDate"),t()(),e(23,"td",25)(24,"button",26)(25,"mat-icon"),i(26,"more_vert"),t()(),e(27,"mat-menu",27,0)(29,"button",28),x("click",function(){let a=_(s).$implicit,n=v();return f(n.showEmploye(a.slug))}),e(30,"mat-icon"),i(31,"visibility"),t(),i(32," Consulter "),t(),e(33,"button",28),x("click",function(){let a=_(s).$implicit,n=v();return f(n.deleteEmploye(a.slug))}),e(34,"mat-icon"),i(35,"delete"),t(),i(36," Supprimer "),t()()()()}if(r&2){let s=m.$implicit,o=m.$index,a=I(28);l(2),S("#",o+1,""),l(3),u("routerLink",Y(12,To,s.slug)),l(),u("src",s.photo,oe),l(3),S(" ",s.first_name+" "+s.last_name," "),l(3),S(" ",s.adresse_email," "),l(3),S(" ",s.code_autorisation," "),l(3),S(" ",s.code_owners," "),l(3),E(k(22,9,s.created_at,"d MMMM yyyy, \xE0 HH:mm")),l(3),u("matMenuTriggerFor",a)}}var ri=(()=>{let m=class m{constructor(o,a,n,c,p){this._traitement=o,this._notificationService=a,this._loading=n,this._router=c,this._dialog=p,this.list_employe_infos=[],this.p=1}ngOnInit(){this.getEmployesInfoList()}showEmploye(o){this._router.navigate(["/ch.detail.employes",o])}getEmployesInfoList(){this._loading.show_loading(),this._traitement.getEmployeInfoWithStatusZero().subscribe({next:o=>{console.log(o),setTimeout(()=>{this.list_employe_infos=o,this._loading.hide_loading()},1e3)},error:o=>{o.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}openDeleDialog(o){this._dialog.open(ce,{width:"auto"}).afterClosed().subscribe({next:n=>{n=="confirm"&&this.deleteEmploye(o)}})}deleteEmploye(o){this._loading.show_loading(),this._traitement.deleteEmployes(o).subscribe({next:a=>{a.code==200?setTimeout(()=>{this._notificationService.openSnackBarSuccess(a),this._loading.hide_loading(),this.getEmployesInfoList()},1e3):(a.code==302||a.code==300)&&(this._loading.hide_loading(),this._notificationService.openSnackBarError(a))},error:a=>{a.status==401&&(this._notificationService.openSnackBarTokenExpired(),localStorage.clear(),this._router.navigateByUrl("/"))}})}};m.\u0275fac=function(a){return new(a||m)(g($),g(R),g(H),g(W),g(ne))},m.\u0275cmp=P({type:m,selectors:[["app-ch-employees-info-personnelle"]],standalone:!0,features:[B],decls:43,vars:6,consts:[["beforeMenu","matMenu"],[1,"hero-header"],[1,"container-fluid"],[1,"row","gx-3"],[1,"col-xxl-12"],[1,"hero-body"],[1,"row","mt-5","mr-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"card-header"],["mat-button","",1,"text-uppercase","text-white","default__btn__lg"],[1,"text-white"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","m-0"],[1,"text-center"],[1,"mt-4","text-center"],["previousLabel","Pr\xE9c\xE9dent","nextLabel","Suivant",3,"pageChange"],["type","ball-circus","size","large","color","#ef8f01",3,"fullScreen"],[2,"color","#fff","font-size","1.2rem"],[1,"d-flex","align-items-center"],[3,"routerLink"],["alt","Employe photo",1,"img-2x","rounded-5","me-3",3,"src"],[1,"text-center",2,"white-space","unset !important"],[1,"fw-600"],[1,"text-end"],["mat-mini-fab","","color","primary",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"]],template:function(a,n){a&1&&(e(0,"div",1)(1,"div",2)(2,"div",3),C(3,"div",4),t()()(),e(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9)(9,"button",10)(10,"mat-icon",11),i(11,"list"),t(),i(12," Liste des informations des employ\xE9s "),t()(),e(13,"div",12)(14,"div",13)(15,"table",14)(16,"thead")(17,"tr")(18,"th",15),i(19,"#ID"),t(),e(20,"th",15),i(21,"Employ\xE9"),t(),e(22,"th",15),i(23,"Nom & Pr\xE9nom"),t(),e(24,"th",15),i(25,"Adresse e-mail"),t(),e(26,"th",15),i(27,"Code d'autorisation"),t(),e(28,"th",15),i(29,"Responsable d'autorisation"),t(),e(30,"th",15),i(31,"Date de cr\xE9ation"),t(),e(32,"th",15),i(33,"Actions"),t()()(),e(34,"tbody"),V(35,Do,37,14,"tr",null,F),D(37,"paginate"),t()(),e(38,"div",16)(39,"pagination-controls",17),x("pageChange",function(p){return n.p=p}),t()()()()()()()(),e(40,"ngx-spinner",18)(41,"p",19),i(42," Chargement en cours... "),t()()),a&2&&(l(35),L(k(37,1,n.list_employe_infos,Y(4,wo,n.p))),l(5),u("fullScreen",!0))},dependencies:[z,G,A,re,ae,le,N,ie,se,U,me,de,O,ee,j,xe]});let r=m;return r})();var ko=[{path:"capital-humain",component:Wt,data:{title:"Capital humain"}},{path:"ch.employees-infos",component:ri,data:{title:"Liste des information des employes"}},{path:"ch.employees",component:Nt,data:{title:"Liste employes"}},{path:"ch.detail.employes/:slug",component:Ht,data:{title:"D\xE9tail employes"}},{path:"ch.create-pointing",component:At,data:{title:"Nouveau pointage"}},{path:"ch.pointages",component:Rt,data:{title:"Liste pr\xE9sences"}},{path:"ch.faire-demande",component:jt,data:{title:"Faire une demande"}},{path:"ch.conges",component:Gt,data:{title:"Liste des conges"}},{path:"ch.edit-conges/:slug",component:oi,data:{title:"Modifier un cong\xE9"}},{path:"ch.permissions",component:ni,data:{title:"Liste permissions"}},{path:"ch.edit-permissions/:slug",component:ai,data:{title:"Modifier permission"}},{path:"ch.dossiers-employes",component:Zt,data:{title:"Liste des dossiers"}},{path:"ch.detail-dossiers/:dossiers_code/:slug",component:Xt,data:{title:"Detail du dossier"}},{path:"ch.salary",component:qt,data:{title:"Liste salaire des emply\xE9s"}},{path:"ch.evaluations",component:Jt,data:{title:"Evaluation des employes"}}],li=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275mod=ot({type:m}),m.\u0275inj=nt({imports:[j.forChild(ko),j]});let r=m;return r})();var yl=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275mod=ot({type:m}),m.\u0275inj=nt({imports:[Me,li]});let r=m;return r})();export{yl as CapitalHumainManagerLayoutModule};
